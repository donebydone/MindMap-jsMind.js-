/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_components_Map_MindMap_tsx"],{

/***/ "(app-pages-browser)/./node_modules/jsmind/es6/jsmind.draggable-node.js":
/*!**********************************************************!*\
  !*** ./node_modules/jsmind/es6/jsmind.draggable-node.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/**\n* @license BSD-3-Clause\n* @copyright 2014-2023 hizzgdev@163.com\n*\n* Project Home:\n*   https://github.com/hizzgdev/jsmind/\n*/\n!function(t,e){ true?e(__webpack_require__(/*! jsmind */ \"(app-pages-browser)/./node_modules/jsmind/es6/jsmind.js\")):0}(this,(function(t){\"use strict\";function e(t){return t&&\"object\"==typeof t&&\"default\"in t?t:{default:t}}var i=e(t);if(!i.default)throw new Error(\"jsMind is not defined\");const s=i.default.$,o=\"getSelection\"in s.w?function(){s.w.getSelection().removeAllRanges()}:function(){s.d.selection.empty()},n={line_width:5,line_color:\"rgba(0,0,0,0.3)\",line_color_invalid:\"rgba(255,51,51,0.6)\",lookup_delay:200,lookup_interval:100,scrolling_trigger_width:20,scrolling_step_length:10,shadow_node_class_name:\"jsmind-draggable-shadow-node\"};class h{constructor(t,e){var s={};i.default.util.json.merge(s,n),i.default.util.json.merge(s,e),this.version=\"0.4.0\",this.jm=t,this.options=s,this.e_canvas=null,this.canvas_ctx=null,this.shadow=null,this.shadow_p_x=0,this.shadow_p_y=0,this.shadow_w=0,this.shadow_h=0,this.active_node=null,this.target_node=null,this.target_direct=null,this.client_w=0,this.client_h=0,this.offset_x=0,this.offset_y=0,this.hlookup_delay=0,this.hlookup_timer=0,this.capture=!1,this.moved=!1,this.canvas_draggable=t.get_view_draggable(),this.view_panel=t.view.e_panel,this.view_panel_rect=null}init(){this.create_canvas(),this.create_shadow(),this.event_bind()}resize(){this.jm.view.e_nodes.appendChild(this.shadow),this.e_canvas.width=this.jm.view.size.w,this.e_canvas.height=this.jm.view.size.h}create_canvas(){var t=s.c(\"canvas\");this.jm.view.e_panel.appendChild(t);var e=t.getContext(\"2d\");this.e_canvas=t,this.canvas_ctx=e}create_shadow(){var t=s.c(\"jmnode\");t.style.visibility=\"hidden\",t.style.zIndex=\"3\",t.style.cursor=\"move\",t.style.opacity=\"0.7\",t.className=this.options.shadow_node_class_name,this.shadow=t}reset_shadow(t){var e=this.shadow.style;this.shadow.innerHTML=t.innerHTML,e.left=t.style.left,e.top=t.style.top,e.width=t.style.width,e.height=t.style.height,e.backgroundImage=t.style.backgroundImage,e.backgroundSize=t.style.backgroundSize,e.transform=t.style.transform,this.shadow_w=this.shadow.clientWidth,this.shadow_h=this.shadow.clientHeight}show_shadow(){this.moved||(this.shadow.style.visibility=\"visible\")}hide_shadow(){this.shadow.style.visibility=\"hidden\"}magnet_shadow(t,e,i){this.canvas_ctx.lineWidth=this.options.line_width,this.canvas_ctx.strokeStyle=i?this.options.line_color_invalid:this.options.line_color,this.canvas_ctx.lineCap=\"round\",this.clear_lines(),this.canvas_lineto(t.x,t.y,e.x,e.y)}clear_lines(){this.canvas_ctx.clearRect(0,0,this.jm.view.size.w,this.jm.view.size.h)}canvas_lineto(t,e,i,s){this.canvas_ctx.beginPath(),this.canvas_ctx.moveTo(t,e),this.canvas_ctx.lineTo(i,s),this.canvas_ctx.stroke()}event_bind(){var t=this,e=this.jm.view.container;s.on(e,\"mousedown\",(function(e){0===e.button&&t.dragstart.call(t,e)})),s.on(e,\"mousemove\",(function(e){0===e.movementX&&0===e.movementY||t.drag.call(t,e)})),s.on(e,\"mouseup\",(function(e){t.dragend.call(t,e)})),s.on(e,\"touchstart\",(function(e){t.dragstart.call(t,e)})),s.on(e,\"touchmove\",(function(e){t.drag.call(t,e)})),s.on(e,\"touchend\",(function(e){t.dragend.call(t,e)}))}dragstart(t){if(this.jm.get_editable()&&!this.capture){this.active_node=null,this.view_draggable=this.jm.get_view_draggable();var e=this.jm.view,i=this.find_node_element(t.target);if(i){this.view_draggable&&this.jm.disable_view_draggable();var o=e.get_binded_nodeid(i);if(o){var n=this.jm.get_node(o);if(!n.isroot){this.reset_shadow(i),this.view_panel_rect=this.view_panel.getBoundingClientRect(),this.active_node=n,this.offset_x=(t.clientX||t.touches[0].clientX)/e.zoom_current-i.offsetLeft,this.offset_y=(t.clientY||t.touches[0].clientY)/e.zoom_current-i.offsetTop,this.client_hw=Math.floor(i.clientWidth/2),this.client_hh=Math.floor(i.clientHeight/2),0!=this.hlookup_delay&&s.w.clearTimeout(this.hlookup_delay),0!=this.hlookup_timer&&s.w.clearInterval(this.hlookup_timer);var h=this;this.hlookup_delay=s.w.setTimeout((function(){h.hlookup_delay=0,h.hlookup_timer=s.w.setInterval((function(){h.lookup_target_node.call(h)}),h.options.lookup_interval)}),this.options.lookup_delay),h.capture=!0}}}}}drag(t){if(this.jm.get_editable()&&this.capture){t.preventDefault(),this.show_shadow(),this.moved=!0,o();var e=this.jm.view,i=(t.clientX||t.touches[0].clientX)/e.zoom_current-this.offset_x,s=(t.clientY||t.touches[0].clientY)/e.zoom_current-this.offset_y;t.clientY-this.view_panel_rect.top<this.options.scrolling_trigger_width&&this.view_panel.scrollTop>this.options.scrolling_step_length?(this.view_panel.scrollBy(0,-this.options.scrolling_step_length),this.offset_y+=this.options.scrolling_step_length/e.zoom_current):this.view_panel_rect.bottom-t.clientY<this.options.scrolling_trigger_width&&this.view_panel.scrollTop<this.view_panel.scrollHeight-this.view_panel_rect.height-this.options.scrolling_step_length&&(this.view_panel.scrollBy(0,this.options.scrolling_step_length),this.offset_y-=this.options.scrolling_step_length/e.zoom_current),t.clientX-this.view_panel_rect.left<this.options.scrolling_trigger_width&&this.view_panel.scrollLeft>this.options.scrolling_step_length?(this.view_panel.scrollBy(-this.options.scrolling_step_length,0),this.offset_x+=this.options.scrolling_step_length/e.zoom_current):this.view_panel_rect.right-t.clientX<this.options.scrolling_trigger_width&&this.view_panel.scrollLeft<this.view_panel.scrollWidth-this.view_panel_rect.width-this.options.scrolling_step_length&&(this.view_panel.scrollBy(this.options.scrolling_step_length,0),this.offset_x-=this.options.scrolling_step_length/e.zoom_current),this.shadow.style.left=i+\"px\",this.shadow.style.top=s+\"px\",o()}}dragend(t){if(this.jm.get_editable()){if(this.view_draggable&&this.jm.enable_view_draggable(),this.capture){if(0!=this.hlookup_delay&&(s.w.clearTimeout(this.hlookup_delay),this.hlookup_delay=0,this.clear_lines()),0!=this.hlookup_timer&&(s.w.clearInterval(this.hlookup_timer),this.hlookup_timer=0,this.clear_lines()),this.moved){var e=this.active_node,i=this.target_node,o=this.target_direct;this.move_node(e,i,o)}this.hide_shadow()}this.view_panel_rect=null,this.moved=!1,this.capture=!1}}find_node_element(t){return t===this.jm.view.e_nodes||t===this.jm.view.e_panel||t===this.jm.view.container?null:\"jmnode\"===t.tagName.toLowerCase()?t:this.find_node_element(t.parentNode)}lookup_target_node(){let t=this.shadow.offsetLeft,e=this.shadow.offsetTop;if(t===this.shadow_p_x&&e===this.shadow_p_y)return;this.shadow_p_x=t,this.shadow_p_y=e;let s=this.shadow_p_x+this.shadow_w/2>=this.get_root_x()?i.default.direction.right:i.default.direction.left,o=this.lookup_overlapping_node_parent(s)||this.lookup_close_node(s);if(o){let t=this.calc_point_of_node(o,s),e=i.default.node.inherited(this.active_node,o);this.magnet_shadow(t.sp,t.np,e),this.target_node=o,this.target_direct=s}}get_root_x(){let t=this.jm.get_root(),e=t.get_location(),i=t.get_size();return e.x+i.w/2}lookup_overlapping_node_parent(t){let e=this.shadow.getBoundingClientRect(),i=e.x+e.width*(1-t)/2,s=(this.jm.options.layout.hspace+this.jm.options.layout.pspace)*t,o=e.height,n=[[i,e.y],[i,e.y+o/2],[i,e.y+o],[i+s/2,e.y],[i+s/2,e.y+o/2],[i+s/2,e.y+o],[i+s,e.y],[i+s,e.y+o/2],[i+s,e.y+o]];for(const t of n){let e=this.lookup_node_parent_by_location(t[0],t[1]);if(e)return e}}lookup_node_parent_by_location(t,e){return s.d.elementsFromPoint(t,e).filter((t=>\"JMNODE\"===t.tagName&&t.className!==this.options.shadow_node_class_name)).map((t=>this.jm.view.get_binded_nodeid(t))).map((t=>t&&this.jm.mind.nodes[t])).map((t=>t&&t.parent)).find((t=>t))}lookup_close_node(t){return Object.values(this.jm.mind.nodes).filter((e=>e.direction==t||e.isroot)).filter((t=>this.jm.layout.is_visible(t))).filter((e=>this.shadow_on_target_side(e,t))).map((e=>({node:e,distance:this.shadow_to_node(e,t)}))).reduce(((t,e)=>t.distance<e.distance?t:e),{node:this.jm.get_root(),distance:Number.MAX_VALUE}).node}shadow_on_target_side(t,e){return e==i.default.direction.right&&this.shadow_to_right_of_node(t)>0||e==i.default.direction.left&&this.shadow_to_left_of_node(t)>0}shadow_to_right_of_node(t){return this.shadow_p_x-t.get_location().x-t.get_size().w}shadow_to_left_of_node(t){return t.get_location().x-this.shadow_p_x-this.shadow_w}shadow_to_base_line_of_node(t){return this.shadow_p_y+this.shadow_h/2-t.get_location().y-t.get_size().h/2}shadow_to_node(t,e){return(e===i.default.direction.right?Math.abs(this.shadow_to_right_of_node(t)):Math.abs(this.shadow_to_left_of_node(t)))+Math.abs(this.shadow_to_base_line_of_node(t))}calc_point_of_node(t,e){let i=t.get_size(),s=t.get_location(),o=t.isroot?s.x+i.w/2:s.x+i.w*(1+e)/2+this.options.line_width*e,n=s.y+i.h/2;return{sp:{x:this.shadow_p_x+this.shadow_w*(1-e)/2-this.options.line_width*e,y:this.shadow_p_y+this.shadow_h/2},np:{x:o,y:n}}}move_node(t,e,s){var o=this.shadow.offsetTop;if(e&&t&&!i.default.node.inherited(t,e)){for(var n=e.children,h=n.length,l=null,a=Number.MAX_VALUE,_=null,d=\"_last_\";h--;)if((l=n[h]).direction==s&&l.id!=t.id){var r=l.get_location().y-o;r>0&&r<a&&(a=r,_=l,d=\"_first_\")}_&&(d=_.id),this.jm.move_node(t.id,d,e.id,s)}this.active_node=null,this.target_node=null,this.target_direct=null}jm_event_handle(t,e){t===i.default.event_type.resize&&this.resize()}}var l=new i.default.plugin(\"draggable_node\",(function(t,e){var i=new h(t,e);i.init(),t.add_event_listener((function(t,e){i.jm_event_handle.call(i,t,e)}))}));i.default.register_plugin(l)}));\n//# sourceMappingURL=jsmind.draggable-node.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qc21pbmQvZXM2L2pzbWluZC5kcmFnZ2FibGUtbm9kZS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsS0FBb0QsR0FBRyxtQkFBTyxDQUFDLHVFQUFRLEdBQUcsQ0FBMEgsQ0FBQyxtQkFBbUIsYUFBYSxjQUFjLCtDQUErQyxXQUFXLFdBQVcsdURBQXVELHNEQUFzRCxxQ0FBcUMsWUFBWSxzQkFBc0IsSUFBSSxtT0FBbU8sUUFBUSxpQkFBaUIsU0FBUywyaEJBQTJoQixPQUFPLDREQUE0RCxTQUFTLCtIQUErSCxnQkFBZ0Isb0JBQW9CLG9DQUFvQyx5QkFBeUIsa0NBQWtDLGdCQUFnQixvQkFBb0IseUpBQXlKLGdCQUFnQix3QkFBd0IsbVRBQW1ULGNBQWMscURBQXFELGNBQWMsc0NBQXNDLHFCQUFxQiwrTkFBK04sY0FBYyx1RUFBdUUsdUJBQXVCLDZHQUE2RyxhQUFhLG9DQUFvQyxnQ0FBZ0Msb0NBQW9DLG1DQUFtQyxtREFBbUQsaUNBQWlDLG9CQUFvQixvQ0FBb0Msc0JBQXNCLG1DQUFtQyxpQkFBaUIsa0NBQWtDLG9CQUFvQixHQUFHLGFBQWEsMENBQTBDLHVFQUF1RSxzREFBc0QsTUFBTSxzREFBc0QsNkJBQTZCLE1BQU0sMEJBQTBCLGNBQWMsNGNBQTRjLFdBQVcsOENBQThDLDhEQUE4RCw2QkFBNkIsNkJBQTZCLDhDQUE4QyxRQUFRLHlDQUF5Qyx3REFBd0QscUpBQXFKLDR0Q0FBNHRDLFdBQVcsMkJBQTJCLHNFQUFzRSw0TkFBNE4sK0RBQStELHNCQUFzQixtQkFBbUIseURBQXlELHFCQUFxQixxS0FBcUsscUJBQXFCLHFEQUFxRCxtREFBbUQsb0NBQW9DLGdMQUFnTCxNQUFNLGtGQUFrRix5RUFBeUUsYUFBYSwyREFBMkQsaUJBQWlCLGtDQUFrQyw2UEFBNlAsa0JBQWtCLHFEQUFxRCxlQUFlLG9DQUFvQyx5T0FBeU8scUJBQXFCLGdMQUFnTCx5Q0FBeUMsK0NBQStDLGtEQUFrRCxPQUFPLDJCQUEyQixzSUFBc0ksMkJBQTJCLHlEQUF5RCwwQkFBMEIsd0RBQXdELCtCQUErQiwyRUFBMkUsb0JBQW9CLHVLQUF1Syx3QkFBd0IsaUhBQWlILE9BQU8sSUFBSSxvR0FBb0csS0FBSyxVQUFVLGlCQUFpQiw0QkFBNEIseUNBQXlDLDRFQUE0RSxJQUFJLHVDQUF1QywyQkFBMkIsZ0NBQWdDLDZDQUE2QyxvRUFBb0UscUJBQXFCLGdEQUFnRCwyREFBMkQsaUJBQWlCLDZDQUE2Qyw4QkFBOEIsR0FBRyxHQUFHLDZCQUE2QjtBQUNqdVMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2pzbWluZC9lczYvanNtaW5kLmRyYWdnYWJsZS1ub2RlLmpzPzAwNmEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEBsaWNlbnNlIEJTRC0zLUNsYXVzZVxuKiBAY29weXJpZ2h0IDIwMTQtMjAyMyBoaXp6Z2RldkAxNjMuY29tXG4qXG4qIFByb2plY3QgSG9tZTpcbiogICBodHRwczovL2dpdGh1Yi5jb20vaGl6emdkZXYvanNtaW5kL1xuKi9cbiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP2UocmVxdWlyZShcImpzbWluZFwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqc21pbmRcIl0sZSk6ZSgodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLmpzTWluZCl9KHRoaXMsKGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUodCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImRlZmF1bHRcImluIHQ/dDp7ZGVmYXVsdDp0fX12YXIgaT1lKHQpO2lmKCFpLmRlZmF1bHQpdGhyb3cgbmV3IEVycm9yKFwianNNaW5kIGlzIG5vdCBkZWZpbmVkXCIpO2NvbnN0IHM9aS5kZWZhdWx0LiQsbz1cImdldFNlbGVjdGlvblwiaW4gcy53P2Z1bmN0aW9uKCl7cy53LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpfTpmdW5jdGlvbigpe3MuZC5zZWxlY3Rpb24uZW1wdHkoKX0sbj17bGluZV93aWR0aDo1LGxpbmVfY29sb3I6XCJyZ2JhKDAsMCwwLDAuMylcIixsaW5lX2NvbG9yX2ludmFsaWQ6XCJyZ2JhKDI1NSw1MSw1MSwwLjYpXCIsbG9va3VwX2RlbGF5OjIwMCxsb29rdXBfaW50ZXJ2YWw6MTAwLHNjcm9sbGluZ190cmlnZ2VyX3dpZHRoOjIwLHNjcm9sbGluZ19zdGVwX2xlbmd0aDoxMCxzaGFkb3dfbm9kZV9jbGFzc19uYW1lOlwianNtaW5kLWRyYWdnYWJsZS1zaGFkb3ctbm9kZVwifTtjbGFzcyBoe2NvbnN0cnVjdG9yKHQsZSl7dmFyIHM9e307aS5kZWZhdWx0LnV0aWwuanNvbi5tZXJnZShzLG4pLGkuZGVmYXVsdC51dGlsLmpzb24ubWVyZ2UocyxlKSx0aGlzLnZlcnNpb249XCIwLjQuMFwiLHRoaXMuam09dCx0aGlzLm9wdGlvbnM9cyx0aGlzLmVfY2FudmFzPW51bGwsdGhpcy5jYW52YXNfY3R4PW51bGwsdGhpcy5zaGFkb3c9bnVsbCx0aGlzLnNoYWRvd19wX3g9MCx0aGlzLnNoYWRvd19wX3k9MCx0aGlzLnNoYWRvd193PTAsdGhpcy5zaGFkb3dfaD0wLHRoaXMuYWN0aXZlX25vZGU9bnVsbCx0aGlzLnRhcmdldF9ub2RlPW51bGwsdGhpcy50YXJnZXRfZGlyZWN0PW51bGwsdGhpcy5jbGllbnRfdz0wLHRoaXMuY2xpZW50X2g9MCx0aGlzLm9mZnNldF94PTAsdGhpcy5vZmZzZXRfeT0wLHRoaXMuaGxvb2t1cF9kZWxheT0wLHRoaXMuaGxvb2t1cF90aW1lcj0wLHRoaXMuY2FwdHVyZT0hMSx0aGlzLm1vdmVkPSExLHRoaXMuY2FudmFzX2RyYWdnYWJsZT10LmdldF92aWV3X2RyYWdnYWJsZSgpLHRoaXMudmlld19wYW5lbD10LnZpZXcuZV9wYW5lbCx0aGlzLnZpZXdfcGFuZWxfcmVjdD1udWxsfWluaXQoKXt0aGlzLmNyZWF0ZV9jYW52YXMoKSx0aGlzLmNyZWF0ZV9zaGFkb3coKSx0aGlzLmV2ZW50X2JpbmQoKX1yZXNpemUoKXt0aGlzLmptLnZpZXcuZV9ub2Rlcy5hcHBlbmRDaGlsZCh0aGlzLnNoYWRvdyksdGhpcy5lX2NhbnZhcy53aWR0aD10aGlzLmptLnZpZXcuc2l6ZS53LHRoaXMuZV9jYW52YXMuaGVpZ2h0PXRoaXMuam0udmlldy5zaXplLmh9Y3JlYXRlX2NhbnZhcygpe3ZhciB0PXMuYyhcImNhbnZhc1wiKTt0aGlzLmptLnZpZXcuZV9wYW5lbC5hcHBlbmRDaGlsZCh0KTt2YXIgZT10LmdldENvbnRleHQoXCIyZFwiKTt0aGlzLmVfY2FudmFzPXQsdGhpcy5jYW52YXNfY3R4PWV9Y3JlYXRlX3NoYWRvdygpe3ZhciB0PXMuYyhcImptbm9kZVwiKTt0LnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0LnN0eWxlLnpJbmRleD1cIjNcIix0LnN0eWxlLmN1cnNvcj1cIm1vdmVcIix0LnN0eWxlLm9wYWNpdHk9XCIwLjdcIix0LmNsYXNzTmFtZT10aGlzLm9wdGlvbnMuc2hhZG93X25vZGVfY2xhc3NfbmFtZSx0aGlzLnNoYWRvdz10fXJlc2V0X3NoYWRvdyh0KXt2YXIgZT10aGlzLnNoYWRvdy5zdHlsZTt0aGlzLnNoYWRvdy5pbm5lckhUTUw9dC5pbm5lckhUTUwsZS5sZWZ0PXQuc3R5bGUubGVmdCxlLnRvcD10LnN0eWxlLnRvcCxlLndpZHRoPXQuc3R5bGUud2lkdGgsZS5oZWlnaHQ9dC5zdHlsZS5oZWlnaHQsZS5iYWNrZ3JvdW5kSW1hZ2U9dC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UsZS5iYWNrZ3JvdW5kU2l6ZT10LnN0eWxlLmJhY2tncm91bmRTaXplLGUudHJhbnNmb3JtPXQuc3R5bGUudHJhbnNmb3JtLHRoaXMuc2hhZG93X3c9dGhpcy5zaGFkb3cuY2xpZW50V2lkdGgsdGhpcy5zaGFkb3dfaD10aGlzLnNoYWRvdy5jbGllbnRIZWlnaHR9c2hvd19zaGFkb3coKXt0aGlzLm1vdmVkfHwodGhpcy5zaGFkb3cuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIil9aGlkZV9zaGFkb3coKXt0aGlzLnNoYWRvdy5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCJ9bWFnbmV0X3NoYWRvdyh0LGUsaSl7dGhpcy5jYW52YXNfY3R4LmxpbmVXaWR0aD10aGlzLm9wdGlvbnMubGluZV93aWR0aCx0aGlzLmNhbnZhc19jdHguc3Ryb2tlU3R5bGU9aT90aGlzLm9wdGlvbnMubGluZV9jb2xvcl9pbnZhbGlkOnRoaXMub3B0aW9ucy5saW5lX2NvbG9yLHRoaXMuY2FudmFzX2N0eC5saW5lQ2FwPVwicm91bmRcIix0aGlzLmNsZWFyX2xpbmVzKCksdGhpcy5jYW52YXNfbGluZXRvKHQueCx0LnksZS54LGUueSl9Y2xlYXJfbGluZXMoKXt0aGlzLmNhbnZhc19jdHguY2xlYXJSZWN0KDAsMCx0aGlzLmptLnZpZXcuc2l6ZS53LHRoaXMuam0udmlldy5zaXplLmgpfWNhbnZhc19saW5ldG8odCxlLGkscyl7dGhpcy5jYW52YXNfY3R4LmJlZ2luUGF0aCgpLHRoaXMuY2FudmFzX2N0eC5tb3ZlVG8odCxlKSx0aGlzLmNhbnZhc19jdHgubGluZVRvKGkscyksdGhpcy5jYW52YXNfY3R4LnN0cm9rZSgpfWV2ZW50X2JpbmQoKXt2YXIgdD10aGlzLGU9dGhpcy5qbS52aWV3LmNvbnRhaW5lcjtzLm9uKGUsXCJtb3VzZWRvd25cIiwoZnVuY3Rpb24oZSl7MD09PWUuYnV0dG9uJiZ0LmRyYWdzdGFydC5jYWxsKHQsZSl9KSkscy5vbihlLFwibW91c2Vtb3ZlXCIsKGZ1bmN0aW9uKGUpezA9PT1lLm1vdmVtZW50WCYmMD09PWUubW92ZW1lbnRZfHx0LmRyYWcuY2FsbCh0LGUpfSkpLHMub24oZSxcIm1vdXNldXBcIiwoZnVuY3Rpb24oZSl7dC5kcmFnZW5kLmNhbGwodCxlKX0pKSxzLm9uKGUsXCJ0b3VjaHN0YXJ0XCIsKGZ1bmN0aW9uKGUpe3QuZHJhZ3N0YXJ0LmNhbGwodCxlKX0pKSxzLm9uKGUsXCJ0b3VjaG1vdmVcIiwoZnVuY3Rpb24oZSl7dC5kcmFnLmNhbGwodCxlKX0pKSxzLm9uKGUsXCJ0b3VjaGVuZFwiLChmdW5jdGlvbihlKXt0LmRyYWdlbmQuY2FsbCh0LGUpfSkpfWRyYWdzdGFydCh0KXtpZih0aGlzLmptLmdldF9lZGl0YWJsZSgpJiYhdGhpcy5jYXB0dXJlKXt0aGlzLmFjdGl2ZV9ub2RlPW51bGwsdGhpcy52aWV3X2RyYWdnYWJsZT10aGlzLmptLmdldF92aWV3X2RyYWdnYWJsZSgpO3ZhciBlPXRoaXMuam0udmlldyxpPXRoaXMuZmluZF9ub2RlX2VsZW1lbnQodC50YXJnZXQpO2lmKGkpe3RoaXMudmlld19kcmFnZ2FibGUmJnRoaXMuam0uZGlzYWJsZV92aWV3X2RyYWdnYWJsZSgpO3ZhciBvPWUuZ2V0X2JpbmRlZF9ub2RlaWQoaSk7aWYobyl7dmFyIG49dGhpcy5qbS5nZXRfbm9kZShvKTtpZighbi5pc3Jvb3Qpe3RoaXMucmVzZXRfc2hhZG93KGkpLHRoaXMudmlld19wYW5lbF9yZWN0PXRoaXMudmlld19wYW5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0aGlzLmFjdGl2ZV9ub2RlPW4sdGhpcy5vZmZzZXRfeD0odC5jbGllbnRYfHx0LnRvdWNoZXNbMF0uY2xpZW50WCkvZS56b29tX2N1cnJlbnQtaS5vZmZzZXRMZWZ0LHRoaXMub2Zmc2V0X3k9KHQuY2xpZW50WXx8dC50b3VjaGVzWzBdLmNsaWVudFkpL2Uuem9vbV9jdXJyZW50LWkub2Zmc2V0VG9wLHRoaXMuY2xpZW50X2h3PU1hdGguZmxvb3IoaS5jbGllbnRXaWR0aC8yKSx0aGlzLmNsaWVudF9oaD1NYXRoLmZsb29yKGkuY2xpZW50SGVpZ2h0LzIpLDAhPXRoaXMuaGxvb2t1cF9kZWxheSYmcy53LmNsZWFyVGltZW91dCh0aGlzLmhsb29rdXBfZGVsYXkpLDAhPXRoaXMuaGxvb2t1cF90aW1lciYmcy53LmNsZWFySW50ZXJ2YWwodGhpcy5obG9va3VwX3RpbWVyKTt2YXIgaD10aGlzO3RoaXMuaGxvb2t1cF9kZWxheT1zLncuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtoLmhsb29rdXBfZGVsYXk9MCxoLmhsb29rdXBfdGltZXI9cy53LnNldEludGVydmFsKChmdW5jdGlvbigpe2gubG9va3VwX3RhcmdldF9ub2RlLmNhbGwoaCl9KSxoLm9wdGlvbnMubG9va3VwX2ludGVydmFsKX0pLHRoaXMub3B0aW9ucy5sb29rdXBfZGVsYXkpLGguY2FwdHVyZT0hMH19fX19ZHJhZyh0KXtpZih0aGlzLmptLmdldF9lZGl0YWJsZSgpJiZ0aGlzLmNhcHR1cmUpe3QucHJldmVudERlZmF1bHQoKSx0aGlzLnNob3dfc2hhZG93KCksdGhpcy5tb3ZlZD0hMCxvKCk7dmFyIGU9dGhpcy5qbS52aWV3LGk9KHQuY2xpZW50WHx8dC50b3VjaGVzWzBdLmNsaWVudFgpL2Uuem9vbV9jdXJyZW50LXRoaXMub2Zmc2V0X3gscz0odC5jbGllbnRZfHx0LnRvdWNoZXNbMF0uY2xpZW50WSkvZS56b29tX2N1cnJlbnQtdGhpcy5vZmZzZXRfeTt0LmNsaWVudFktdGhpcy52aWV3X3BhbmVsX3JlY3QudG9wPHRoaXMub3B0aW9ucy5zY3JvbGxpbmdfdHJpZ2dlcl93aWR0aCYmdGhpcy52aWV3X3BhbmVsLnNjcm9sbFRvcD50aGlzLm9wdGlvbnMuc2Nyb2xsaW5nX3N0ZXBfbGVuZ3RoPyh0aGlzLnZpZXdfcGFuZWwuc2Nyb2xsQnkoMCwtdGhpcy5vcHRpb25zLnNjcm9sbGluZ19zdGVwX2xlbmd0aCksdGhpcy5vZmZzZXRfeSs9dGhpcy5vcHRpb25zLnNjcm9sbGluZ19zdGVwX2xlbmd0aC9lLnpvb21fY3VycmVudCk6dGhpcy52aWV3X3BhbmVsX3JlY3QuYm90dG9tLXQuY2xpZW50WTx0aGlzLm9wdGlvbnMuc2Nyb2xsaW5nX3RyaWdnZXJfd2lkdGgmJnRoaXMudmlld19wYW5lbC5zY3JvbGxUb3A8dGhpcy52aWV3X3BhbmVsLnNjcm9sbEhlaWdodC10aGlzLnZpZXdfcGFuZWxfcmVjdC5oZWlnaHQtdGhpcy5vcHRpb25zLnNjcm9sbGluZ19zdGVwX2xlbmd0aCYmKHRoaXMudmlld19wYW5lbC5zY3JvbGxCeSgwLHRoaXMub3B0aW9ucy5zY3JvbGxpbmdfc3RlcF9sZW5ndGgpLHRoaXMub2Zmc2V0X3ktPXRoaXMub3B0aW9ucy5zY3JvbGxpbmdfc3RlcF9sZW5ndGgvZS56b29tX2N1cnJlbnQpLHQuY2xpZW50WC10aGlzLnZpZXdfcGFuZWxfcmVjdC5sZWZ0PHRoaXMub3B0aW9ucy5zY3JvbGxpbmdfdHJpZ2dlcl93aWR0aCYmdGhpcy52aWV3X3BhbmVsLnNjcm9sbExlZnQ+dGhpcy5vcHRpb25zLnNjcm9sbGluZ19zdGVwX2xlbmd0aD8odGhpcy52aWV3X3BhbmVsLnNjcm9sbEJ5KC10aGlzLm9wdGlvbnMuc2Nyb2xsaW5nX3N0ZXBfbGVuZ3RoLDApLHRoaXMub2Zmc2V0X3grPXRoaXMub3B0aW9ucy5zY3JvbGxpbmdfc3RlcF9sZW5ndGgvZS56b29tX2N1cnJlbnQpOnRoaXMudmlld19wYW5lbF9yZWN0LnJpZ2h0LXQuY2xpZW50WDx0aGlzLm9wdGlvbnMuc2Nyb2xsaW5nX3RyaWdnZXJfd2lkdGgmJnRoaXMudmlld19wYW5lbC5zY3JvbGxMZWZ0PHRoaXMudmlld19wYW5lbC5zY3JvbGxXaWR0aC10aGlzLnZpZXdfcGFuZWxfcmVjdC53aWR0aC10aGlzLm9wdGlvbnMuc2Nyb2xsaW5nX3N0ZXBfbGVuZ3RoJiYodGhpcy52aWV3X3BhbmVsLnNjcm9sbEJ5KHRoaXMub3B0aW9ucy5zY3JvbGxpbmdfc3RlcF9sZW5ndGgsMCksdGhpcy5vZmZzZXRfeC09dGhpcy5vcHRpb25zLnNjcm9sbGluZ19zdGVwX2xlbmd0aC9lLnpvb21fY3VycmVudCksdGhpcy5zaGFkb3cuc3R5bGUubGVmdD1pK1wicHhcIix0aGlzLnNoYWRvdy5zdHlsZS50b3A9cytcInB4XCIsbygpfX1kcmFnZW5kKHQpe2lmKHRoaXMuam0uZ2V0X2VkaXRhYmxlKCkpe2lmKHRoaXMudmlld19kcmFnZ2FibGUmJnRoaXMuam0uZW5hYmxlX3ZpZXdfZHJhZ2dhYmxlKCksdGhpcy5jYXB0dXJlKXtpZigwIT10aGlzLmhsb29rdXBfZGVsYXkmJihzLncuY2xlYXJUaW1lb3V0KHRoaXMuaGxvb2t1cF9kZWxheSksdGhpcy5obG9va3VwX2RlbGF5PTAsdGhpcy5jbGVhcl9saW5lcygpKSwwIT10aGlzLmhsb29rdXBfdGltZXImJihzLncuY2xlYXJJbnRlcnZhbCh0aGlzLmhsb29rdXBfdGltZXIpLHRoaXMuaGxvb2t1cF90aW1lcj0wLHRoaXMuY2xlYXJfbGluZXMoKSksdGhpcy5tb3ZlZCl7dmFyIGU9dGhpcy5hY3RpdmVfbm9kZSxpPXRoaXMudGFyZ2V0X25vZGUsbz10aGlzLnRhcmdldF9kaXJlY3Q7dGhpcy5tb3ZlX25vZGUoZSxpLG8pfXRoaXMuaGlkZV9zaGFkb3coKX10aGlzLnZpZXdfcGFuZWxfcmVjdD1udWxsLHRoaXMubW92ZWQ9ITEsdGhpcy5jYXB0dXJlPSExfX1maW5kX25vZGVfZWxlbWVudCh0KXtyZXR1cm4gdD09PXRoaXMuam0udmlldy5lX25vZGVzfHx0PT09dGhpcy5qbS52aWV3LmVfcGFuZWx8fHQ9PT10aGlzLmptLnZpZXcuY29udGFpbmVyP251bGw6XCJqbW5vZGVcIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpP3Q6dGhpcy5maW5kX25vZGVfZWxlbWVudCh0LnBhcmVudE5vZGUpfWxvb2t1cF90YXJnZXRfbm9kZSgpe2xldCB0PXRoaXMuc2hhZG93Lm9mZnNldExlZnQsZT10aGlzLnNoYWRvdy5vZmZzZXRUb3A7aWYodD09PXRoaXMuc2hhZG93X3BfeCYmZT09PXRoaXMuc2hhZG93X3BfeSlyZXR1cm47dGhpcy5zaGFkb3dfcF94PXQsdGhpcy5zaGFkb3dfcF95PWU7bGV0IHM9dGhpcy5zaGFkb3dfcF94K3RoaXMuc2hhZG93X3cvMj49dGhpcy5nZXRfcm9vdF94KCk/aS5kZWZhdWx0LmRpcmVjdGlvbi5yaWdodDppLmRlZmF1bHQuZGlyZWN0aW9uLmxlZnQsbz10aGlzLmxvb2t1cF9vdmVybGFwcGluZ19ub2RlX3BhcmVudChzKXx8dGhpcy5sb29rdXBfY2xvc2Vfbm9kZShzKTtpZihvKXtsZXQgdD10aGlzLmNhbGNfcG9pbnRfb2Zfbm9kZShvLHMpLGU9aS5kZWZhdWx0Lm5vZGUuaW5oZXJpdGVkKHRoaXMuYWN0aXZlX25vZGUsbyk7dGhpcy5tYWduZXRfc2hhZG93KHQuc3AsdC5ucCxlKSx0aGlzLnRhcmdldF9ub2RlPW8sdGhpcy50YXJnZXRfZGlyZWN0PXN9fWdldF9yb290X3goKXtsZXQgdD10aGlzLmptLmdldF9yb290KCksZT10LmdldF9sb2NhdGlvbigpLGk9dC5nZXRfc2l6ZSgpO3JldHVybiBlLngraS53LzJ9bG9va3VwX292ZXJsYXBwaW5nX25vZGVfcGFyZW50KHQpe2xldCBlPXRoaXMuc2hhZG93LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9ZS54K2Uud2lkdGgqKDEtdCkvMixzPSh0aGlzLmptLm9wdGlvbnMubGF5b3V0LmhzcGFjZSt0aGlzLmptLm9wdGlvbnMubGF5b3V0LnBzcGFjZSkqdCxvPWUuaGVpZ2h0LG49W1tpLGUueV0sW2ksZS55K28vMl0sW2ksZS55K29dLFtpK3MvMixlLnldLFtpK3MvMixlLnkrby8yXSxbaStzLzIsZS55K29dLFtpK3MsZS55XSxbaStzLGUueStvLzJdLFtpK3MsZS55K29dXTtmb3IoY29uc3QgdCBvZiBuKXtsZXQgZT10aGlzLmxvb2t1cF9ub2RlX3BhcmVudF9ieV9sb2NhdGlvbih0WzBdLHRbMV0pO2lmKGUpcmV0dXJuIGV9fWxvb2t1cF9ub2RlX3BhcmVudF9ieV9sb2NhdGlvbih0LGUpe3JldHVybiBzLmQuZWxlbWVudHNGcm9tUG9pbnQodCxlKS5maWx0ZXIoKHQ9PlwiSk1OT0RFXCI9PT10LnRhZ05hbWUmJnQuY2xhc3NOYW1lIT09dGhpcy5vcHRpb25zLnNoYWRvd19ub2RlX2NsYXNzX25hbWUpKS5tYXAoKHQ9PnRoaXMuam0udmlldy5nZXRfYmluZGVkX25vZGVpZCh0KSkpLm1hcCgodD0+dCYmdGhpcy5qbS5taW5kLm5vZGVzW3RdKSkubWFwKCh0PT50JiZ0LnBhcmVudCkpLmZpbmQoKHQ9PnQpKX1sb29rdXBfY2xvc2Vfbm9kZSh0KXtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLmptLm1pbmQubm9kZXMpLmZpbHRlcigoZT0+ZS5kaXJlY3Rpb249PXR8fGUuaXNyb290KSkuZmlsdGVyKCh0PT50aGlzLmptLmxheW91dC5pc192aXNpYmxlKHQpKSkuZmlsdGVyKChlPT50aGlzLnNoYWRvd19vbl90YXJnZXRfc2lkZShlLHQpKSkubWFwKChlPT4oe25vZGU6ZSxkaXN0YW5jZTp0aGlzLnNoYWRvd190b19ub2RlKGUsdCl9KSkpLnJlZHVjZSgoKHQsZSk9PnQuZGlzdGFuY2U8ZS5kaXN0YW5jZT90OmUpLHtub2RlOnRoaXMuam0uZ2V0X3Jvb3QoKSxkaXN0YW5jZTpOdW1iZXIuTUFYX1ZBTFVFfSkubm9kZX1zaGFkb3dfb25fdGFyZ2V0X3NpZGUodCxlKXtyZXR1cm4gZT09aS5kZWZhdWx0LmRpcmVjdGlvbi5yaWdodCYmdGhpcy5zaGFkb3dfdG9fcmlnaHRfb2Zfbm9kZSh0KT4wfHxlPT1pLmRlZmF1bHQuZGlyZWN0aW9uLmxlZnQmJnRoaXMuc2hhZG93X3RvX2xlZnRfb2Zfbm9kZSh0KT4wfXNoYWRvd190b19yaWdodF9vZl9ub2RlKHQpe3JldHVybiB0aGlzLnNoYWRvd19wX3gtdC5nZXRfbG9jYXRpb24oKS54LXQuZ2V0X3NpemUoKS53fXNoYWRvd190b19sZWZ0X29mX25vZGUodCl7cmV0dXJuIHQuZ2V0X2xvY2F0aW9uKCkueC10aGlzLnNoYWRvd19wX3gtdGhpcy5zaGFkb3dfd31zaGFkb3dfdG9fYmFzZV9saW5lX29mX25vZGUodCl7cmV0dXJuIHRoaXMuc2hhZG93X3BfeSt0aGlzLnNoYWRvd19oLzItdC5nZXRfbG9jYXRpb24oKS55LXQuZ2V0X3NpemUoKS5oLzJ9c2hhZG93X3RvX25vZGUodCxlKXtyZXR1cm4oZT09PWkuZGVmYXVsdC5kaXJlY3Rpb24ucmlnaHQ/TWF0aC5hYnModGhpcy5zaGFkb3dfdG9fcmlnaHRfb2Zfbm9kZSh0KSk6TWF0aC5hYnModGhpcy5zaGFkb3dfdG9fbGVmdF9vZl9ub2RlKHQpKSkrTWF0aC5hYnModGhpcy5zaGFkb3dfdG9fYmFzZV9saW5lX29mX25vZGUodCkpfWNhbGNfcG9pbnRfb2Zfbm9kZSh0LGUpe2xldCBpPXQuZ2V0X3NpemUoKSxzPXQuZ2V0X2xvY2F0aW9uKCksbz10Lmlzcm9vdD9zLngraS53LzI6cy54K2kudyooMStlKS8yK3RoaXMub3B0aW9ucy5saW5lX3dpZHRoKmUsbj1zLnkraS5oLzI7cmV0dXJue3NwOnt4OnRoaXMuc2hhZG93X3BfeCt0aGlzLnNoYWRvd193KigxLWUpLzItdGhpcy5vcHRpb25zLmxpbmVfd2lkdGgqZSx5OnRoaXMuc2hhZG93X3BfeSt0aGlzLnNoYWRvd19oLzJ9LG5wOnt4Om8seTpufX19bW92ZV9ub2RlKHQsZSxzKXt2YXIgbz10aGlzLnNoYWRvdy5vZmZzZXRUb3A7aWYoZSYmdCYmIWkuZGVmYXVsdC5ub2RlLmluaGVyaXRlZCh0LGUpKXtmb3IodmFyIG49ZS5jaGlsZHJlbixoPW4ubGVuZ3RoLGw9bnVsbCxhPU51bWJlci5NQVhfVkFMVUUsXz1udWxsLGQ9XCJfbGFzdF9cIjtoLS07KWlmKChsPW5baF0pLmRpcmVjdGlvbj09cyYmbC5pZCE9dC5pZCl7dmFyIHI9bC5nZXRfbG9jYXRpb24oKS55LW87cj4wJiZyPGEmJihhPXIsXz1sLGQ9XCJfZmlyc3RfXCIpfV8mJihkPV8uaWQpLHRoaXMuam0ubW92ZV9ub2RlKHQuaWQsZCxlLmlkLHMpfXRoaXMuYWN0aXZlX25vZGU9bnVsbCx0aGlzLnRhcmdldF9ub2RlPW51bGwsdGhpcy50YXJnZXRfZGlyZWN0PW51bGx9am1fZXZlbnRfaGFuZGxlKHQsZSl7dD09PWkuZGVmYXVsdC5ldmVudF90eXBlLnJlc2l6ZSYmdGhpcy5yZXNpemUoKX19dmFyIGw9bmV3IGkuZGVmYXVsdC5wbHVnaW4oXCJkcmFnZ2FibGVfbm9kZVwiLChmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBoKHQsZSk7aS5pbml0KCksdC5hZGRfZXZlbnRfbGlzdGVuZXIoKGZ1bmN0aW9uKHQsZSl7aS5qbV9ldmVudF9oYW5kbGUuY2FsbChpLHQsZSl9KSl9KSk7aS5kZWZhdWx0LnJlZ2lzdGVyX3BsdWdpbihsKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzbWluZC5kcmFnZ2FibGUtbm9kZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jsmind/es6/jsmind.draggable-node.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/jsmind/es6/jsmind.js":
/*!*******************************************!*\
  !*** ./node_modules/jsmind/es6/jsmind.js ***!
  \*******************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/**\n* @license BSD-3-Clause\n* @copyright 2014-2023 hizzgdev@163.com\n*\n* Project Home:\n*   https://github.com/hizzgdev/jsmind/\n*/\n!function(e,t){ true?module.exports=t():0}(this,(function(){\"use strict\";const e=\"0.8.5\";\"function\"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.slice(0,e.length)===e});const t={left:-1,center:0,right:1,of:function(e){return e&&-1!==e&&0!==e&&1!==e?\"-1\"===e||\"0\"===e||\"1\"===e?parseInt(e):\"left\"===e.toLowerCase()?this.left:\"right\"===e.toLowerCase()?this.right:\"center\"===e.toLowerCase()?this.center:void 0:e}},i={show:1,resize:2,edit:3,select:4},n={debug:1,info:2,warn:3,error:4,disable:9};var o=function(){};let s=\"undefined\"==typeof console?{level:o,log:o,debug:o,info:o,warn:o,error:o}:{level:function(e){s.debug=e>n.debug?o:console.debug;s.info=e>n.info?o:console.info;s.warn=e>n.warn?o:console.warn;s.error=e>n.error?o:console.error},log:console.log,debug:console.debug,info:console.info,warn:console.warn,error:console.error};const r=new class{constructor(e){this.w=e,this.d=e.document,this.g=function(e){return this.d.getElementById(e)},this.c=function(e){return this.d.createElement(e)},this.t=function(e,t){e.hasChildNodes()?e.firstChild.nodeValue=t:e.appendChild(this.d.createTextNode(t))},this.h=function(e,t){t instanceof HTMLElement?(e.innerHTML=\"\",e.appendChild(t)):e.innerHTML=t},this.i=function(e){return!!e&&\"object\"==typeof e&&1===e.nodeType&&\"object\"==typeof e.style&&\"object\"==typeof e.ownerDocument},this.on=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent(\"on\"+t,i)}}}(window),a={file:{read:function(e,t){var i=new FileReader;i.onload=function(){\"function\"==typeof t&&t(this.result,e.name)},i.readAsText(e)},save:function(e,t,i){var n;if(\"function\"==typeof r.w.Blob)n=new Blob([e],{type:t});else{var o=new(r.w.BlobBuilder||r.w.MozBlobBuilder||r.w.WebKitBlobBuilder||r.w.MSBlobBuilder);o.append(e),n=o.getBlob(t)}if(navigator.msSaveBlob)navigator.msSaveBlob(n,i);else{var s=(r.w.URL||r.w.webkitURL).createObjectURL(n),a=r.c(\"a\");if(\"download\"in a){a.style.visibility=\"hidden\",a.href=s,a.download=i,r.d.body.appendChild(a);var d=r.d.createEvent(\"MouseEvents\");d.initEvent(\"click\",!0,!0),a.dispatchEvent(d),r.d.body.removeChild(a)}else location.href=s}}},json:{json2string:function(e){return JSON.stringify(e)},string2json:function(e){return JSON.parse(e)},merge:function(e,t){for(var i in t)i in e?\"object\"!=typeof e[i]||\"[object object]\"!=Object.prototype.toString.call(e[i]).toLowerCase()||e[i].length?e[i]=t[i]:a.json.merge(e[i],t[i]):e[i]=t[i];return e}},uuid:{newid:function(){return((new Date).getTime().toString(16)+Math.random().toString(16).substring(2)).substring(2,18)}},text:{is_empty:function(e){return!e||0==e.replace(/\\s*/,\"\").length}}},d={container:\"\",editable:!1,theme:null,mode:\"full\",support_html:!0,log_level:\"info\",view:{engine:\"canvas\",enable_device_pixel_ratio:!1,hmargin:100,vmargin:50,line_width:2,line_color:\"#555\",line_style:\"curved\",draggable:!1,hide_scrollbars_when_draggable:!1,node_overflow:\"hidden\",zoom:{min:.5,max:2.1,step:.1},custom_node_render:null,expander_style:\"char\"},layout:{hspace:30,vspace:20,pspace:13,cousin_space:0},default_event_handle:{enable_mousedown_handle:!0,enable_click_handle:!0,enable_dblclick_handle:!0,enable_mousewheel_handle:!0},shortcut:{enable:!0,handles:{},mapping:{addchild:[45,4109],addbrother:13,editnode:113,delnode:46,toggle:32,left:37,up:38,right:39,down:40}},plugin:{}};class l{constructor(e,t,i,n,o,r,a,d){e?\"number\"==typeof t?(void 0===d&&(d=!0),this.id=e,this.index=t,this.topic=i,this.data=n||{},this.isroot=o,this.parent=r,this.direction=a,this.expanded=!!d,this.children=[],this._data={}):s.error(\"invalid node index\"):s.error(\"invalid node id\")}get_location(){var e=this._data.view;return{x:e.abs_x,y:e.abs_y}}get_size(){var e=this._data.view;return{w:e.width,h:e.height}}static compare(e,t){var i=e.index,n=t.index;return i>=0&&n>=0?i-n:-1==i&&-1==n?0:-1==i?1:-1==n?-1:0}static inherited(e,t){if(e&&t){if(e.id===t.id)return!0;if(e.isroot)return!0;for(var i=e.id,n=t;!n.isroot;)if((n=n.parent).id===i)return!0}return!1}static is_node(e){return!!e&&e instanceof l}}class h{constructor(){this.name=null,this.author=null,this.version=null,this.root=null,this.selected=null,this.nodes={}}get_node(e){return e in this.nodes?this.nodes[e]:(s.warn(\"the node[id=\"+e+\"] can not be found\"),null)}set_root(e,t,i){return null==this.root?(this.root=new l(e,0,t,i,!0),this._put_node(this.root),this.root):(s.error(\"root node is already exist\"),null)}add_node(e,i,n,o,r,a,d){if(!l.is_node(e))return s.error(\"the parent_node \"+e+\" is not a node.\"),null;var h=new l(i,d||-1,n,o,!1,e,e.direction,a);return e.isroot&&(h.direction=r||t.right),this._put_node(h)?(e.children.push(h),this._update_index(e)):(s.error(\"fail, the node id '\"+h.id+\"' has been already exist.\"),h=null),h}insert_node_before(e,t,i,n,o){if(!l.is_node(e))return s.error(\"the node_before \"+e+\" is not a node.\"),null;var r=e.index-.5;return this.add_node(e.parent,t,i,n,o,!0,r)}get_node_before(e){if(!l.is_node(e)){var t=this.get_node(e);return t?this.get_node_before(t):(s.error(\"the node[id=\"+e+\"] can not be found.\"),null)}if(e.isroot)return null;var i=e.index-2;return i>=0?e.parent.children[i]:null}insert_node_after(e,t,i,n,o){if(!l.is_node(e))return s.error(\"the node_after \"+e+\" is not a node.\"),null;var r=e.index+.5;return this.add_node(e.parent,t,i,n,o,!0,r)}get_node_after(e){if(!l.is_node(e)){var t=this.get_node(e);return t?this.get_node_after(t):(s.error(\"the node[id=\"+e+\"] can not be found.\"),null)}if(e.isroot)return null;var i=e.index;return e.parent.children.length>i?e.parent.children[i]:null}move_node(e,t,i,n){return l.is_node(e)?(i||(i=e.parent.id),this._move_node(e,t,i,n)):(s.error(\"the parameter node \"+e+\" is not a node.\"),null)}_flow_node_direction(e,t){void 0===t?t=e.direction:e.direction=t;for(var i=e.children.length;i--;)this._flow_node_direction(e.children[i],t)}_move_node_internal(e,t){if(e&&t)if(\"_last_\"==t)e.index=-1,this._update_index(e.parent);else if(\"_first_\"==t)e.index=0,this._update_index(e.parent);else{var i=t?this.get_node(t):null;null!=i&&null!=i.parent&&i.parent.id==e.parent.id&&(e.index=i.index-.5,this._update_index(e.parent))}return e}_move_node(e,i,n,o){if(e&&n){var r=this.get_node(n);if(l.inherited(e,r))return s.error(\"can not move a node to its children\"),null;if(e.parent.id!=n){for(var a=e.parent.children,d=a.length;d--;)if(a[d].id==e.id){a.splice(d,1);break}let t=e.parent;e.parent=r,r.children.push(e),this._update_index(t)}e.parent.isroot?o==t.left?e.direction=o:e.direction=t.right:e.direction=e.parent.direction,this._move_node_internal(e,i),this._flow_node_direction(e)}return e}remove_node(e){if(!l.is_node(e))return s.error(\"the parameter node \"+e+\" is not a node.\"),!1;if(e.isroot)return s.error(\"fail, can not remove root node\"),!1;null!=this.selected&&this.selected.id==e.id&&(this.selected=null);for(var t=e.children,i=t.length;i--;)this.remove_node(t[i]);t.length=0;for(var n=e.parent,o=n.children,r=o.length;r--;)if(o[r].id==e.id){o.splice(r,1);break}for(var a in delete this.nodes[e.id],e)delete e[a];return e=null,this._update_index(n),!0}_put_node(e){return e.id in this.nodes?(s.warn(\"the node_id '\"+e.id+\"' has been already exist.\"),!1):(this.nodes[e.id]=e,!0)}_update_index(e){if(e instanceof l){e.children.sort(l.compare);for(var t=0;t<e.children.length;t++)e.children[t].index=t+1}}}const _={name:\"jsMind\",author:\"hizzgdev@163.com\",version:e},u={node_tree:{example:{meta:_,format:\"node_tree\",data:{id:\"root\",topic:\"jsMind node_tree example\"}},get_mind:function(e){var t=u.node_tree,i=new h;return i.name=e.meta.name,i.author=e.meta.author,i.version=e.meta.version,t._parse(i,e.data),i},get_data:function(e){var t=u.node_tree,i={};return i.meta={name:e.name,author:e.author,version:e.version},i.format=\"node_tree\",i.data=t._build_node(e.root),i},_parse:function(e,t){var i=u.node_tree,n=i._extract_data(t);if(e.set_root(t.id,t.topic,n),\"children\"in t)for(var o=t.children,s=0;s<o.length;s++)i._extract_subnode(e,e.root,o[s])},_extract_data:function(e){var t={};for(var i in e)\"id\"!=i&&\"topic\"!=i&&\"children\"!=i&&\"direction\"!=i&&\"expanded\"!=i&&(t[i]=e[i]);return t},_extract_subnode:function(e,i,n){var o=u.node_tree,s=o._extract_data(n),r=null;i.isroot&&(r=\"left\"==n.direction?t.left:t.right);var a=e.add_node(i,n.id,n.topic,s,r,n.expanded);if(n.children)for(var d=n.children,l=0;l<d.length;l++)o._extract_subnode(e,a,d[l])},_build_node:function(e){var i=u.node_tree;if(e instanceof l){var n={id:e.id,topic:e.topic,expanded:e.expanded};if(e.parent&&e.parent.isroot&&(n.direction=e.direction==t.left?\"left\":\"right\"),null!=e.data){var o=e.data;for(var s in o)n[s]=o[s]}var r=e.children;if(r.length>0){n.children=[];for(var a=0;a<r.length;a++)n.children.push(i._build_node(r[a]))}return n}}},node_array:{example:{meta:_,format:\"node_array\",data:[{id:\"root\",topic:\"jsMind node_array example\",isroot:!0}]},get_mind:function(e){var t=u.node_array,i=new h;return i.name=e.meta.name,i.author=e.meta.author,i.version=e.meta.version,t._parse(i,e.data),i},get_data:function(e){var t=u.node_array,i={};return i.meta={name:e.name,author:e.author,version:e.version},i.format=\"node_array\",i.data=[],t._array(e,i.data),i},_parse:function(e,t){var i=u.node_array,n=t.slice(0);n.reverse();var o=i._extract_root(e,n);o?i._extract_subnode(e,o,n):s.error(\"root node can not be found\")},_extract_root:function(e,t){for(var i=u.node_array,n=t.length;n--;)if(\"isroot\"in t[n]&&t[n].isroot){var o=t[n],s=i._extract_data(o),r=e.set_root(o.id,o.topic,s);return t.splice(n,1),r}return null},_extract_subnode:function(e,i,n){for(var o=u.node_array,s=n.length,r=null,a=null,d=0;s--;)if((r=n[s]).parentid==i.id){a=o._extract_data(r);var l=null,h=r.direction;h&&(l=\"left\"==h?t.left:t.right);var _=e.add_node(i,r.id,r.topic,a,l,r.expanded);n.splice(s,1),d++;var c=o._extract_subnode(e,_,n);c>0&&(s=n.length,d+=c)}return d},_extract_data:function(e){var t={};for(var i in e)\"id\"!=i&&\"topic\"!=i&&\"parentid\"!=i&&\"isroot\"!=i&&\"direction\"!=i&&\"expanded\"!=i&&(t[i]=e[i]);return t},_array:function(e,t){u.node_array._array_node(e.root,t)},_array_node:function(e,i){var n=u.node_array;if(e instanceof l){var o={id:e.id,topic:e.topic,expanded:e.expanded};if(e.parent&&(o.parentid=e.parent.id),e.isroot&&(o.isroot=!0),e.parent&&e.parent.isroot&&(o.direction=e.direction==t.left?\"left\":\"right\"),null!=e.data){var s=e.data;for(var r in s)o[r]=s[r]}i.push(o);for(var a=e.children.length,d=0;d<a;d++)n._array_node(e.children[d],i)}}},freemind:{example:{meta:_,format:\"freemind\",data:'<map version=\"1.0.1\"><node ID=\"root\" TEXT=\"jsMind freemind example\"/></map>'},get_mind:function(e){var t=u.freemind,i=new h;i.name=e.meta.name,i.author=e.meta.author,i.version=e.meta.version;var n=e.data,o=t._parse_xml(n),s=t._find_root(o);return t._load_node(i,null,s),i},get_data:function(e){var t=u.freemind,i={};i.meta={name:e.name,author:e.author,version:e.version},i.format=\"freemind\";var n=[];return n.push('<map version=\"1.0.1\">'),t._build_map(e.root,n),n.push(\"</map>\"),i.data=n.join(\"\"),i},_parse_xml:function(e){var t=null;window.DOMParser?t=(new DOMParser).parseFromString(e,\"text/xml\"):((t=new ActiveXObject(\"Microsoft.XMLDOM\")).async=!1,t.loadXML(e));return t},_find_root:function(e){for(var t=e.childNodes,i=null,n=null,o=0;o<t.length;o++)if(1==(n=t[o]).nodeType&&\"map\"==n.tagName){i=n;break}if(i){var s=i.childNodes;i=null;for(o=0;o<s.length;o++)if(1==(n=s[o]).nodeType&&\"node\"==n.tagName){i=n;break}}return i},_load_node:function(e,i,n){var o=u.freemind,s=n.getAttribute(\"ID\"),r=n.getAttribute(\"TEXT\"),a=n.getAttribute(\"FOLDED\");if(null==r)for(var d=n.childNodes,l=null,h=0;h<d.length;h++)if(1==(l=d[h]).nodeType&&\"richcontent\"===l.tagName){r=l.textContent;break}var _=o._load_attributes(n),c=\"expanded\"in _?\"true\"==_.expanded:\"true\"!=a;delete _.expanded;var p=n.getAttribute(\"POSITION\"),v=null;p&&(v=\"left\"==p?t.left:t.right);var f=null;f=i?e.add_node(i,s,r,_,v,c):e.set_root(s,r,_);var g=n.childNodes,m=null;for(h=0;h<g.length;h++)1==(m=g[h]).nodeType&&\"node\"==m.tagName&&o._load_node(e,f,m)},_load_attributes:function(e){for(var t=e.childNodes,i=null,n={},o=0;o<t.length;o++)1==(i=t[o]).nodeType&&\"attribute\"===i.tagName&&(n[i.getAttribute(\"NAME\")]=i.getAttribute(\"VALUE\"));return n},_build_map:function(e,i){var n=u.freemind,o=null;e.parent&&e.parent.isroot&&(o=e.direction===t.left?\"left\":\"right\"),i.push(\"<node\"),i.push(' ID=\"'+e.id+'\"'),o&&i.push(' POSITION=\"'+o+'\"'),e.expanded||i.push(' FOLDED=\"true\"'),i.push(' TEXT=\"'+n._escape(e.topic)+'\">');var s=e.data;if(null!=s)for(var r in s)i.push('<attribute NAME=\"'+r+'\" VALUE=\"'+s[r]+'\"/>');for(var a=e.children,d=0;d<a.length;d++)n._build_map(a[d],i);i.push(\"</node>\")},_escape:function(e){return e.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/'/g,\"&apos;\").replace(/\"/g,\"&quot;\")}},text:{example:{meta:_,format:\"text\",data:\"jsMind text example\\n node1\\n  node1-sub\\n  node1-sub\\n node2\"},_line_regex:/\\s*/,get_mind:function(e){var t=u.text,i=new h;i.name=e.meta.name,i.author=e.meta.author,i.version=e.meta.version;var n=e.data.split(/\\n|\\r/);return t._fill_nodes(i,n,0,0),i},_fill_nodes:function(e,t){let i=[],n=0;for(;n<t.length;){let o=t[n],s=o.match(/\\s*/)[0].length,r=o.substr(s);if(0==s&&i.length>0)return void log.error(\"more than 1 root node was found: \"+r);if(s>i.length)return void log.error(\"a suspended node was found: \"+r);let d=i.length-s;for(;d--;)i.pop();if(0==s&&0==i.length){let t=e.set_root(a.uuid.newid(),r);i.push(t)}else{let t=e.add_node(i[s-1],a.uuid.newid(),r,{},null);i.push(t)}n++}i.length=0},get_data:function(e){var t=u.text,i={};i.meta={name:e.name,author:e.author,version:e.version},i.format=\"text\";let n=[];return t._build_lines(n,[e.root],0),i.data=n.join(\"\\n\"),i},_build_lines:function(e,t,i){let n=new Array(i+1).join(\" \");for(let o of t)e.push(n+o.topic),o.children&&u.text._build_lines(e,o.children,i+1)}}};class c{constructor(e){this.jm=e}init(){s.debug(\"data.init\")}reset(){s.debug(\"data.reset\")}load(e){var t=null,i=null;return\"node_array\"==(t=\"object\"==typeof e?e.format?e.format:\"node_tree\":\"freemind\")?i=u.node_array.get_mind(e):\"node_tree\"==t?i=u.node_tree.get_mind(e):\"freemind\"==t?i=u.freemind.get_mind(e):\"text\"==t?i=u.text.get_mind(e):s.warn(\"unsupported format\"),i}get_data(e){var t=null;return\"node_array\"==e?t=u.node_array.get_data(this.jm.mind):\"node_tree\"==e?t=u.node_tree.get_data(this.jm.mind):\"freemind\"==e?t=u.freemind.get_data(this.jm.mind):\"text\"==e?t=u.text.get_data(this.jm.mind):s.error(\"unsupported \"+e+\" format\"),t}}class p{constructor(e,t){this.opts=t,this.jm=e,this.isside=\"side\"==this.opts.mode,this.bounds=null,this.cache_valid=!1}init(){s.debug(\"layout.init\")}reset(){s.debug(\"layout.reset\"),this.bounds={n:0,s:0,w:0,e:0}}calculate_next_child_direction(e){if(this.isside)return t.right;for(var i=e.children||[],n=i.length,o=0,s=0;s<n;s++)i[s].direction===t.left?o--:o++;return n>1&&o>0?t.left:t.right}layout(){s.debug(\"layout.layout\"),this.layout_direction(),this.layout_offset()}layout_direction(){this._layout_direction_root()}_layout_direction_root(){var e=this.jm.mind.root,i=null;\"layout\"in e._data?i=e._data.layout:(i={},e._data.layout=i);var n=e.children,o=n.length;if(i.direction=t.center,i.side_index=0,this.isside)for(var s=o;s--;)this._layout_direction_side(n[s],t.right,s);else{s=o;for(var r=null;s--;)(r=n[s]).direction==t.left?this._layout_direction_side(r,t.left,s):this._layout_direction_side(r,t.right,s)}}_layout_direction_side(e,t,i){var n=null;\"layout\"in e._data?n=e._data.layout:(n={},e._data.layout=n);var o=e.children,s=o.length;n.direction=t,n.side_index=i;for(var r=s;r--;)this._layout_direction_side(o[r],t,r)}layout_offset(){var e=this.jm.mind.root,i=e._data.layout;i.offset_x=0,i.offset_y=0,i.outer_height=0;for(var n=e.children,o=n.length,s=[],r=[],a=null;o--;)(a=n[o])._data.layout.direction==t.right?r.unshift(a):s.unshift(a);i.left_nodes=s,i.right_nodes=r,i.outer_height_left=this._layout_offset_subnodes(s),i.outer_height_right=this._layout_offset_subnodes(r),this.bounds.e=e._data.view.width/2,this.bounds.w=0-this.bounds.e,this.bounds.n=0,this.bounds.s=Math.max(i.outer_height_left,i.outer_height_right)}_layout_offset_subnodes(e){for(var t=0,i=e.length,n=i,o=null,s=0,r=null,a=0,d=null;n--;)r=(o=e[n])._data.layout,null==d&&(d=o.parent._data),s=this._layout_offset_subnodes(o.children),o.expanded||(s=0,this.set_visible(o.children,!1)),s=Math.max(o._data.view.height,s),o.children.length>1&&(s+=this.opts.cousin_space),r.outer_height=s,r.offset_y=a-s/2,r.offset_x=this.opts.hspace*r.direction+d.view.width*(d.layout.direction+r.direction)/2,o.parent.isroot||(r.offset_x+=this.opts.pspace*r.direction),a=a-s-this.opts.vspace,t+=s;i>1&&(t+=this.opts.vspace*(i-1)),n=i;for(var l=t/2;n--;)(o=e[n])._data.layout.offset_y+=l;return t}_layout_offset_subnodes_height(e){for(var t=0,i=e.length,n=i,o=null,s=0,r=null,a=0,d=null;n--;)r=(o=e[n])._data.layout,null==d&&(d=o.parent._data),s=this._layout_offset_subnodes_height(o.children),o.expanded||(s=0),s=Math.max(o._data.view.height,s),o.children.length>1&&(s+=this.opts.cousin_space),r.outer_height=s,r.offset_y=a-s/2,a=a-s-this.opts.vspace,t+=s;i>1&&(t+=this.opts.vspace*(i-1)),n=i;for(var l=t/2;n--;)(o=e[n])._data.layout.offset_y+=l;return t}get_node_offset(e){var t=e._data.layout,i=null;if(\"_offset_\"in t&&this.cache_valid?i=t._offset_:(i={x:-1,y:-1},t._offset_=i),-1==i.x||-1==i.y){var n=t.offset_x,o=t.offset_y;if(!e.isroot){var s=this.get_node_offset(e.parent);n+=s.x,o+=s.y}i.x=n,i.y=o}return i}get_node_point(e){var t=e._data.view,i=this.get_node_offset(e),n={};return n.x=i.x+t.width*(e._data.layout.direction-1)/2,n.y=i.y-t.height/2,n}get_node_point_in(e){return this.get_node_offset(e)}get_node_point_out(e){var t=e._data.layout,i=null;if(\"_pout_\"in t&&this.cache_valid?i=t._pout_:(i={x:-1,y:-1},t._pout_=i),-1==i.x||-1==i.y)if(e.isroot)i.x=0,i.y=0;else{var n=e._data.view,o=this.get_node_offset(e);i.x=o.x+(n.width+this.opts.pspace)*e._data.layout.direction,i.y=o.y}return i}get_expander_point(e){var i=this.get_node_point_out(e),n={};return e._data.layout.direction==t.right?n.x=i.x-this.opts.pspace:n.x=i.x,n.y=i.y-Math.ceil(this.opts.pspace/2),n}get_min_size(){var e=this.jm.mind.nodes,t=null,i=null;for(var n in e)t=e[n],(i=this.get_node_point_out(t)).x>this.bounds.e&&(this.bounds.e=i.x),i.x<this.bounds.w&&(this.bounds.w=i.x);return{w:this.bounds.e-this.bounds.w,h:this.bounds.s-this.bounds.n}}toggle_node(e){e.isroot||(e.expanded?this.collapse_node(e):this.expand_node(e))}expand_node(e){e.expanded=!0,this.part_layout(e),this.set_visible(e.children,!0),this.jm.invoke_event_handle(i.show,{evt:\"expand_node\",data:[],node:e.id})}collapse_node(e){e.expanded=!1,this.part_layout(e),this.set_visible(e.children,!1),this.jm.invoke_event_handle(i.show,{evt:\"collapse_node\",data:[],node:e.id})}expand_all(){var e,t=this.jm.mind.nodes,i=0;for(var n in t)(e=t[n]).expanded||(e.expanded=!0,i++);if(i>0){var o=this.jm.mind.root;this.part_layout(o),this.set_visible(o.children,!0)}}collapse_all(){var e,t=this.jm.mind.nodes,i=0;for(var n in t)(e=t[n]).expanded&&!e.isroot&&(e.expanded=!1,i++);if(i>0){var o=this.jm.mind.root;this.part_layout(o),this.set_visible(o.children,!0)}}expand_to_depth(e,t,i){if(!(e<1))for(var n=t||this.jm.mind.root.children,o=i||1,s=n.length,r=null;s--;)r=n[s],o<e&&(r.expanded||this.expand_node(r),this.expand_to_depth(e,r.children,o+1)),o==e&&r.expanded&&this.collapse_node(r)}part_layout(e){var i=this.jm.mind.root;if(i){var n=i._data.layout;e.isroot?(n.outer_height_right=this._layout_offset_subnodes_height(n.right_nodes),n.outer_height_left=this._layout_offset_subnodes_height(n.left_nodes)):e._data.layout.direction==t.right?n.outer_height_right=this._layout_offset_subnodes_height(n.right_nodes):n.outer_height_left=this._layout_offset_subnodes_height(n.left_nodes),this.bounds.s=Math.max(n.outer_height_left,n.outer_height_right),this.cache_valid=!1}else s.warn(\"can not found root node\")}set_visible(e,t){for(var i=e.length,n=null;i--;)(n=e[i])._data.layout,n.expanded?this.set_visible(n.children,t):this.set_visible(n.children,!1),n.isroot||(n._data.layout.visible=t)}is_expand(e){return e.expanded}is_visible(e){var t=e._data.layout;return!(\"visible\"in t&&!t.visible)}}class v{constructor(e){this.view=e,this.opts=e.opts,this.e_svg=v.c(\"svg\"),this.e_svg.setAttribute(\"class\",\"jsmind\"),this.size={w:0,h:0},this.lines=[],this.line_drawing={straight:this._line_to,curved:this._bezier_to},this.init_line_render()}static c(e){return r.d.createElementNS(\"http://www.w3.org/2000/svg\",e)}init_line_render(){\"function\"==typeof this.opts.custom_line_render?this.drawing=(e,t,i,n,o)=>{try{this.opts.custom_line_render.call(this,{ctx:e,start_point:{x:t,y:i},end_point:{x:n,y:o}})}catch(e){s.error(\"custom line renderer error: \",e)}}:this.drawing=this.line_drawing[this.opts.line_style]||this.line_drawing.curved}element(){return this.e_svg}set_size(e,t){this.size.w=e,this.size.h=t,this.e_svg.setAttribute(\"width\",e),this.e_svg.setAttribute(\"height\",t)}clear(){for(var e=this.lines.length;e--;)this.e_svg.removeChild(this.lines[e]);this.lines.length=0}draw_line(e,t,i,n){var o=v.c(\"path\");o.setAttribute(\"stroke\",n||this.opts.line_color),o.setAttribute(\"stroke-width\",this.opts.line_width),o.setAttribute(\"fill\",\"transparent\"),this.lines.push(o),this.e_svg.appendChild(o),this.drawing(o,t.x+i.x,t.y+i.y,e.x+i.x,e.y+i.y)}copy_to(e,t){var i=new Image;i.onload=function(){e.drawImage(i,0,0),t&&t()},i.src=\"data:image/svg+xml;base64,\"+btoa((new XMLSerializer).serializeToString(this.e_svg))}_bezier_to(e,t,i,n,o){e.setAttribute(\"d\",\"M \"+t+\" \"+i+\" C \"+(t+2*(n-t)/3)+\" \"+i+\", \"+t+\" \"+o+\", \"+n+\" \"+o)}_line_to(e,t,i,n,o){e.setAttribute(\"d\",\"M \"+t+\" \"+i+\" L \"+n+\" \"+o)}}class f{constructor(e){this.opts=e.opts,this.e_canvas=r.c(\"canvas\"),this.e_canvas.className=\"jsmind\",this.canvas_ctx=this.e_canvas.getContext(\"2d\"),this.size={w:0,h:0},this.line_drawing={straight:this._line_to,curved:this._bezier_to},this.dpr=e.device_pixel_ratio,this.init_line_render()}init_line_render(){\"function\"==typeof this.opts.custom_line_render?this.drawing=(e,t,i,n,o)=>{try{this.opts.custom_line_render.call(this,{ctx:e,start_point:{x:t,y:i},end_point:{x:n,y:o}})}catch(e){s.error(\"custom line render error: \",e)}}:this.drawing=this.line_drawing[this.opts.line_style]||this.line_drawing.curved}element(){return this.e_canvas}set_size(e,t){this.size.w=e,this.size.h=t,this.e_canvas.width&&this.e_canvas.height&&this.canvas_ctx.scale?(this.e_canvas.width=e*this.dpr,this.e_canvas.height=t*this.dpr,this.e_canvas.style.width=e+\"px\",this.e_canvas.style.height=t+\"px\",this.canvas_ctx.scale(this.dpr,this.dpr)):(this.e_canvas.width=e,this.e_canvas.height=t)}clear(){this.canvas_ctx.clearRect(0,0,this.size.w,this.size.h)}draw_line(e,t,i,n){var o=this.canvas_ctx;o.strokeStyle=n||this.opts.line_color,o.lineWidth=this.opts.line_width,o.lineCap=\"round\",this.drawing(o,t.x+i.x,t.y+i.y,e.x+i.x,e.y+i.y)}copy_to(e,t){e.drawImage(this.e_canvas,0,0,this.size.w,this.size.h),t&&t()}_bezier_to(e,t,i,n,o){e.beginPath(),e.moveTo(t,i),e.bezierCurveTo(t+2*(n-t)/3,i,t,o,n,o),e.stroke()}_line_to(e,t,i,n,o){e.beginPath(),e.moveTo(t,i),e.lineTo(n,o),e.stroke()}}class g{constructor(e,t){this.opts=t,this.jm=e,this.layout=e.layout,this.container=null,this.e_panel=null,this.e_nodes=null,this.size={w:0,h:0},this.selected_node=null,this.editing_node=null,this.graph=null,this.render_node=t.custom_node_render?this._custom_node_render:this._default_node_render,this.zoom_current=1,this.device_pixel_ratio=this.opts.enable_device_pixel_ratio&&r.w.devicePixelRatio||1,this._initialized=!1}init(){if(s.debug(this.opts),s.debug(\"view.init\"),this.container=r.i(this.opts.container)?this.opts.container:r.g(this.opts.container),this.container){var e;this.graph=(e=this,\"svg\"===this.opts.engine.toLowerCase()?new v(e):new f(e)),this.e_panel=r.c(\"div\"),this.e_nodes=r.c(\"jmnodes\"),this.e_editor=r.c(\"input\"),this.e_panel.className=\"jsmind-inner jmnode-overflow-\"+this.opts.node_overflow,this.e_panel.tabIndex=1,this.e_panel.appendChild(this.graph.element()),this.e_panel.appendChild(this.e_nodes),this.e_editor.className=\"jsmind-editor\",this.e_editor.type=\"text\";var t=this;r.on(this.e_editor,\"keydown\",(function(e){var i=e||event;13==i.keyCode&&(t.edit_node_end(),i.stopPropagation())})),r.on(this.e_editor,\"blur\",(function(e){t.edit_node_end()})),this.container.appendChild(this.e_panel),this.container.offsetParent||new IntersectionObserver(((e,t)=>{e[0].isIntersecting&&(t.unobserve(this.e_panel),this.resize())})).observe(this.e_panel)}else s.error(\"the options.view.container was not be found in dom\")}add_event(e,t,i,n){let o=n?this.e_panel:this.e_nodes;r.on(o,t,(function(t){var n=t||event;i.call(e,n)}))}get_binded_nodeid(e){if(null==e)return null;var t=e.tagName.toLowerCase();return\"jmnode\"==t||\"jmexpander\"==t?e.getAttribute(\"nodeid\"):\"jmnodes\"==t||\"body\"==t||\"html\"==t?null:this.get_binded_nodeid(e.parentElement)}is_node(e){if(null==e)return!1;var t=e.tagName.toLowerCase();return\"jmnode\"==t||\"jmnodes\"!=t&&\"body\"!=t&&\"html\"!=t&&this.is_node(e.parentElement)}is_expander(e){return\"jmexpander\"==e.tagName.toLowerCase()}reset(){s.debug(\"view.reset\"),this.selected_node=null,this.clear_lines(),this.clear_nodes(),this.reset_theme()}reset_theme(){var e=this.jm.options.theme;this.e_nodes.className=e?\"theme-\"+e:\"\"}reset_custom_style(){var e=this.jm.mind.nodes;for(var t in e)this.reset_node_custom_style(e[t])}load(){s.debug(\"view.load\"),this.setup_canvas_draggable(this.opts.draggable),this.init_nodes(),this._initialized=!0}expand_size(){var e=this.layout.get_min_size(),t=e.w+2*this.opts.hmargin,i=e.h+2*this.opts.vmargin,n=this.e_panel.clientWidth,o=this.e_panel.clientHeight;n<t&&(n=t),o<i&&(o=i),this.size.w=n,this.size.h=o}init_nodes_size(e){var t=e._data.view;t.width=t.element.clientWidth,t.height=t.element.clientHeight}init_nodes(){var e=this.jm.mind.nodes,t=r.d.createDocumentFragment();for(var i in e)this.create_node_element(e[i],t);this.e_nodes.appendChild(t),this.run_in_c11y_mode_if_needed((()=>{for(var t in e)this.init_nodes_size(e[t])}))}add_node(e){this.create_node_element(e,this.e_nodes),this.run_in_c11y_mode_if_needed((()=>{this.init_nodes_size(e)}))}run_in_c11y_mode_if_needed(e){this.container.offsetParent?e():(s.warn(\"init nodes in compatibility mode. because the container or its parent has style {display:none}. \"),this.e_panel.style.position=\"absolute\",this.e_panel.style.top=\"-100000\",r.d.body.appendChild(this.e_panel),e(),this.container.appendChild(this.e_panel),this.e_panel.style.position=null,this.e_panel.style.top=null)}create_node_element(e,t){var i=null;\"view\"in e._data?i=e._data.view:(i={},e._data.view=i);var n=r.c(\"jmnode\");if(e.isroot)n.className=\"root\";else{var o=r.c(\"jmexpander\");r.t(o,\"-\"),o.setAttribute(\"nodeid\",e.id),o.style.visibility=\"hidden\",t.appendChild(o),i.expander=o}e.topic&&this.render_node(n,e),n.setAttribute(\"nodeid\",e.id),n.style.visibility=\"hidden\",this._reset_node_custom_style(n,e.data),t.appendChild(n),i.element=n}remove_node(e){null!=this.selected_node&&this.selected_node.id==e.id&&(this.selected_node=null),null!=this.editing_node&&this.editing_node.id==e.id&&(e._data.view.element.removeChild(this.e_editor),this.editing_node=null);for(var t=e.children,i=t.length;i--;)this.remove_node(t[i]);if(e._data.view){var n=e._data.view.element,o=e._data.view.expander;this.e_nodes.removeChild(n),this.e_nodes.removeChild(o),e._data.view.element=null,e._data.view.expander=null}}update_node(e){var t=e._data.view,i=t.element;if(e.topic&&this.render_node(i,e),this.layout.is_visible(e))t.width=i.clientWidth,t.height=i.clientHeight;else{let e=i.getAttribute(\"style\");i.style=\"visibility: visible; left:0; top:0;\",t.width=i.clientWidth,t.height=i.clientHeight,i.style=e}}select_node(e){if(this.selected_node){var t=this.selected_node._data.view.element;t.className=t.className.replace(/\\s*selected\\b/i,\"\"),this.restore_selected_node_custom_style(this.selected_node)}e&&(this.selected_node=e,e._data.view.element.className+=\" selected\",this.clear_selected_node_custom_style(e))}select_clear(){this.select_node(null)}get_editing_node(){return this.editing_node}is_editing(){return!!this.editing_node}edit_node_begin(e){if(e.topic){null!=this.editing_node&&this.edit_node_end(),this.editing_node=e;var t=e._data.view.element,i=e.topic,n=getComputedStyle(t);this.e_editor.value=i,this.e_editor.style.width=t.clientWidth-parseInt(n.getPropertyValue(\"padding-left\"))-parseInt(n.getPropertyValue(\"padding-right\"))+\"px\",t.innerHTML=\"\",t.appendChild(this.e_editor),t.style.zIndex=5,this.e_editor.focus(),this.e_editor.select()}else s.warn(\"don't edit image nodes\")}edit_node_end(){if(null!=this.editing_node){var e=this.editing_node;this.editing_node=null;var t=e._data.view.element,i=this.e_editor.value;t.style.zIndex=\"auto\",t.removeChild(this.e_editor),a.text.is_empty(i)||e.topic===i?this.render_node(t,e):this.jm.update_node(e.id,i)}this.e_panel.focus()}get_view_offset(){var e=this.layout.bounds;return{x:(this.size.w-e.e-e.w)/2,y:this.size.h/2}}resize(){this.graph.set_size(1,1),this.e_nodes.style.width=\"1px\",this.e_nodes.style.height=\"1px\",this.expand_size(),this._show()}_show(){this.graph.set_size(this.size.w,this.size.h),this.e_nodes.style.width=this.size.w+\"px\",this.e_nodes.style.height=this.size.h+\"px\",this.show_nodes(),this.show_lines(),this.jm.invoke_event_handle(i.resize,{data:[]})}zoom_in(e){return this.set_zoom(this.zoom_current+this.opts.zoom.step,e)}zoom_out(e){return this.set_zoom(this.zoom_current-this.opts.zoom.step,e)}set_zoom(e,t){if(e<this.opts.zoom.min||e>this.opts.zoom.max)return!1;let i=this.e_panel.getBoundingClientRect();if(e<1&&e<this.zoom_current&&this.size.w*e<i.width&&this.size.h*e<i.height)return!1;let n=t?{x:t.x-i.x,y:t.y-i.y}:{x:i.width/2,y:i.height/2},o=(this.e_panel.scrollLeft+n.x)*e/this.zoom_current-n.x,s=(this.e_panel.scrollTop+n.y)*e/this.zoom_current-n.y;this.zoom_current=e;for(var r=0;r<this.e_panel.children.length;r++)this.e_panel.children[r].style.zoom=e;return this._show(),this.e_panel.scrollLeft=o,this.e_panel.scrollTop=s,!0}show(e){s.debug(`view.show: {keep_center: ${e}}`),this.expand_size(),this._show(),e&&this.center_node(this.jm.mind.root)}relayout(){this.expand_size(),this._show()}save_location(e){var t=e._data.view;t._saved_location={x:parseInt(t.element.style.left)-this.e_panel.scrollLeft,y:parseInt(t.element.style.top)-this.e_panel.scrollTop}}restore_location(e){var t=e._data.view;this.e_panel.scrollLeft=parseInt(t.element.style.left)-t._saved_location.x,this.e_panel.scrollTop=parseInt(t.element.style.top)-t._saved_location.y}clear_nodes(){var e=this.jm.mind;if(null!=e){var t=e.nodes,i=null;for(var n in t)(i=t[n])._data.view.element=null,i._data.view.expander=null;this.e_nodes.innerHTML=\"\"}}show_nodes(){var e=this.jm.mind.nodes,t=null,i=null,n=null,o=null,s=this.get_view_offset();for(var r in e)i=(o=(t=e[r])._data.view).element,this.layout.is_visible(t)?(this.reset_node_custom_style(t),n=this.layout.get_node_point(t),o.abs_x=s.x+n.x,o.abs_y=s.y+n.y,i.style.left=s.x+n.x+\"px\",i.style.top=s.y+n.y+\"px\",i.style.display=\"\",i.style.visibility=\"visible\",this._show_expander(t,s)):(i.style.display=\"none\",o.expander.style.display=\"none\")}_show_expander(e,t){if(e.isroot)return;var i=e._data.view.expander;if(0==e.children.length)return i.style.display=\"none\",void(i.style.visibility=\"hidden\");let n=this._get_expander_text(e);r.t(i,n);let o=this.layout.get_expander_point(e);i.style.left=t.x+o.x+\"px\",i.style.top=t.y+o.y+\"px\",i.style.display=\"\",i.style.visibility=\"visible\"}_get_expander_text(e){let t=this.opts.expander_style?this.opts.expander_style.toLowerCase():\"char\";return\"number\"===t?e.children.length>99?\"...\":e.children.length:\"char\"===t?e.expanded?\"-\":\"+\":void 0}_default_node_render(e,t){this.opts.support_html?r.h(e,t.topic):r.t(e,t.topic)}_custom_node_render(e,t){this.opts.custom_node_render(this.jm,e,t)||this._default_node_render(e,t)}reset_node_custom_style(e){this._reset_node_custom_style(e._data.view.element,e.data)}_reset_node_custom_style(e,t){if(\"background-color\"in t&&(e.style.backgroundColor=t[\"background-color\"]),\"foreground-color\"in t&&(e.style.color=t[\"foreground-color\"]),\"width\"in t&&(e.style.width=t.width+\"px\"),\"height\"in t&&(e.style.height=t.height+\"px\"),\"font-size\"in t&&(e.style.fontSize=t[\"font-size\"]+\"px\"),\"font-weight\"in t&&(e.style.fontWeight=t[\"font-weight\"]),\"font-style\"in t&&(e.style.fontStyle=t[\"font-style\"]),\"background-image\"in t){var i=t[\"background-image\"];if(i.startsWith(\"data\")&&t.width&&t.height){var n=new Image;n.onload=function(){var t=r.c(\"canvas\");t.width=e.clientWidth,t.height=e.clientHeight;if(t.getContext){t.getContext(\"2d\").drawImage(this,2,2,e.clientWidth,e.clientHeight);var i=t.toDataURL();e.style.backgroundImage=\"url(\"+i+\")\"}},n.src=i}else e.style.backgroundImage=\"url(\"+i+\")\";e.style.backgroundSize=\"99%\",\"background-rotation\"in t&&(e.style.transform=\"rotate(\"+t[\"background-rotation\"]+\"deg)\")}}restore_selected_node_custom_style(e){var t=e._data.view.element,i=e.data;\"background-color\"in i&&(t.style.backgroundColor=i[\"background-color\"]),\"foreground-color\"in i&&(t.style.color=i[\"foreground-color\"])}clear_selected_node_custom_style(e){var t=e._data.view.element;t.style.backgroundColor=\"\",t.style.color=\"\"}clear_lines(){this.graph.clear()}show_lines(){this.clear_lines();var e=this.jm.mind.nodes,t=null,i=null,n=null,o=null,s=this.get_view_offset();for(var r in e)(t=e[r]).isroot||this.layout.is_visible(t)&&(i=this.layout.get_node_point_in(t),n=this.layout.get_node_point_out(t.parent),o=t.data[\"leading-line-color\"],this.graph.draw_line(n,i,s,o))}setup_canvas_draggable(e){if(this.opts.draggable=e,!this._initialized){let e,t,i=!1;this.opts.hide_scrollbars_when_draggable&&(this.e_panel.style=\"overflow: hidden\"),r.on(this.container,\"mousedown\",(n=>{this.opts.draggable&&(i=!0,e=n.clientX,t=n.clientY)})),r.on(this.container,\"mouseup\",(()=>{i=!1})),r.on(this.container,\"mousemove\",(n=>{this.opts.draggable&&i&&(this.e_panel.scrollBy(e-n.clientX,t-n.clientY),e=n.clientX,t=n.clientY)}))}}center_node(e){if(!this.layout.is_visible(e))return s.warn(\"can not scroll to the node, because it is invisible\"),!1;let t=e._data.view,i=this.e_panel.getBoundingClientRect(),n=t.abs_x+t.width/2,o=t.abs_y+t.height/2;return this.e_panel.scrollTo(n*this.zoom_current-i.width/2,o*this.zoom_current-i.height/2),!0}zoomIn(e){return s.warn(\"please use zoom_in instead\"),this.zoom_in(e)}zoomOut(e){return s.warn(\"please use zoom_out instead\"),this.zoom_out(e)}setZoom(e,t){return s.warn(\"please use set_zoom instead\"),this.set_zoom(e,t)}}class m{constructor(e,t){this.jm=e,this.opts=t,this.mapping=t.mapping,this.handles=t.handles,this._newid=null,this._mapping={}}init(){for(var e in r.on(this.jm.view.e_panel,\"keydown\",this.handler.bind(this)),this.handles.addchild=this.handle_addchild,this.handles.addbrother=this.handle_addbrother,this.handles.editnode=this.handle_editnode,this.handles.delnode=this.handle_delnode,this.handles.toggle=this.handle_toggle,this.handles.up=this.handle_up,this.handles.down=this.handle_down,this.handles.left=this.handle_left,this.handles.right=this.handle_right,this.mapping)if(this.mapping[e]&&e in this.handles){let t=this.mapping[e];Array.isArray(t)||(t=[t]);for(let i of t)this._mapping[i]=this.handles[e]}\"function\"==typeof this.opts.id_generator?this._newid=this.opts.id_generator:this._newid=a.uuid.newid}enable_shortcut(){this.opts.enable=!0}disable_shortcut(){this.opts.enable=!1}handler(e){if(9==e.which&&e.preventDefault(),!this.jm.view.is_editing()){var t=e||event;if(!this.opts.enable)return!0;var i=t.keyCode+(t.metaKey<<13)+(t.ctrlKey<<12)+(t.altKey<<11)+(t.shiftKey<<10);i in this._mapping&&this._mapping[i].call(this,this.jm,e)}}handle_addchild(e,t){var i=e.get_selected_node();if(i){var n=this._newid();e.add_node(i,n,\"New Node\")&&(e.select_node(n),e.begin_edit(n))}}handle_addbrother(e,t){var i=e.get_selected_node();if(i&&!i.isroot){var n=this._newid();e.insert_node_after(i,n,\"New Node\")&&(e.select_node(n),e.begin_edit(n))}}handle_editnode(e,t){var i=e.get_selected_node();i&&e.begin_edit(i)}handle_delnode(e,t){var i=e.get_selected_node();i&&!i.isroot&&(e.select_node(i.parent),e.remove_node(i))}handle_toggle(e,t){var i=t||event,n=e.get_selected_node();n&&(e.toggle_node(n.id),i.stopPropagation(),i.preventDefault())}handle_up(e,t){var i=t||event,n=e.get_selected_node();if(n){var o=e.find_node_before(n);if(!o){var s=e.find_node_before(n.parent);s&&s.children.length>0&&(o=s.children[s.children.length-1])}o&&e.select_node(o),i.stopPropagation(),i.preventDefault()}}handle_down(e,t){var i=t||event,n=e.get_selected_node();if(n){var o=e.find_node_after(n);if(!o){var s=e.find_node_after(n.parent);s&&s.children.length>0&&(o=s.children[0])}o&&e.select_node(o),i.stopPropagation(),i.preventDefault()}}handle_left(e,i){this._handle_direction(e,i,t.left)}handle_right(e,i){this._handle_direction(e,i,t.right)}_handle_direction(e,t,i){var n=t||event,o=e.get_selected_node(),s=null;if(o){if(o.isroot){for(var r=o.children,a=[],d=0;d<r.length;d++)r[d].direction===i&&a.push(d);s=r[a[Math.floor((a.length-1)/2)]]}else if(o.direction===i){var l=(a=o.children).length;l>0&&(s=a[Math.floor((l-1)/2)])}else s=o.parent;s&&e.select_node(s),n.stopPropagation(),n.preventDefault()}}}const w={plugins:[]};function y(e){if(!(e instanceof x))throw new Error(\"can not register plugin, it is not an instance of Plugin\");if(w.plugins.map((e=>e.name)).includes(e.name))throw new Error(\"can not register plugin \"+e.name+\": plugin name already exist\");w.plugins.push(e)}function b(e,t){r.w.setTimeout((function(){!function(e,t){w.plugins.forEach((i=>i.fn_init(e,t[i.name])))}(e,t)}),0)}class x{constructor(e,t){if(!e)throw new Error(\"plugin must has a name\");if(!t||\"function\"!=typeof t)throw new Error(\"plugin must has an init function\");this.name=e,this.fn_init=t}}class z{static mind=h;static node=l;static direction=t;static event_type=i;static $=r;static plugin=x;static register_plugin=y;static util=a;constructor(t){z.current=this,this.options=function(e){var t={};if(a.json.merge(t,d),a.json.merge(t,e),!t.container)throw new Error(\"the options.container should not be null or empty.\");return t}(t),s.level(n[this.options.log_level]),this.version=e,this.initialized=!1,this.mind=null,this.event_handles=[],this.init()}init(){if(!this.initialized){this.initialized=!0;var e={mode:this.options.mode,hspace:this.options.layout.hspace,vspace:this.options.layout.vspace,pspace:this.options.layout.pspace,cousin_space:this.options.layout.cousin_space},t={container:this.options.container,support_html:this.options.support_html,engine:this.options.view.engine,enable_device_pixel_ratio:this.options.view.enable_device_pixel_ratio,hmargin:this.options.view.hmargin,vmargin:this.options.view.vmargin,line_width:this.options.view.line_width,line_color:this.options.view.line_color,line_style:this.options.view.line_style,custom_line_render:this.options.view.custom_line_render,draggable:this.options.view.draggable,hide_scrollbars_when_draggable:this.options.view.hide_scrollbars_when_draggable,node_overflow:this.options.view.node_overflow,zoom:this.options.view.zoom,custom_node_render:this.options.view.custom_node_render,expander_style:this.options.view.expander_style};this.data=new c(this),this.layout=new p(this,e),this.view=new g(this,t),this.shortcut=new m(this,this.options.shortcut),this.data.init(),this.layout.init(),this.view.init(),this.shortcut.init(),this._event_bind(),b(this,this.options.plugin)}}get_editable(){return this.options.editable}enable_edit(){this.options.editable=!0}disable_edit(){this.options.editable=!1}get_view_draggable(){return this.options.view.draggable}enable_view_draggable(){this.options.view.draggable=!0,this.view.setup_canvas_draggable(!0)}disable_view_draggable(){this.options.view.draggable=!1,this.view.setup_canvas_draggable(!1)}enable_event_handle(e){this.options.default_event_handle[\"enable_\"+e+\"_handle\"]=!0}disable_event_handle(e){this.options.default_event_handle[\"enable_\"+e+\"_handle\"]=!1}set_theme(e){var t=this.options.theme;this.options.theme=e||null,t!=this.options.theme&&(this.view.reset_theme(),this.view.reset_custom_style())}_event_bind(){this.view.add_event(this,\"mousedown\",this.mousedown_handle),this.view.add_event(this,\"click\",this.click_handle),this.view.add_event(this,\"dblclick\",this.dblclick_handle),this.view.add_event(this,\"mousewheel\",this.mousewheel_handle,!0)}mousedown_handle(e){if(this.options.default_event_handle.enable_mousedown_handle){var t=e.target||event.srcElement,i=this.view.get_binded_nodeid(t);i?this.view.is_node(t)&&this.select_node(i):this.select_clear()}}click_handle(e){if(this.options.default_event_handle.enable_click_handle){var t=e.target||event.srcElement;if(this.view.is_expander(t)){var i=this.view.get_binded_nodeid(t);i&&this.toggle_node(i)}}}dblclick_handle(e){if(this.options.default_event_handle.enable_dblclick_handle&&this.get_editable()){var t=e.target||event.srcElement;if(this.view.is_node(t)){var i=this.view.get_binded_nodeid(t);i&&this.begin_edit(i)}}}mousewheel_handle(e){if(this.options.default_event_handle.enable_mousewheel_handle&&e.ctrlKey){var t=e||event;t.preventDefault(),t.deltaY<0?this.view.zoom_in(t):this.view.zoom_out(t)}}begin_edit(e){if(!l.is_node(e)){var t=this.get_node(e);return t?this.begin_edit(t):(s.error(\"the node[id=\"+e+\"] can not be found.\"),!1)}this.get_editable()?this.view.edit_node_begin(e):s.error(\"fail, this mind map is not editable.\")}end_edit(){this.view.edit_node_end()}toggle_node(e){if(!l.is_node(e)){var t=this.get_node(e);return t?this.toggle_node(t):void s.error(\"the node[id=\"+e+\"] can not be found.\")}e.isroot||(this.view.save_location(e),this.layout.toggle_node(e),this.view.relayout(),this.view.restore_location(e))}expand_node(e){if(!l.is_node(e)){var t=this.get_node(e);return t?this.expand_node(t):void s.error(\"the node[id=\"+e+\"] can not be found.\")}e.isroot||(this.view.save_location(e),this.layout.expand_node(e),this.view.relayout(),this.view.restore_location(e))}collapse_node(e){if(!l.is_node(e)){var t=this.get_node(e);return t?this.collapse_node(t):void s.error(\"the node[id=\"+e+\"] can not be found.\")}e.isroot||(this.view.save_location(e),this.layout.collapse_node(e),this.view.relayout(),this.view.restore_location(e))}expand_all(){this.layout.expand_all(),this.view.relayout()}collapse_all(){this.layout.collapse_all(),this.view.relayout()}expand_to_depth(e){this.layout.expand_to_depth(e),this.view.relayout()}_reset(){this.view.reset(),this.layout.reset(),this.data.reset()}_show(e,t){var n=e||u.node_array.example;this.mind=this.data.load(n),this.mind?(s.debug(\"data.load ok\"),this.view.load(),s.debug(\"view.load ok\"),this.layout.layout(),s.debug(\"layout.layout ok\"),this.view.show(!t),s.debug(\"view.show ok\"),this.invoke_event_handle(i.show,{data:[e]})):s.error(\"data.load error\")}show(e,t){this._reset(),this._show(e,t)}get_meta(){return{name:this.mind.name,author:this.mind.author,version:this.mind.version}}get_data(e){var t=e||\"node_tree\";return this.data.get_data(t)}get_root(){return this.mind.root}get_node(e){return l.is_node(e)?e:this.mind.get_node(e)}add_node(e,n,o,r,a){if(this.get_editable()){var d=this.get_node(e),l=t.of(a);void 0===l&&(l=this.layout.calculate_next_child_direction(d));var h=this.mind.add_node(d,n,o,r,l);return h&&(this.view.add_node(h),this.layout.layout(),this.view.show(!1),this.view.reset_node_custom_style(h),this.expand_node(d),this.invoke_event_handle(i.edit,{evt:\"add_node\",data:[d.id,n,o,r,l],node:n})),h}return s.error(\"fail, this mind map is not editable\"),null}insert_node_before(e,n,o,r,a){if(this.get_editable()){var d=this.get_node(e),l=t.of(a);void 0===l&&(l=this.layout.calculate_next_child_direction(d.parent));var h=this.mind.insert_node_before(d,n,o,r,l);return h&&(this.view.add_node(h),this.layout.layout(),this.view.show(!1),this.invoke_event_handle(i.edit,{evt:\"insert_node_before\",data:[d.id,n,o,r,l],node:n})),h}return s.error(\"fail, this mind map is not editable\"),null}insert_node_after(e,n,o,r,a){if(this.get_editable()){var d=this.get_node(e),l=t.of(a);void 0===l&&(l=this.layout.calculate_next_child_direction(d.parent));var h=this.mind.insert_node_after(d,n,o,r,l);return h&&(this.view.add_node(h),this.layout.layout(),this.view.show(!1),this.invoke_event_handle(i.edit,{evt:\"insert_node_after\",data:[d.id,n,o,r,l],node:n})),h}return s.error(\"fail, this mind map is not editable\"),null}remove_node(e){if(!l.is_node(e)){var t=this.get_node(e);return t?this.remove_node(t):(s.error(\"the node[id=\"+e+\"] can not be found.\"),!1)}if(this.get_editable()){if(e.isroot)return s.error(\"fail, can not remove root node\"),!1;var n=e.id,o=e.parent.id,r=this.get_node(o);return this.view.save_location(r),this.view.remove_node(e),this.mind.remove_node(e),this.layout.layout(),this.view.show(!1),this.view.restore_location(r),this.invoke_event_handle(i.edit,{evt:\"remove_node\",data:[n],node:o}),!0}return s.error(\"fail, this mind map is not editable\"),!1}update_node(e,t){if(this.get_editable())if(a.text.is_empty(t))s.warn(\"fail, topic can not be empty\");else{var n=this.get_node(e);if(n){if(n.topic===t)return s.info(\"nothing changed\"),void this.view.update_node(n);n.topic=t,this.view.update_node(n),this.layout.layout(),this.view.show(!1),this.invoke_event_handle(i.edit,{evt:\"update_node\",data:[e,t],node:e})}}else s.error(\"fail, this mind map is not editable\")}move_node(e,t,n,o){if(this.get_editable()){var r=this.get_node(e),a=this.mind.move_node(r,t,n,o);a&&(this.view.update_node(a),this.layout.layout(),this.view.show(!1),this.invoke_event_handle(i.edit,{evt:\"move_node\",data:[e,t,n,o],node:e}))}else s.error(\"fail, this mind map is not editable\")}select_node(e){if(!l.is_node(e)){var t=this.get_node(e);return t?this.select_node(t):void s.error(\"the node[id=\"+e+\"] can not be found.\")}this.layout.is_visible(e)&&(this.mind.selected=e,this.view.select_node(e),this.invoke_event_handle(i.select,{evt:\"select_node\",data:[],node:e.id}))}get_selected_node(){return this.mind?this.mind.selected:null}select_clear(){this.mind&&(this.mind.selected=null,this.view.select_clear())}is_node_visible(e){return this.layout.is_visible(e)}scroll_node_to_center(e){if(l.is_node(e))this.view.center_node(e);else{var t=this.get_node(e);t?this.scroll_node_to_center(t):s.error(\"the node[id=\"+e+\"] can not be found.\")}}find_node_before(e){if(!l.is_node(e)){var t=this.get_node(e);return t?this.find_node_before(t):void s.error(\"the node[id=\"+e+\"] can not be found.\")}if(e.isroot)return null;var i=null;if(e.parent.isroot)for(var n=e.parent.children,o=null,r=null,a=0;a<n.length;a++)r=n[a],e.direction===r.direction&&(e.id===r.id&&(i=o),o=r);else i=this.mind.get_node_before(e);return i}find_node_after(e){if(!l.is_node(e)){var t=this.get_node(e);return t?this.find_node_after(t):void s.error(\"the node[id=\"+e+\"] can not be found.\")}if(e.isroot)return null;var i=null;if(e.parent.isroot){for(var n=e.parent.children,o=!1,r=null,a=0;a<n.length;a++)if(r=n[a],e.direction===r.direction){if(o){i=r;break}e.id===r.id&&(o=!0)}}else i=this.mind.get_node_after(e);return i}set_node_color(e,t,i){if(!this.get_editable())return s.error(\"fail, this mind map is not editable\"),null;var n=this.mind.get_node(e);n&&(t&&(n.data[\"background-color\"]=t),i&&(n.data[\"foreground-color\"]=i),this.view.reset_node_custom_style(n))}set_node_font_style(e,t,i,n){if(!this.get_editable())return s.error(\"fail, this mind map is not editable\"),null;var o=this.mind.get_node(e);o&&(t&&(o.data[\"font-size\"]=t),i&&(o.data[\"font-weight\"]=i),n&&(o.data[\"font-style\"]=n),this.view.reset_node_custom_style(o),this.view.update_node(o),this.layout.layout(),this.view.show(!1))}set_node_background_image(e,t,i,n,o){if(!this.get_editable())return s.error(\"fail, this mind map is not editable\"),null;var r=this.mind.get_node(e);r&&(t&&(r.data[\"background-image\"]=t),i&&(r.data.width=i),n&&(r.data.height=n),o&&(r.data[\"background-rotation\"]=o),this.view.reset_node_custom_style(r),this.view.update_node(r),this.layout.layout(),this.view.show(!1))}set_node_background_rotation(e,t){if(!this.get_editable())return s.error(\"fail, this mind map is not editable\"),null;var i=this.mind.get_node(e);if(i){if(!i.data[\"background-image\"])return s.error(\"fail, only can change rotation angle of node with background image\"),null;i.data[\"background-rotation\"]=t,this.view.reset_node_custom_style(i),this.view.update_node(i),this.layout.layout(),this.view.show(!1)}}resize(){this.view.resize()}add_event_listener(e){\"function\"==typeof e&&this.event_handles.push(e)}clear_event_listener(){this.event_handles=[]}invoke_event_handle(e,t){var i=this;r.w.setTimeout((function(){i._invoke_event_handle(e,t)}),0)}_invoke_event_handle(e,t){for(var i=this.event_handles.length,n=0;n<i;n++)this.event_handles[n](e,t)}static show(e,t){s.warn(\"`jsMind.show(options, mind)` is deprecated, please use `jm = new jsMind(options); jm.show(mind);` instead\");var i=new z(e);return i.show(t),i}}return z}));\n//# sourceMappingURL=jsmind.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qc21pbmQvZXM2L2pzbWluZC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsS0FBb0Qsb0JBQW9CLENBQWdILENBQUMsa0JBQWtCLGFBQWEsZ0JBQWdCLHlGQUF5RixrQ0FBa0MsRUFBRSxTQUFTLHdDQUF3QywrTEFBK0wsSUFBSSxnQ0FBZ0MsSUFBSSx5Q0FBeUMsbUJBQW1CLG1DQUFtQyw0Q0FBNEMsRUFBRSxrQkFBa0Isa0NBQWtDLCtCQUErQiwrQkFBK0Isa0NBQWtDLDhGQUE4RixrQkFBa0IsZUFBZSw4Q0FBOEMsZ0NBQWdDLG9CQUFvQiwrQkFBK0Isc0JBQXNCLG1GQUFtRixzQkFBc0IseUVBQXlFLG9CQUFvQiwwR0FBMEcseUJBQXlCLHdFQUF3RSxZQUFZLE1BQU0sbUJBQW1CLHFCQUFxQixvQkFBb0IsNENBQTRDLGlCQUFpQixzQkFBc0IsTUFBTSwrQ0FBK0MsT0FBTyxFQUFFLEtBQUsseUZBQXlGLDJCQUEyQixrREFBa0QsS0FBSyw2REFBNkQsbUJBQW1CLDBFQUEwRSxxQ0FBcUMsc0VBQXNFLHVCQUF1QixPQUFPLHdCQUF3Qix5QkFBeUIseUJBQXlCLHFCQUFxQixxQkFBcUIsNEtBQTRLLFVBQVUsT0FBTyxpQkFBaUIsbUdBQW1HLE9BQU8scUJBQXFCLDBDQUEwQyxJQUFJLHVGQUF1RixtTUFBbU0sdUJBQXVCLCtDQUErQyxTQUFTLDZDQUE2Qyx1QkFBdUIsd0dBQXdHLFdBQVcsb0JBQW9CLFVBQVUsbUdBQW1HLFlBQVksUUFBUSw2QkFBNkIsNEZBQTRGLDhGQUE4RiwyREFBMkQsZUFBZSxzQkFBc0IsT0FBTyxxQkFBcUIsV0FBVyxzQkFBc0IsT0FBTyxzQkFBc0Isb0JBQW9CLHdCQUF3Qix3REFBd0Qsc0JBQXNCLFNBQVMsd0JBQXdCLHFCQUFxQixtQkFBbUIsVUFBVSxpQ0FBaUMsU0FBUyxrQkFBa0IsMkJBQTJCLFFBQVEsY0FBYyxrR0FBa0csWUFBWSwwRkFBMEYsZ0JBQWdCLHNJQUFzSSx3QkFBd0IsNkVBQTZFLDRDQUE0QyxrTEFBa0wsOEJBQThCLDZFQUE2RSxpQkFBaUIsNENBQTRDLG1CQUFtQixrQkFBa0IsdUJBQXVCLHdGQUF3Rix3QkFBd0IsZ0JBQWdCLHNDQUFzQyw2QkFBNkIsNEVBQTRFLGlCQUFpQiw0Q0FBNEMsa0JBQWtCLGtCQUFrQix1QkFBdUIsdUZBQXVGLHdCQUF3QixjQUFjLDREQUE0RCxtQkFBbUIsNEhBQTRILDBCQUEwQix1Q0FBdUMsNEJBQTRCLElBQUksNENBQTRDLHlCQUF5QiwrREFBK0QsNERBQTRELEtBQUssOEJBQThCLHFHQUFxRyxTQUFTLG9CQUFvQixTQUFTLHVCQUF1QiwrRUFBK0UsbUJBQW1CLHVDQUF1QyxJQUFJLG1CQUFtQixjQUFjLE1BQU0sZUFBZSxvREFBb0Qsc0pBQXNKLFNBQVMsZUFBZSw4RUFBOEUsZ0VBQWdFLGtFQUFrRSxnQ0FBZ0MsSUFBSSx3QkFBd0IsV0FBVywyQ0FBMkMsSUFBSSxtQkFBbUIsY0FBYyxNQUFNLG1EQUFtRCx1Q0FBdUMsYUFBYSxnSEFBZ0gsaUJBQWlCLG1CQUFtQiwyQkFBMkIsWUFBWSxvQkFBb0IsOEJBQThCLFNBQVMsa0RBQWtELElBQUksV0FBVyxTQUFTLGdDQUFnQyw0Q0FBNEMsc0JBQXNCLDBCQUEwQiwrRkFBK0Ysc0JBQXNCLHVCQUF1QixlQUFlLDhDQUE4QyxxREFBcUQsc0JBQXNCLHVDQUF1QyxzRUFBc0UsV0FBVyxzQ0FBc0MsMkJBQTJCLFNBQVMsOEZBQThGLFNBQVMsa0NBQWtDLDhDQUE4QyxpREFBaUQsZ0RBQWdELHVDQUF1QyxXQUFXLGlDQUFpQyx5QkFBeUIsa0JBQWtCLG1CQUFtQixPQUFPLDJDQUEyQyw2RkFBNkYsYUFBYSx5QkFBeUIsaUJBQWlCLGVBQWUsY0FBYyxZQUFZLFdBQVcseUNBQXlDLFdBQVcsYUFBYSxTQUFTLGtDQUFrQyxzREFBc0QsRUFBRSxzQkFBc0IsMkJBQTJCLCtGQUErRixzQkFBc0Isd0JBQXdCLGVBQWUsOENBQThDLHNEQUFzRCxzQkFBc0IsZ0NBQWdDLFlBQVksMkJBQTJCLGtFQUFrRSw2QkFBNkIsa0NBQWtDLElBQUksa0NBQWtDLDZEQUE2RCx1QkFBdUIsWUFBWSxrQ0FBa0Msb0RBQW9ELElBQUksNkJBQTZCLHFCQUFxQix5QkFBeUIsZ0NBQWdDLGdEQUFnRCxrQkFBa0IsZ0NBQWdDLHVCQUF1QixTQUFTLDJCQUEyQixTQUFTLDJHQUEyRyxTQUFTLHNCQUFzQixtQ0FBbUMsMkJBQTJCLG1CQUFtQixtQkFBbUIsT0FBTywyQ0FBMkMsd0pBQXdKLGFBQWEseUJBQXlCLFVBQVUsZ0NBQWdDLElBQUkscUNBQXFDLFdBQVcsU0FBUyw0R0FBNEcsc0JBQXNCLHlCQUF5QixtRUFBbUUsaURBQWlELGdDQUFnQyxzQkFBc0Isc0JBQXNCLFFBQVEsOENBQThDLHFCQUFxQixTQUFTLG1HQUFtRyx3QkFBd0IsV0FBVyxtSUFBbUksU0FBUyx3QkFBd0IseUNBQXlDLFdBQVcsK0NBQStDLElBQUksTUFBTSxNQUFNLG1CQUFtQixPQUFPLFFBQVEsV0FBVyxnREFBZ0QsSUFBSSxPQUFPLFNBQVMsNEJBQTRCLDRGQUE0Riw2Q0FBNkMsV0FBVyx3REFBd0QsZ0JBQWdCLE1BQU0sMEVBQTBFLGtCQUFrQix3Q0FBd0MsZ0NBQWdDLFdBQVcsOENBQThDLDBCQUEwQixRQUFRLFdBQVcsaUVBQWlFLDhCQUE4QixrQ0FBa0MsS0FBSyxXQUFXLHVHQUF1RyxTQUFTLDBCQUEwQix3QkFBd0IsME5BQTBOLGFBQWEsK0VBQStFLHlCQUF5QixXQUFXLHlCQUF5QixrQkFBa0IscUJBQXFCLDRCQUE0QixxQkFBcUIscUJBQXFCLHVCQUF1Qix1QkFBdUIsSUFBSSxPQUFPLFNBQVMsMEZBQTBGLHdDQUF3QyxxQkFBcUIsbUVBQW1FLDRCQUE0QixnQ0FBZ0MsMkJBQTJCLGFBQWEsS0FBSyxXQUFXLEVBQUUsb0RBQW9ELGlGQUFpRixzRUFBc0UsaUJBQWlCLEtBQUssSUFBSSxTQUFTLHNCQUFzQixtQ0FBbUMsVUFBVSxLQUFLLDJDQUEyQyxPQUFPLFVBQVUsSUFBSSxXQUFXLHNCQUFzQixrQkFBa0IsUUFBUSw4Q0FBOEMsaUJBQWlCLFNBQVMsMERBQTBELDhCQUE4QiwrQkFBK0Isc0ZBQXNGLFFBQVEsZUFBZSxVQUFVLE9BQU8scUJBQXFCLFFBQVEsc0JBQXNCLFFBQVEsa0JBQWtCLDZQQUE2UCxZQUFZLFdBQVcsbVBBQW1QLFFBQVEsaUJBQWlCLDhGQUE4RixPQUFPLHVCQUF1QixRQUFRLHFDQUFxQyxpQkFBaUIsa0NBQWtDLDhCQUE4Qiw0Q0FBNEMsSUFBSSxvQ0FBb0MsK0JBQStCLFNBQVMsc0VBQXNFLG1CQUFtQiw4QkFBOEIseUJBQXlCLCtCQUErQix5Q0FBeUMsbUJBQW1CLDRCQUE0QiwrREFBK0QsSUFBSSw2Q0FBNkMsS0FBSyxJQUFJLGVBQWUsSUFBSSw4R0FBOEcsOEJBQThCLFdBQVcseUNBQXlDLG1CQUFtQiw0QkFBNEIsNkJBQTZCLFlBQVksSUFBSSx1Q0FBdUMsZ0JBQWdCLHlDQUF5QywyQ0FBMkMsaURBQWlELElBQUksb0VBQW9FLDBSQUEwUiwyQkFBMkIsd0RBQXdELElBQUksdWJBQXViLHFDQUFxQyxjQUFjLElBQUksbUNBQW1DLFNBQVMsa0NBQWtDLHdEQUF3RCxJQUFJLDBRQUEwUSxxQ0FBcUMsY0FBYyxJQUFJLG1DQUFtQyxTQUFTLG1CQUFtQiw0QkFBNEIscURBQXFELFVBQVUsaUNBQWlDLDhCQUE4QixjQUFjLHFDQUFxQyxjQUFjLFlBQVksU0FBUyxrQkFBa0Isa0RBQWtELDJFQUEyRSxxQkFBcUIsK0JBQStCLHNCQUFzQiw0QkFBNEIsaURBQWlELFVBQVUsc0RBQXNELEtBQUssNkNBQTZDLG9FQUFvRSxTQUFTLHNCQUFzQixzQ0FBc0Msa0hBQWtILGVBQWUsdUNBQXVDLGlJQUFpSSxPQUFPLDZEQUE2RCxlQUFlLGlFQUFpRSxlQUFlLHNHQUFzRyxvQ0FBb0MsRUFBRSxpQkFBaUIsc0dBQXNHLHNDQUFzQyxFQUFFLGFBQWEsK0JBQStCLHNEQUFzRCxRQUFRLHdCQUF3QixxREFBcUQsZUFBZSwrQkFBK0IsaUVBQWlFLFFBQVEsd0JBQXdCLHFEQUFxRCx1QkFBdUIsMkVBQTJFLElBQUksOEhBQThILGVBQWUsd0JBQXdCLE1BQU0scUJBQXFCLDhaQUE4Wix1Q0FBdUMsaUJBQWlCLDBCQUEwQixJQUFJLHNJQUFzSSxhQUFhLGtCQUFrQixjQUFjLHFCQUFxQixvQ0FBb0MsUUFBUSxlQUFlLHdHQUF3RyxRQUFRLGtDQUFrQyw4Q0FBOEMseUJBQXlCLFlBQVksMkRBQTJELG1CQUFtQiwyRUFBMkUsSUFBSSx3Q0FBd0MsbUJBQW1CLFFBQVEsWUFBWSxTQUFTLEVBQUUsU0FBUywyQ0FBMkMsZ0ZBQWdGLFVBQVUsa0JBQWtCLGNBQWMsbUdBQW1HLFFBQVEsNEJBQTRCLElBQUksdUNBQXVDLG9CQUFvQixtQkFBbUIsa0JBQWtCLHVPQUF1TyxhQUFhLGdCQUFnQixvQkFBb0IsMEJBQTBCLDJCQUEyQixpRUFBaUUsc0JBQXNCLHFGQUFxRixvQkFBb0IsZ0RBQWdELFFBQVEsZUFBZSx3SUFBd0ksUUFBUSxvQkFBb0IsOENBQThDLHVEQUF1RCxtQkFBbUIsMkVBQTJFLElBQUksd0NBQXdDLG1CQUFtQixRQUFRLFlBQVksU0FBUyxFQUFFLFNBQVMseUNBQXlDLGdGQUFnRixVQUFVLHFCQUFxQixjQUFjLHlUQUF5VCxRQUFRLHVEQUF1RCxtQkFBbUIsc0JBQXNCLHlJQUF5SSxhQUFhLDhEQUE4RCxzQkFBc0IsOEVBQThFLG9CQUFvQixzREFBc0QsUUFBUSxpQkFBaUIsOEdBQThHLFFBQVEsdVJBQXVSLE9BQU8sZ0pBQWdKLE1BQU0sMlpBQTJaLFdBQVcsMENBQTBDLGVBQWUsdURBQXVELDBDQUEwQyxrQkFBa0IsMkdBQTJHLCtEQUErRCx5QkFBeUIsbUVBQW1FLG1CQUFtQixrQ0FBa0Msc0JBQXNCLGVBQWUsWUFBWSxHQUFHLHFCQUFxQix1QkFBdUIsOEJBQThCLDRJQUE0SSxXQUFXLG9CQUFvQiw4QkFBOEIscUZBQXFGLGVBQWUsNENBQTRDLFFBQVEsdUdBQXVHLGNBQWMsNEJBQTRCLHVDQUF1QyxxQkFBcUIseUJBQXlCLGtEQUFrRCxPQUFPLDZHQUE2RyxjQUFjLDRJQUE0SSxrREFBa0QsbUJBQW1CLG1CQUFtQiw4REFBOEQsYUFBYSx3REFBd0QsZ0RBQWdELGtFQUFrRSwwQ0FBMEMsR0FBRyxZQUFZLCtFQUErRSx3QkFBd0IsR0FBRyw4QkFBOEIsMEhBQTBILGFBQWEsMk5BQTJOLHlCQUF5QixXQUFXLHFDQUFxQyxpQkFBaUIsb0JBQW9CLCtCQUErQixLQUFLLHdCQUF3QixtR0FBbUcsOEpBQThKLGVBQWUsK01BQStNLGdDQUFnQyxJQUFJLHdCQUF3QixpQkFBaUIsbURBQW1ELDhHQUE4RyxlQUFlLCtCQUErQiwwR0FBMEcsS0FBSyw4QkFBOEIsOEJBQThCLFFBQVEsTUFBTSwyREFBMkQsZUFBZSx1QkFBdUIsNENBQTRDLGlIQUFpSCwrR0FBK0csZUFBZSx1QkFBdUIsbUJBQW1CLHlCQUF5QixhQUFhLDBCQUEwQixtQkFBbUIsWUFBWSxrRUFBa0UsMkRBQTJELHdRQUF3USxzQ0FBc0MsZ0JBQWdCLDRCQUE0Qix3QkFBd0IsdUJBQXVCLGlEQUFpRCxxSUFBcUkscUJBQXFCLGtCQUFrQix5QkFBeUIsT0FBTywyQ0FBMkMsU0FBUyx3SEFBd0gsUUFBUSw0TUFBNE0sUUFBUSxFQUFFLFdBQVcsOERBQThELFlBQVksOERBQThELGNBQWMsdURBQXVELDJDQUEyQyxvRkFBb0YsU0FBUyxvQkFBb0IsRUFBRSx5QkFBeUIsZ0hBQWdILG9CQUFvQixZQUFZLCtCQUErQiwwQ0FBMEMsMEVBQTBFLFFBQVEscUJBQXFCLGVBQWUsR0FBRywwRUFBMEUsV0FBVyxnQ0FBZ0MsaUJBQWlCLG1CQUFtQixtQkFBbUIsaUhBQWlILG9CQUFvQixtQkFBbUIsb0pBQW9KLGNBQWMsbUJBQW1CLFlBQVkscUJBQXFCLDJFQUEyRSwyQkFBMkIsYUFBYSw4RUFBOEUsa1dBQWtXLG9CQUFvQixtQkFBbUIsNEJBQTRCLHdGQUF3RixpQ0FBaUMsU0FBUyx3Q0FBd0MsbUdBQW1HLHNCQUFzQiw2RUFBNkUscUdBQXFHLDBCQUEwQixxREFBcUQseUJBQXlCLDBFQUEwRSwyQkFBMkIsMkRBQTJELDhCQUE4QiwrWkFBK1osNEJBQTRCLDRDQUE0QyxnQkFBZ0Isb0JBQW9CLG9CQUFvQiw4Q0FBOEMsaUJBQWlCLG9FQUFvRSxvQkFBb0Isc0NBQXNDLFNBQVMsMENBQTBDLHVIQUF1SCxzQ0FBc0Msb0NBQW9DLHNJQUFzSSxvQ0FBb0MsMkJBQTJCLDRDQUE0QyxjQUFjLG1CQUFtQixhQUFhLG1CQUFtQiw4RUFBOEUsd01BQXdNLDBCQUEwQiw2Q0FBNkMsYUFBYSx1SEFBdUgsb0RBQW9ELHVDQUF1QyxLQUFLLHdDQUF3QyxpR0FBaUcsSUFBSSxlQUFlLHNHQUFzRyxtR0FBbUcsOEZBQThGLFVBQVUsNERBQTRELFdBQVcsOERBQThELGFBQWEsaUVBQWlFLFFBQVEsaUJBQWlCLHNHQUFzRyxPQUFPLDZkQUE2ZCxzQkFBc0IsMEJBQTBCLGdEQUFnRCxzR0FBc0csa0JBQWtCLG9CQUFvQixtQkFBbUIsb0JBQW9CLFdBQVcsOERBQThELGVBQWUsOEJBQThCLGdGQUFnRiwyREFBMkQscUJBQXFCLDRCQUE0QixNQUFNLG9CQUFvQixnRUFBZ0UsdUJBQXVCLDRCQUE0QixpQkFBaUIsb0JBQW9CLHlFQUF5RSxxQkFBcUIsNEJBQTRCLG1CQUFtQixvQkFBb0IsNEJBQTRCLHlEQUF5RCxtQkFBbUIsdUNBQXVDLGdFQUFnRSxlQUFlLHVDQUF1QyxNQUFNLDRCQUE0QixPQUFPLG1DQUFtQyw0REFBNEQsNERBQTRELGlCQUFpQix1Q0FBdUMsTUFBTSwyQkFBMkIsT0FBTyxrQ0FBa0MsMENBQTBDLDREQUE0RCxpQkFBaUIsbUNBQW1DLGtCQUFrQixvQ0FBb0MseUJBQXlCLDhDQUE4QyxNQUFNLGFBQWEsOEJBQThCLFdBQVcsa0NBQWtDLG1DQUFtQyx5QkFBeUIsNEJBQTRCLGdDQUFnQyxnQkFBZ0IsNkRBQTZELFNBQVMsWUFBWSxjQUFjLGlHQUFpRyxnSUFBZ0ksa0JBQWtCLGdCQUFnQiwyQkFBMkIsZUFBZSwrQ0FBK0MsTUFBTSxLQUFLLFFBQVEsaUJBQWlCLGdEQUFnRCxnRkFBZ0YsNEJBQTRCLFFBQVEsY0FBYyxjQUFjLG1CQUFtQixvQkFBb0IsV0FBVyxnQkFBZ0IseUJBQXlCLGNBQWMsZUFBZSx3Q0FBd0MsU0FBUywwSEFBMEgsU0FBUywySEFBMkgsT0FBTyxzQkFBc0Isb0JBQW9CLE9BQU8sMktBQTJLLElBQUksMnNCQUEyc0Isa1BBQWtQLGVBQWUsNkJBQTZCLGNBQWMseUJBQXlCLGVBQWUseUJBQXlCLHFCQUFxQixtQ0FBbUMsd0JBQXdCLG9FQUFvRSx5QkFBeUIsb0VBQW9FLHVCQUF1Qiw0REFBNEQsd0JBQXdCLDREQUE0RCxhQUFhLHlCQUF5QiwyR0FBMkcsY0FBYywyT0FBMk8sb0JBQW9CLDhEQUE4RCxrRUFBa0UsaUVBQWlFLGdCQUFnQiwwREFBMEQsaUNBQWlDLDZCQUE2QixxQ0FBcUMseUJBQXlCLG1CQUFtQixrRkFBa0YsaUNBQWlDLHlCQUF5QixxQ0FBcUMsd0JBQXdCLHFCQUFxQiwwRUFBMEUsZUFBZSwwRUFBMEUsY0FBYyxrQkFBa0IsdUJBQXVCLGlGQUFpRixpR0FBaUcsV0FBVywwQkFBMEIsZUFBZSxrQkFBa0IsdUJBQXVCLGtGQUFrRixxSEFBcUgsZUFBZSxrQkFBa0IsdUJBQXVCLGtGQUFrRixxSEFBcUgsaUJBQWlCLGtCQUFrQix1QkFBdUIsb0ZBQW9GLHVIQUF1SCxhQUFhLDhDQUE4QyxlQUFlLGdEQUFnRCxtQkFBbUIsb0RBQW9ELFNBQVMsd0RBQXdELFdBQVcsOEJBQThCLHFPQUFxTyxTQUFTLDhCQUE4QixVQUFVLDhCQUE4QixXQUFXLE9BQU8sdUVBQXVFLFlBQVkscUJBQXFCLDZCQUE2QixXQUFXLHNCQUFzQixZQUFZLDRDQUE0QyxvQkFBb0Isd0JBQXdCLGlDQUFpQyw4REFBOEQsb0NBQW9DLG1LQUFtSywwQ0FBMEMsS0FBSywyREFBMkQsOEJBQThCLHdCQUF3QixpQ0FBaUMscUVBQXFFLDhDQUE4QywwR0FBMEcsb0RBQW9ELEtBQUssMkRBQTJELDZCQUE2Qix3QkFBd0IsaUNBQWlDLHFFQUFxRSw2Q0FBNkMsMEdBQTBHLG1EQUFtRCxLQUFLLDJEQUEyRCxlQUFlLGtCQUFrQix1QkFBdUIsa0ZBQWtGLHdCQUF3QixnRUFBZ0UsNENBQTRDLDJMQUEyTCxrQ0FBa0MsS0FBSyx5REFBeUQsaUJBQWlCLG9GQUFvRixLQUFLLHVCQUF1QixNQUFNLDhFQUE4RSw0R0FBNEcsb0NBQW9DLEdBQUcsb0RBQW9ELG1CQUFtQix3QkFBd0Isc0RBQXNELHNHQUFzRyxzQ0FBc0MsR0FBRyxvREFBb0QsZUFBZSxrQkFBa0IsdUJBQXVCLGtGQUFrRiw2R0FBNkcsb0NBQW9DLEdBQUcsb0JBQW9CLHlDQUF5QyxlQUFlLDhEQUE4RCxtQkFBbUIsaUNBQWlDLHlCQUF5Qix5Q0FBeUMsS0FBSyx1QkFBdUIsaUZBQWlGLG9CQUFvQixrQkFBa0IsdUJBQXVCLHVGQUF1Rix3QkFBd0IsV0FBVyxpRUFBaUUsV0FBVywrREFBK0Qsb0NBQW9DLFNBQVMsbUJBQW1CLGtCQUFrQix1QkFBdUIsc0ZBQXNGLHdCQUF3QixXQUFXLG9CQUFvQiw0Q0FBNEMsV0FBVyx5Q0FBeUMsTUFBTSxJQUFJLE1BQU0scUJBQXFCLG1DQUFtQyxTQUFTLHNCQUFzQixtRkFBbUYsNEJBQTRCLDhHQUE4Ryw2QkFBNkIsbUZBQW1GLDRCQUE0QiwrTEFBK0wscUNBQXFDLG1GQUFtRiw0QkFBNEIsMk5BQTJOLGtDQUFrQyxtRkFBbUYsNEJBQTRCLE1BQU0seUhBQXlILHVJQUF1SSxTQUFTLG1CQUFtQixzQkFBc0IsaURBQWlELHVCQUF1QixzQkFBc0IseUJBQXlCLFdBQVcsMkJBQTJCLDRCQUE0QixLQUFLLDBCQUEwQix3Q0FBd0MsSUFBSSwrQkFBK0IsaUJBQWlCLDBGQUEwRixjQUFjLFlBQVksZUFBZSxvQkFBb0IsU0FBUztBQUMzeC9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9qc21pbmQvZXM2L2pzbWluZC5qcz82MWVmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBAbGljZW5zZSBCU0QtMy1DbGF1c2VcbiogQGNvcHlyaWdodCAyMDE0LTIwMjMgaGl6emdkZXZAMTYzLmNvbVxuKlxuKiBQcm9qZWN0IEhvbWU6XG4qICAgaHR0cHM6Ly9naXRodWIuY29tL2hpenpnZGV2L2pzbWluZC9cbiovXG4hZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTooZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOmV8fHNlbGYpLmpzTWluZD10KCl9KHRoaXMsKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7Y29uc3QgZT1cIjAuOC41XCI7XCJmdW5jdGlvblwiIT10eXBlb2YgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoJiYoU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNsaWNlKDAsZS5sZW5ndGgpPT09ZX0pO2NvbnN0IHQ9e2xlZnQ6LTEsY2VudGVyOjAscmlnaHQ6MSxvZjpmdW5jdGlvbihlKXtyZXR1cm4gZSYmLTEhPT1lJiYwIT09ZSYmMSE9PWU/XCItMVwiPT09ZXx8XCIwXCI9PT1lfHxcIjFcIj09PWU/cGFyc2VJbnQoZSk6XCJsZWZ0XCI9PT1lLnRvTG93ZXJDYXNlKCk/dGhpcy5sZWZ0OlwicmlnaHRcIj09PWUudG9Mb3dlckNhc2UoKT90aGlzLnJpZ2h0OlwiY2VudGVyXCI9PT1lLnRvTG93ZXJDYXNlKCk/dGhpcy5jZW50ZXI6dm9pZCAwOmV9fSxpPXtzaG93OjEscmVzaXplOjIsZWRpdDozLHNlbGVjdDo0fSxuPXtkZWJ1ZzoxLGluZm86Mix3YXJuOjMsZXJyb3I6NCxkaXNhYmxlOjl9O3ZhciBvPWZ1bmN0aW9uKCl7fTtsZXQgcz1cInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZT97bGV2ZWw6byxsb2c6byxkZWJ1ZzpvLGluZm86byx3YXJuOm8sZXJyb3I6b306e2xldmVsOmZ1bmN0aW9uKGUpe3MuZGVidWc9ZT5uLmRlYnVnP286Y29uc29sZS5kZWJ1ZztzLmluZm89ZT5uLmluZm8/bzpjb25zb2xlLmluZm87cy53YXJuPWU+bi53YXJuP286Y29uc29sZS53YXJuO3MuZXJyb3I9ZT5uLmVycm9yP286Y29uc29sZS5lcnJvcn0sbG9nOmNvbnNvbGUubG9nLGRlYnVnOmNvbnNvbGUuZGVidWcsaW5mbzpjb25zb2xlLmluZm8sd2Fybjpjb25zb2xlLndhcm4sZXJyb3I6Y29uc29sZS5lcnJvcn07Y29uc3Qgcj1uZXcgY2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy53PWUsdGhpcy5kPWUuZG9jdW1lbnQsdGhpcy5nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmQuZ2V0RWxlbWVudEJ5SWQoZSl9LHRoaXMuYz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kLmNyZWF0ZUVsZW1lbnQoZSl9LHRoaXMudD1mdW5jdGlvbihlLHQpe2UuaGFzQ2hpbGROb2RlcygpP2UuZmlyc3RDaGlsZC5ub2RlVmFsdWU9dDplLmFwcGVuZENoaWxkKHRoaXMuZC5jcmVhdGVUZXh0Tm9kZSh0KSl9LHRoaXMuaD1mdW5jdGlvbihlLHQpe3QgaW5zdGFuY2VvZiBIVE1MRWxlbWVudD8oZS5pbm5lckhUTUw9XCJcIixlLmFwcGVuZENoaWxkKHQpKTplLmlubmVySFRNTD10fSx0aGlzLmk9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmMT09PWUubm9kZVR5cGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLnN0eWxlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5vd25lckRvY3VtZW50fSx0aGlzLm9uPWZ1bmN0aW9uKGUsdCxpKXtlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKHQsaSwhMSk6ZS5hdHRhY2hFdmVudChcIm9uXCIrdCxpKX19fSh3aW5kb3cpLGE9e2ZpbGU6e3JlYWQ6ZnVuY3Rpb24oZSx0KXt2YXIgaT1uZXcgRmlsZVJlYWRlcjtpLm9ubG9hZD1mdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQodGhpcy5yZXN1bHQsZS5uYW1lKX0saS5yZWFkQXNUZXh0KGUpfSxzYXZlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByLncuQmxvYiluPW5ldyBCbG9iKFtlXSx7dHlwZTp0fSk7ZWxzZXt2YXIgbz1uZXcoci53LkJsb2JCdWlsZGVyfHxyLncuTW96QmxvYkJ1aWxkZXJ8fHIudy5XZWJLaXRCbG9iQnVpbGRlcnx8ci53Lk1TQmxvYkJ1aWxkZXIpO28uYXBwZW5kKGUpLG49by5nZXRCbG9iKHQpfWlmKG5hdmlnYXRvci5tc1NhdmVCbG9iKW5hdmlnYXRvci5tc1NhdmVCbG9iKG4saSk7ZWxzZXt2YXIgcz0oci53LlVSTHx8ci53LndlYmtpdFVSTCkuY3JlYXRlT2JqZWN0VVJMKG4pLGE9ci5jKFwiYVwiKTtpZihcImRvd25sb2FkXCJpbiBhKXthLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixhLmhyZWY9cyxhLmRvd25sb2FkPWksci5kLmJvZHkuYXBwZW5kQ2hpbGQoYSk7dmFyIGQ9ci5kLmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7ZC5pbml0RXZlbnQoXCJjbGlja1wiLCEwLCEwKSxhLmRpc3BhdGNoRXZlbnQoZCksci5kLmJvZHkucmVtb3ZlQ2hpbGQoYSl9ZWxzZSBsb2NhdGlvbi5ocmVmPXN9fX0sanNvbjp7anNvbjJzdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfSxzdHJpbmcyanNvbjpmdW5jdGlvbihlKXtyZXR1cm4gSlNPTi5wYXJzZShlKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkgaW4gdClpIGluIGU/XCJvYmplY3RcIiE9dHlwZW9mIGVbaV18fFwiW29iamVjdCBvYmplY3RdXCIhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlW2ldKS50b0xvd2VyQ2FzZSgpfHxlW2ldLmxlbmd0aD9lW2ldPXRbaV06YS5qc29uLm1lcmdlKGVbaV0sdFtpXSk6ZVtpXT10W2ldO3JldHVybiBlfX0sdXVpZDp7bmV3aWQ6ZnVuY3Rpb24oKXtyZXR1cm4oKG5ldyBEYXRlKS5nZXRUaW1lKCkudG9TdHJpbmcoMTYpK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygyKSkuc3Vic3RyaW5nKDIsMTgpfX0sdGV4dDp7aXNfZW1wdHk6ZnVuY3Rpb24oZSl7cmV0dXJuIWV8fDA9PWUucmVwbGFjZSgvXFxzKi8sXCJcIikubGVuZ3RofX19LGQ9e2NvbnRhaW5lcjpcIlwiLGVkaXRhYmxlOiExLHRoZW1lOm51bGwsbW9kZTpcImZ1bGxcIixzdXBwb3J0X2h0bWw6ITAsbG9nX2xldmVsOlwiaW5mb1wiLHZpZXc6e2VuZ2luZTpcImNhbnZhc1wiLGVuYWJsZV9kZXZpY2VfcGl4ZWxfcmF0aW86ITEsaG1hcmdpbjoxMDAsdm1hcmdpbjo1MCxsaW5lX3dpZHRoOjIsbGluZV9jb2xvcjpcIiM1NTVcIixsaW5lX3N0eWxlOlwiY3VydmVkXCIsZHJhZ2dhYmxlOiExLGhpZGVfc2Nyb2xsYmFyc193aGVuX2RyYWdnYWJsZTohMSxub2RlX292ZXJmbG93OlwiaGlkZGVuXCIsem9vbTp7bWluOi41LG1heDoyLjEsc3RlcDouMX0sY3VzdG9tX25vZGVfcmVuZGVyOm51bGwsZXhwYW5kZXJfc3R5bGU6XCJjaGFyXCJ9LGxheW91dDp7aHNwYWNlOjMwLHZzcGFjZToyMCxwc3BhY2U6MTMsY291c2luX3NwYWNlOjB9LGRlZmF1bHRfZXZlbnRfaGFuZGxlOntlbmFibGVfbW91c2Vkb3duX2hhbmRsZTohMCxlbmFibGVfY2xpY2tfaGFuZGxlOiEwLGVuYWJsZV9kYmxjbGlja19oYW5kbGU6ITAsZW5hYmxlX21vdXNld2hlZWxfaGFuZGxlOiEwfSxzaG9ydGN1dDp7ZW5hYmxlOiEwLGhhbmRsZXM6e30sbWFwcGluZzp7YWRkY2hpbGQ6WzQ1LDQxMDldLGFkZGJyb3RoZXI6MTMsZWRpdG5vZGU6MTEzLGRlbG5vZGU6NDYsdG9nZ2xlOjMyLGxlZnQ6MzcsdXA6MzgscmlnaHQ6MzksZG93bjo0MH19LHBsdWdpbjp7fX07Y2xhc3MgbHtjb25zdHJ1Y3RvcihlLHQsaSxuLG8scixhLGQpe2U/XCJudW1iZXJcIj09dHlwZW9mIHQ/KHZvaWQgMD09PWQmJihkPSEwKSx0aGlzLmlkPWUsdGhpcy5pbmRleD10LHRoaXMudG9waWM9aSx0aGlzLmRhdGE9bnx8e30sdGhpcy5pc3Jvb3Q9byx0aGlzLnBhcmVudD1yLHRoaXMuZGlyZWN0aW9uPWEsdGhpcy5leHBhbmRlZD0hIWQsdGhpcy5jaGlsZHJlbj1bXSx0aGlzLl9kYXRhPXt9KTpzLmVycm9yKFwiaW52YWxpZCBub2RlIGluZGV4XCIpOnMuZXJyb3IoXCJpbnZhbGlkIG5vZGUgaWRcIil9Z2V0X2xvY2F0aW9uKCl7dmFyIGU9dGhpcy5fZGF0YS52aWV3O3JldHVybnt4OmUuYWJzX3gseTplLmFic195fX1nZXRfc2l6ZSgpe3ZhciBlPXRoaXMuX2RhdGEudmlldztyZXR1cm57dzplLndpZHRoLGg6ZS5oZWlnaHR9fXN0YXRpYyBjb21wYXJlKGUsdCl7dmFyIGk9ZS5pbmRleCxuPXQuaW5kZXg7cmV0dXJuIGk+PTAmJm4+PTA/aS1uOi0xPT1pJiYtMT09bj8wOi0xPT1pPzE6LTE9PW4/LTE6MH1zdGF0aWMgaW5oZXJpdGVkKGUsdCl7aWYoZSYmdCl7aWYoZS5pZD09PXQuaWQpcmV0dXJuITA7aWYoZS5pc3Jvb3QpcmV0dXJuITA7Zm9yKHZhciBpPWUuaWQsbj10OyFuLmlzcm9vdDspaWYoKG49bi5wYXJlbnQpLmlkPT09aSlyZXR1cm4hMH1yZXR1cm4hMX1zdGF0aWMgaXNfbm9kZShlKXtyZXR1cm4hIWUmJmUgaW5zdGFuY2VvZiBsfX1jbGFzcyBoe2NvbnN0cnVjdG9yKCl7dGhpcy5uYW1lPW51bGwsdGhpcy5hdXRob3I9bnVsbCx0aGlzLnZlcnNpb249bnVsbCx0aGlzLnJvb3Q9bnVsbCx0aGlzLnNlbGVjdGVkPW51bGwsdGhpcy5ub2Rlcz17fX1nZXRfbm9kZShlKXtyZXR1cm4gZSBpbiB0aGlzLm5vZGVzP3RoaXMubm9kZXNbZV06KHMud2FybihcInRoZSBub2RlW2lkPVwiK2UrXCJdIGNhbiBub3QgYmUgZm91bmRcIiksbnVsbCl9c2V0X3Jvb3QoZSx0LGkpe3JldHVybiBudWxsPT10aGlzLnJvb3Q/KHRoaXMucm9vdD1uZXcgbChlLDAsdCxpLCEwKSx0aGlzLl9wdXRfbm9kZSh0aGlzLnJvb3QpLHRoaXMucm9vdCk6KHMuZXJyb3IoXCJyb290IG5vZGUgaXMgYWxyZWFkeSBleGlzdFwiKSxudWxsKX1hZGRfbm9kZShlLGksbixvLHIsYSxkKXtpZighbC5pc19ub2RlKGUpKXJldHVybiBzLmVycm9yKFwidGhlIHBhcmVudF9ub2RlIFwiK2UrXCIgaXMgbm90IGEgbm9kZS5cIiksbnVsbDt2YXIgaD1uZXcgbChpLGR8fC0xLG4sbywhMSxlLGUuZGlyZWN0aW9uLGEpO3JldHVybiBlLmlzcm9vdCYmKGguZGlyZWN0aW9uPXJ8fHQucmlnaHQpLHRoaXMuX3B1dF9ub2RlKGgpPyhlLmNoaWxkcmVuLnB1c2goaCksdGhpcy5fdXBkYXRlX2luZGV4KGUpKToocy5lcnJvcihcImZhaWwsIHRoZSBub2RlIGlkICdcIitoLmlkK1wiJyBoYXMgYmVlbiBhbHJlYWR5IGV4aXN0LlwiKSxoPW51bGwpLGh9aW5zZXJ0X25vZGVfYmVmb3JlKGUsdCxpLG4sbyl7aWYoIWwuaXNfbm9kZShlKSlyZXR1cm4gcy5lcnJvcihcInRoZSBub2RlX2JlZm9yZSBcIitlK1wiIGlzIG5vdCBhIG5vZGUuXCIpLG51bGw7dmFyIHI9ZS5pbmRleC0uNTtyZXR1cm4gdGhpcy5hZGRfbm9kZShlLnBhcmVudCx0LGksbixvLCEwLHIpfWdldF9ub2RlX2JlZm9yZShlKXtpZighbC5pc19ub2RlKGUpKXt2YXIgdD10aGlzLmdldF9ub2RlKGUpO3JldHVybiB0P3RoaXMuZ2V0X25vZGVfYmVmb3JlKHQpOihzLmVycm9yKFwidGhlIG5vZGVbaWQ9XCIrZStcIl0gY2FuIG5vdCBiZSBmb3VuZC5cIiksbnVsbCl9aWYoZS5pc3Jvb3QpcmV0dXJuIG51bGw7dmFyIGk9ZS5pbmRleC0yO3JldHVybiBpPj0wP2UucGFyZW50LmNoaWxkcmVuW2ldOm51bGx9aW5zZXJ0X25vZGVfYWZ0ZXIoZSx0LGksbixvKXtpZighbC5pc19ub2RlKGUpKXJldHVybiBzLmVycm9yKFwidGhlIG5vZGVfYWZ0ZXIgXCIrZStcIiBpcyBub3QgYSBub2RlLlwiKSxudWxsO3ZhciByPWUuaW5kZXgrLjU7cmV0dXJuIHRoaXMuYWRkX25vZGUoZS5wYXJlbnQsdCxpLG4sbywhMCxyKX1nZXRfbm9kZV9hZnRlcihlKXtpZighbC5pc19ub2RlKGUpKXt2YXIgdD10aGlzLmdldF9ub2RlKGUpO3JldHVybiB0P3RoaXMuZ2V0X25vZGVfYWZ0ZXIodCk6KHMuZXJyb3IoXCJ0aGUgbm9kZVtpZD1cIitlK1wiXSBjYW4gbm90IGJlIGZvdW5kLlwiKSxudWxsKX1pZihlLmlzcm9vdClyZXR1cm4gbnVsbDt2YXIgaT1lLmluZGV4O3JldHVybiBlLnBhcmVudC5jaGlsZHJlbi5sZW5ndGg+aT9lLnBhcmVudC5jaGlsZHJlbltpXTpudWxsfW1vdmVfbm9kZShlLHQsaSxuKXtyZXR1cm4gbC5pc19ub2RlKGUpPyhpfHwoaT1lLnBhcmVudC5pZCksdGhpcy5fbW92ZV9ub2RlKGUsdCxpLG4pKToocy5lcnJvcihcInRoZSBwYXJhbWV0ZXIgbm9kZSBcIitlK1wiIGlzIG5vdCBhIG5vZGUuXCIpLG51bGwpfV9mbG93X25vZGVfZGlyZWN0aW9uKGUsdCl7dm9pZCAwPT09dD90PWUuZGlyZWN0aW9uOmUuZGlyZWN0aW9uPXQ7Zm9yKHZhciBpPWUuY2hpbGRyZW4ubGVuZ3RoO2ktLTspdGhpcy5fZmxvd19ub2RlX2RpcmVjdGlvbihlLmNoaWxkcmVuW2ldLHQpfV9tb3ZlX25vZGVfaW50ZXJuYWwoZSx0KXtpZihlJiZ0KWlmKFwiX2xhc3RfXCI9PXQpZS5pbmRleD0tMSx0aGlzLl91cGRhdGVfaW5kZXgoZS5wYXJlbnQpO2Vsc2UgaWYoXCJfZmlyc3RfXCI9PXQpZS5pbmRleD0wLHRoaXMuX3VwZGF0ZV9pbmRleChlLnBhcmVudCk7ZWxzZXt2YXIgaT10P3RoaXMuZ2V0X25vZGUodCk6bnVsbDtudWxsIT1pJiZudWxsIT1pLnBhcmVudCYmaS5wYXJlbnQuaWQ9PWUucGFyZW50LmlkJiYoZS5pbmRleD1pLmluZGV4LS41LHRoaXMuX3VwZGF0ZV9pbmRleChlLnBhcmVudCkpfXJldHVybiBlfV9tb3ZlX25vZGUoZSxpLG4sbyl7aWYoZSYmbil7dmFyIHI9dGhpcy5nZXRfbm9kZShuKTtpZihsLmluaGVyaXRlZChlLHIpKXJldHVybiBzLmVycm9yKFwiY2FuIG5vdCBtb3ZlIGEgbm9kZSB0byBpdHMgY2hpbGRyZW5cIiksbnVsbDtpZihlLnBhcmVudC5pZCE9bil7Zm9yKHZhciBhPWUucGFyZW50LmNoaWxkcmVuLGQ9YS5sZW5ndGg7ZC0tOylpZihhW2RdLmlkPT1lLmlkKXthLnNwbGljZShkLDEpO2JyZWFrfWxldCB0PWUucGFyZW50O2UucGFyZW50PXIsci5jaGlsZHJlbi5wdXNoKGUpLHRoaXMuX3VwZGF0ZV9pbmRleCh0KX1lLnBhcmVudC5pc3Jvb3Q/bz09dC5sZWZ0P2UuZGlyZWN0aW9uPW86ZS5kaXJlY3Rpb249dC5yaWdodDplLmRpcmVjdGlvbj1lLnBhcmVudC5kaXJlY3Rpb24sdGhpcy5fbW92ZV9ub2RlX2ludGVybmFsKGUsaSksdGhpcy5fZmxvd19ub2RlX2RpcmVjdGlvbihlKX1yZXR1cm4gZX1yZW1vdmVfbm9kZShlKXtpZighbC5pc19ub2RlKGUpKXJldHVybiBzLmVycm9yKFwidGhlIHBhcmFtZXRlciBub2RlIFwiK2UrXCIgaXMgbm90IGEgbm9kZS5cIiksITE7aWYoZS5pc3Jvb3QpcmV0dXJuIHMuZXJyb3IoXCJmYWlsLCBjYW4gbm90IHJlbW92ZSByb290IG5vZGVcIiksITE7bnVsbCE9dGhpcy5zZWxlY3RlZCYmdGhpcy5zZWxlY3RlZC5pZD09ZS5pZCYmKHRoaXMuc2VsZWN0ZWQ9bnVsbCk7Zm9yKHZhciB0PWUuY2hpbGRyZW4saT10Lmxlbmd0aDtpLS07KXRoaXMucmVtb3ZlX25vZGUodFtpXSk7dC5sZW5ndGg9MDtmb3IodmFyIG49ZS5wYXJlbnQsbz1uLmNoaWxkcmVuLHI9by5sZW5ndGg7ci0tOylpZihvW3JdLmlkPT1lLmlkKXtvLnNwbGljZShyLDEpO2JyZWFrfWZvcih2YXIgYSBpbiBkZWxldGUgdGhpcy5ub2Rlc1tlLmlkXSxlKWRlbGV0ZSBlW2FdO3JldHVybiBlPW51bGwsdGhpcy5fdXBkYXRlX2luZGV4KG4pLCEwfV9wdXRfbm9kZShlKXtyZXR1cm4gZS5pZCBpbiB0aGlzLm5vZGVzPyhzLndhcm4oXCJ0aGUgbm9kZV9pZCAnXCIrZS5pZCtcIicgaGFzIGJlZW4gYWxyZWFkeSBleGlzdC5cIiksITEpOih0aGlzLm5vZGVzW2UuaWRdPWUsITApfV91cGRhdGVfaW5kZXgoZSl7aWYoZSBpbnN0YW5jZW9mIGwpe2UuY2hpbGRyZW4uc29ydChsLmNvbXBhcmUpO2Zvcih2YXIgdD0wO3Q8ZS5jaGlsZHJlbi5sZW5ndGg7dCsrKWUuY2hpbGRyZW5bdF0uaW5kZXg9dCsxfX19Y29uc3QgXz17bmFtZTpcImpzTWluZFwiLGF1dGhvcjpcImhpenpnZGV2QDE2My5jb21cIix2ZXJzaW9uOmV9LHU9e25vZGVfdHJlZTp7ZXhhbXBsZTp7bWV0YTpfLGZvcm1hdDpcIm5vZGVfdHJlZVwiLGRhdGE6e2lkOlwicm9vdFwiLHRvcGljOlwianNNaW5kIG5vZGVfdHJlZSBleGFtcGxlXCJ9fSxnZXRfbWluZDpmdW5jdGlvbihlKXt2YXIgdD11Lm5vZGVfdHJlZSxpPW5ldyBoO3JldHVybiBpLm5hbWU9ZS5tZXRhLm5hbWUsaS5hdXRob3I9ZS5tZXRhLmF1dGhvcixpLnZlcnNpb249ZS5tZXRhLnZlcnNpb24sdC5fcGFyc2UoaSxlLmRhdGEpLGl9LGdldF9kYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXUubm9kZV90cmVlLGk9e307cmV0dXJuIGkubWV0YT17bmFtZTplLm5hbWUsYXV0aG9yOmUuYXV0aG9yLHZlcnNpb246ZS52ZXJzaW9ufSxpLmZvcm1hdD1cIm5vZGVfdHJlZVwiLGkuZGF0YT10Ll9idWlsZF9ub2RlKGUucm9vdCksaX0sX3BhcnNlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dS5ub2RlX3RyZWUsbj1pLl9leHRyYWN0X2RhdGEodCk7aWYoZS5zZXRfcm9vdCh0LmlkLHQudG9waWMsbiksXCJjaGlsZHJlblwiaW4gdClmb3IodmFyIG89dC5jaGlsZHJlbixzPTA7czxvLmxlbmd0aDtzKyspaS5fZXh0cmFjdF9zdWJub2RlKGUsZS5yb290LG9bc10pfSxfZXh0cmFjdF9kYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgaSBpbiBlKVwiaWRcIiE9aSYmXCJ0b3BpY1wiIT1pJiZcImNoaWxkcmVuXCIhPWkmJlwiZGlyZWN0aW9uXCIhPWkmJlwiZXhwYW5kZWRcIiE9aSYmKHRbaV09ZVtpXSk7cmV0dXJuIHR9LF9leHRyYWN0X3N1Ym5vZGU6ZnVuY3Rpb24oZSxpLG4pe3ZhciBvPXUubm9kZV90cmVlLHM9by5fZXh0cmFjdF9kYXRhKG4pLHI9bnVsbDtpLmlzcm9vdCYmKHI9XCJsZWZ0XCI9PW4uZGlyZWN0aW9uP3QubGVmdDp0LnJpZ2h0KTt2YXIgYT1lLmFkZF9ub2RlKGksbi5pZCxuLnRvcGljLHMscixuLmV4cGFuZGVkKTtpZihuLmNoaWxkcmVuKWZvcih2YXIgZD1uLmNoaWxkcmVuLGw9MDtsPGQubGVuZ3RoO2wrKylvLl9leHRyYWN0X3N1Ym5vZGUoZSxhLGRbbF0pfSxfYnVpbGRfbm9kZTpmdW5jdGlvbihlKXt2YXIgaT11Lm5vZGVfdHJlZTtpZihlIGluc3RhbmNlb2YgbCl7dmFyIG49e2lkOmUuaWQsdG9waWM6ZS50b3BpYyxleHBhbmRlZDplLmV4cGFuZGVkfTtpZihlLnBhcmVudCYmZS5wYXJlbnQuaXNyb290JiYobi5kaXJlY3Rpb249ZS5kaXJlY3Rpb249PXQubGVmdD9cImxlZnRcIjpcInJpZ2h0XCIpLG51bGwhPWUuZGF0YSl7dmFyIG89ZS5kYXRhO2Zvcih2YXIgcyBpbiBvKW5bc109b1tzXX12YXIgcj1lLmNoaWxkcmVuO2lmKHIubGVuZ3RoPjApe24uY2hpbGRyZW49W107Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspbi5jaGlsZHJlbi5wdXNoKGkuX2J1aWxkX25vZGUoclthXSkpfXJldHVybiBufX19LG5vZGVfYXJyYXk6e2V4YW1wbGU6e21ldGE6Xyxmb3JtYXQ6XCJub2RlX2FycmF5XCIsZGF0YTpbe2lkOlwicm9vdFwiLHRvcGljOlwianNNaW5kIG5vZGVfYXJyYXkgZXhhbXBsZVwiLGlzcm9vdDohMH1dfSxnZXRfbWluZDpmdW5jdGlvbihlKXt2YXIgdD11Lm5vZGVfYXJyYXksaT1uZXcgaDtyZXR1cm4gaS5uYW1lPWUubWV0YS5uYW1lLGkuYXV0aG9yPWUubWV0YS5hdXRob3IsaS52ZXJzaW9uPWUubWV0YS52ZXJzaW9uLHQuX3BhcnNlKGksZS5kYXRhKSxpfSxnZXRfZGF0YTpmdW5jdGlvbihlKXt2YXIgdD11Lm5vZGVfYXJyYXksaT17fTtyZXR1cm4gaS5tZXRhPXtuYW1lOmUubmFtZSxhdXRob3I6ZS5hdXRob3IsdmVyc2lvbjplLnZlcnNpb259LGkuZm9ybWF0PVwibm9kZV9hcnJheVwiLGkuZGF0YT1bXSx0Ll9hcnJheShlLGkuZGF0YSksaX0sX3BhcnNlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dS5ub2RlX2FycmF5LG49dC5zbGljZSgwKTtuLnJldmVyc2UoKTt2YXIgbz1pLl9leHRyYWN0X3Jvb3QoZSxuKTtvP2kuX2V4dHJhY3Rfc3Vibm9kZShlLG8sbik6cy5lcnJvcihcInJvb3Qgbm9kZSBjYW4gbm90IGJlIGZvdW5kXCIpfSxfZXh0cmFjdF9yb290OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPXUubm9kZV9hcnJheSxuPXQubGVuZ3RoO24tLTspaWYoXCJpc3Jvb3RcImluIHRbbl0mJnRbbl0uaXNyb290KXt2YXIgbz10W25dLHM9aS5fZXh0cmFjdF9kYXRhKG8pLHI9ZS5zZXRfcm9vdChvLmlkLG8udG9waWMscyk7cmV0dXJuIHQuc3BsaWNlKG4sMSkscn1yZXR1cm4gbnVsbH0sX2V4dHJhY3Rfc3Vibm9kZTpmdW5jdGlvbihlLGksbil7Zm9yKHZhciBvPXUubm9kZV9hcnJheSxzPW4ubGVuZ3RoLHI9bnVsbCxhPW51bGwsZD0wO3MtLTspaWYoKHI9bltzXSkucGFyZW50aWQ9PWkuaWQpe2E9by5fZXh0cmFjdF9kYXRhKHIpO3ZhciBsPW51bGwsaD1yLmRpcmVjdGlvbjtoJiYobD1cImxlZnRcIj09aD90LmxlZnQ6dC5yaWdodCk7dmFyIF89ZS5hZGRfbm9kZShpLHIuaWQsci50b3BpYyxhLGwsci5leHBhbmRlZCk7bi5zcGxpY2UocywxKSxkKys7dmFyIGM9by5fZXh0cmFjdF9zdWJub2RlKGUsXyxuKTtjPjAmJihzPW4ubGVuZ3RoLGQrPWMpfXJldHVybiBkfSxfZXh0cmFjdF9kYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgaSBpbiBlKVwiaWRcIiE9aSYmXCJ0b3BpY1wiIT1pJiZcInBhcmVudGlkXCIhPWkmJlwiaXNyb290XCIhPWkmJlwiZGlyZWN0aW9uXCIhPWkmJlwiZXhwYW5kZWRcIiE9aSYmKHRbaV09ZVtpXSk7cmV0dXJuIHR9LF9hcnJheTpmdW5jdGlvbihlLHQpe3Uubm9kZV9hcnJheS5fYXJyYXlfbm9kZShlLnJvb3QsdCl9LF9hcnJheV9ub2RlOmZ1bmN0aW9uKGUsaSl7dmFyIG49dS5ub2RlX2FycmF5O2lmKGUgaW5zdGFuY2VvZiBsKXt2YXIgbz17aWQ6ZS5pZCx0b3BpYzplLnRvcGljLGV4cGFuZGVkOmUuZXhwYW5kZWR9O2lmKGUucGFyZW50JiYoby5wYXJlbnRpZD1lLnBhcmVudC5pZCksZS5pc3Jvb3QmJihvLmlzcm9vdD0hMCksZS5wYXJlbnQmJmUucGFyZW50Lmlzcm9vdCYmKG8uZGlyZWN0aW9uPWUuZGlyZWN0aW9uPT10LmxlZnQ/XCJsZWZ0XCI6XCJyaWdodFwiKSxudWxsIT1lLmRhdGEpe3ZhciBzPWUuZGF0YTtmb3IodmFyIHIgaW4gcylvW3JdPXNbcl19aS5wdXNoKG8pO2Zvcih2YXIgYT1lLmNoaWxkcmVuLmxlbmd0aCxkPTA7ZDxhO2QrKyluLl9hcnJheV9ub2RlKGUuY2hpbGRyZW5bZF0saSl9fX0sZnJlZW1pbmQ6e2V4YW1wbGU6e21ldGE6Xyxmb3JtYXQ6XCJmcmVlbWluZFwiLGRhdGE6JzxtYXAgdmVyc2lvbj1cIjEuMC4xXCI+PG5vZGUgSUQ9XCJyb290XCIgVEVYVD1cImpzTWluZCBmcmVlbWluZCBleGFtcGxlXCIvPjwvbWFwPid9LGdldF9taW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXUuZnJlZW1pbmQsaT1uZXcgaDtpLm5hbWU9ZS5tZXRhLm5hbWUsaS5hdXRob3I9ZS5tZXRhLmF1dGhvcixpLnZlcnNpb249ZS5tZXRhLnZlcnNpb247dmFyIG49ZS5kYXRhLG89dC5fcGFyc2VfeG1sKG4pLHM9dC5fZmluZF9yb290KG8pO3JldHVybiB0Ll9sb2FkX25vZGUoaSxudWxsLHMpLGl9LGdldF9kYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXUuZnJlZW1pbmQsaT17fTtpLm1ldGE9e25hbWU6ZS5uYW1lLGF1dGhvcjplLmF1dGhvcix2ZXJzaW9uOmUudmVyc2lvbn0saS5mb3JtYXQ9XCJmcmVlbWluZFwiO3ZhciBuPVtdO3JldHVybiBuLnB1c2goJzxtYXAgdmVyc2lvbj1cIjEuMC4xXCI+JyksdC5fYnVpbGRfbWFwKGUucm9vdCxuKSxuLnB1c2goXCI8L21hcD5cIiksaS5kYXRhPW4uam9pbihcIlwiKSxpfSxfcGFyc2VfeG1sOmZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7d2luZG93LkRPTVBhcnNlcj90PShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSxcInRleHQveG1sXCIpOigodD1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIikpLmFzeW5jPSExLHQubG9hZFhNTChlKSk7cmV0dXJuIHR9LF9maW5kX3Jvb3Q6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuY2hpbGROb2RlcyxpPW51bGwsbj1udWxsLG89MDtvPHQubGVuZ3RoO28rKylpZigxPT0obj10W29dKS5ub2RlVHlwZSYmXCJtYXBcIj09bi50YWdOYW1lKXtpPW47YnJlYWt9aWYoaSl7dmFyIHM9aS5jaGlsZE5vZGVzO2k9bnVsbDtmb3Iobz0wO288cy5sZW5ndGg7bysrKWlmKDE9PShuPXNbb10pLm5vZGVUeXBlJiZcIm5vZGVcIj09bi50YWdOYW1lKXtpPW47YnJlYWt9fXJldHVybiBpfSxfbG9hZF9ub2RlOmZ1bmN0aW9uKGUsaSxuKXt2YXIgbz11LmZyZWVtaW5kLHM9bi5nZXRBdHRyaWJ1dGUoXCJJRFwiKSxyPW4uZ2V0QXR0cmlidXRlKFwiVEVYVFwiKSxhPW4uZ2V0QXR0cmlidXRlKFwiRk9MREVEXCIpO2lmKG51bGw9PXIpZm9yKHZhciBkPW4uY2hpbGROb2RlcyxsPW51bGwsaD0wO2g8ZC5sZW5ndGg7aCsrKWlmKDE9PShsPWRbaF0pLm5vZGVUeXBlJiZcInJpY2hjb250ZW50XCI9PT1sLnRhZ05hbWUpe3I9bC50ZXh0Q29udGVudDticmVha312YXIgXz1vLl9sb2FkX2F0dHJpYnV0ZXMobiksYz1cImV4cGFuZGVkXCJpbiBfP1widHJ1ZVwiPT1fLmV4cGFuZGVkOlwidHJ1ZVwiIT1hO2RlbGV0ZSBfLmV4cGFuZGVkO3ZhciBwPW4uZ2V0QXR0cmlidXRlKFwiUE9TSVRJT05cIiksdj1udWxsO3AmJih2PVwibGVmdFwiPT1wP3QubGVmdDp0LnJpZ2h0KTt2YXIgZj1udWxsO2Y9aT9lLmFkZF9ub2RlKGkscyxyLF8sdixjKTplLnNldF9yb290KHMscixfKTt2YXIgZz1uLmNoaWxkTm9kZXMsbT1udWxsO2ZvcihoPTA7aDxnLmxlbmd0aDtoKyspMT09KG09Z1toXSkubm9kZVR5cGUmJlwibm9kZVwiPT1tLnRhZ05hbWUmJm8uX2xvYWRfbm9kZShlLGYsbSl9LF9sb2FkX2F0dHJpYnV0ZXM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuY2hpbGROb2RlcyxpPW51bGwsbj17fSxvPTA7bzx0Lmxlbmd0aDtvKyspMT09KGk9dFtvXSkubm9kZVR5cGUmJlwiYXR0cmlidXRlXCI9PT1pLnRhZ05hbWUmJihuW2kuZ2V0QXR0cmlidXRlKFwiTkFNRVwiKV09aS5nZXRBdHRyaWJ1dGUoXCJWQUxVRVwiKSk7cmV0dXJuIG59LF9idWlsZF9tYXA6ZnVuY3Rpb24oZSxpKXt2YXIgbj11LmZyZWVtaW5kLG89bnVsbDtlLnBhcmVudCYmZS5wYXJlbnQuaXNyb290JiYobz1lLmRpcmVjdGlvbj09PXQubGVmdD9cImxlZnRcIjpcInJpZ2h0XCIpLGkucHVzaChcIjxub2RlXCIpLGkucHVzaCgnIElEPVwiJytlLmlkKydcIicpLG8mJmkucHVzaCgnIFBPU0lUSU9OPVwiJytvKydcIicpLGUuZXhwYW5kZWR8fGkucHVzaCgnIEZPTERFRD1cInRydWVcIicpLGkucHVzaCgnIFRFWFQ9XCInK24uX2VzY2FwZShlLnRvcGljKSsnXCI+Jyk7dmFyIHM9ZS5kYXRhO2lmKG51bGwhPXMpZm9yKHZhciByIGluIHMpaS5wdXNoKCc8YXR0cmlidXRlIE5BTUU9XCInK3IrJ1wiIFZBTFVFPVwiJytzW3JdKydcIi8+Jyk7Zm9yKHZhciBhPWUuY2hpbGRyZW4sZD0wO2Q8YS5sZW5ndGg7ZCsrKW4uX2J1aWxkX21hcChhW2RdLGkpO2kucHVzaChcIjwvbm9kZT5cIil9LF9lc2NhcGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoLycvZyxcIiZhcG9zO1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpfX0sdGV4dDp7ZXhhbXBsZTp7bWV0YTpfLGZvcm1hdDpcInRleHRcIixkYXRhOlwianNNaW5kIHRleHQgZXhhbXBsZVxcbiBub2RlMVxcbiAgbm9kZTEtc3ViXFxuICBub2RlMS1zdWJcXG4gbm9kZTJcIn0sX2xpbmVfcmVnZXg6L1xccyovLGdldF9taW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXUudGV4dCxpPW5ldyBoO2kubmFtZT1lLm1ldGEubmFtZSxpLmF1dGhvcj1lLm1ldGEuYXV0aG9yLGkudmVyc2lvbj1lLm1ldGEudmVyc2lvbjt2YXIgbj1lLmRhdGEuc3BsaXQoL1xcbnxcXHIvKTtyZXR1cm4gdC5fZmlsbF9ub2RlcyhpLG4sMCwwKSxpfSxfZmlsbF9ub2RlczpmdW5jdGlvbihlLHQpe2xldCBpPVtdLG49MDtmb3IoO248dC5sZW5ndGg7KXtsZXQgbz10W25dLHM9by5tYXRjaCgvXFxzKi8pWzBdLmxlbmd0aCxyPW8uc3Vic3RyKHMpO2lmKDA9PXMmJmkubGVuZ3RoPjApcmV0dXJuIHZvaWQgbG9nLmVycm9yKFwibW9yZSB0aGFuIDEgcm9vdCBub2RlIHdhcyBmb3VuZDogXCIrcik7aWYocz5pLmxlbmd0aClyZXR1cm4gdm9pZCBsb2cuZXJyb3IoXCJhIHN1c3BlbmRlZCBub2RlIHdhcyBmb3VuZDogXCIrcik7bGV0IGQ9aS5sZW5ndGgtcztmb3IoO2QtLTspaS5wb3AoKTtpZigwPT1zJiYwPT1pLmxlbmd0aCl7bGV0IHQ9ZS5zZXRfcm9vdChhLnV1aWQubmV3aWQoKSxyKTtpLnB1c2godCl9ZWxzZXtsZXQgdD1lLmFkZF9ub2RlKGlbcy0xXSxhLnV1aWQubmV3aWQoKSxyLHt9LG51bGwpO2kucHVzaCh0KX1uKyt9aS5sZW5ndGg9MH0sZ2V0X2RhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9dS50ZXh0LGk9e307aS5tZXRhPXtuYW1lOmUubmFtZSxhdXRob3I6ZS5hdXRob3IsdmVyc2lvbjplLnZlcnNpb259LGkuZm9ybWF0PVwidGV4dFwiO2xldCBuPVtdO3JldHVybiB0Ll9idWlsZF9saW5lcyhuLFtlLnJvb3RdLDApLGkuZGF0YT1uLmpvaW4oXCJcXG5cIiksaX0sX2J1aWxkX2xpbmVzOmZ1bmN0aW9uKGUsdCxpKXtsZXQgbj1uZXcgQXJyYXkoaSsxKS5qb2luKFwiIFwiKTtmb3IobGV0IG8gb2YgdCllLnB1c2gobitvLnRvcGljKSxvLmNoaWxkcmVuJiZ1LnRleHQuX2J1aWxkX2xpbmVzKGUsby5jaGlsZHJlbixpKzEpfX19O2NsYXNzIGN7Y29uc3RydWN0b3IoZSl7dGhpcy5qbT1lfWluaXQoKXtzLmRlYnVnKFwiZGF0YS5pbml0XCIpfXJlc2V0KCl7cy5kZWJ1ZyhcImRhdGEucmVzZXRcIil9bG9hZChlKXt2YXIgdD1udWxsLGk9bnVsbDtyZXR1cm5cIm5vZGVfYXJyYXlcIj09KHQ9XCJvYmplY3RcIj09dHlwZW9mIGU/ZS5mb3JtYXQ/ZS5mb3JtYXQ6XCJub2RlX3RyZWVcIjpcImZyZWVtaW5kXCIpP2k9dS5ub2RlX2FycmF5LmdldF9taW5kKGUpOlwibm9kZV90cmVlXCI9PXQ/aT11Lm5vZGVfdHJlZS5nZXRfbWluZChlKTpcImZyZWVtaW5kXCI9PXQ/aT11LmZyZWVtaW5kLmdldF9taW5kKGUpOlwidGV4dFwiPT10P2k9dS50ZXh0LmdldF9taW5kKGUpOnMud2FybihcInVuc3VwcG9ydGVkIGZvcm1hdFwiKSxpfWdldF9kYXRhKGUpe3ZhciB0PW51bGw7cmV0dXJuXCJub2RlX2FycmF5XCI9PWU/dD11Lm5vZGVfYXJyYXkuZ2V0X2RhdGEodGhpcy5qbS5taW5kKTpcIm5vZGVfdHJlZVwiPT1lP3Q9dS5ub2RlX3RyZWUuZ2V0X2RhdGEodGhpcy5qbS5taW5kKTpcImZyZWVtaW5kXCI9PWU/dD11LmZyZWVtaW5kLmdldF9kYXRhKHRoaXMuam0ubWluZCk6XCJ0ZXh0XCI9PWU/dD11LnRleHQuZ2V0X2RhdGEodGhpcy5qbS5taW5kKTpzLmVycm9yKFwidW5zdXBwb3J0ZWQgXCIrZStcIiBmb3JtYXRcIiksdH19Y2xhc3MgcHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMub3B0cz10LHRoaXMuam09ZSx0aGlzLmlzc2lkZT1cInNpZGVcIj09dGhpcy5vcHRzLm1vZGUsdGhpcy5ib3VuZHM9bnVsbCx0aGlzLmNhY2hlX3ZhbGlkPSExfWluaXQoKXtzLmRlYnVnKFwibGF5b3V0LmluaXRcIil9cmVzZXQoKXtzLmRlYnVnKFwibGF5b3V0LnJlc2V0XCIpLHRoaXMuYm91bmRzPXtuOjAsczowLHc6MCxlOjB9fWNhbGN1bGF0ZV9uZXh0X2NoaWxkX2RpcmVjdGlvbihlKXtpZih0aGlzLmlzc2lkZSlyZXR1cm4gdC5yaWdodDtmb3IodmFyIGk9ZS5jaGlsZHJlbnx8W10sbj1pLmxlbmd0aCxvPTAscz0wO3M8bjtzKyspaVtzXS5kaXJlY3Rpb249PT10LmxlZnQ/by0tOm8rKztyZXR1cm4gbj4xJiZvPjA/dC5sZWZ0OnQucmlnaHR9bGF5b3V0KCl7cy5kZWJ1ZyhcImxheW91dC5sYXlvdXRcIiksdGhpcy5sYXlvdXRfZGlyZWN0aW9uKCksdGhpcy5sYXlvdXRfb2Zmc2V0KCl9bGF5b3V0X2RpcmVjdGlvbigpe3RoaXMuX2xheW91dF9kaXJlY3Rpb25fcm9vdCgpfV9sYXlvdXRfZGlyZWN0aW9uX3Jvb3QoKXt2YXIgZT10aGlzLmptLm1pbmQucm9vdCxpPW51bGw7XCJsYXlvdXRcImluIGUuX2RhdGE/aT1lLl9kYXRhLmxheW91dDooaT17fSxlLl9kYXRhLmxheW91dD1pKTt2YXIgbj1lLmNoaWxkcmVuLG89bi5sZW5ndGg7aWYoaS5kaXJlY3Rpb249dC5jZW50ZXIsaS5zaWRlX2luZGV4PTAsdGhpcy5pc3NpZGUpZm9yKHZhciBzPW87cy0tOyl0aGlzLl9sYXlvdXRfZGlyZWN0aW9uX3NpZGUobltzXSx0LnJpZ2h0LHMpO2Vsc2V7cz1vO2Zvcih2YXIgcj1udWxsO3MtLTspKHI9bltzXSkuZGlyZWN0aW9uPT10LmxlZnQ/dGhpcy5fbGF5b3V0X2RpcmVjdGlvbl9zaWRlKHIsdC5sZWZ0LHMpOnRoaXMuX2xheW91dF9kaXJlY3Rpb25fc2lkZShyLHQucmlnaHQscyl9fV9sYXlvdXRfZGlyZWN0aW9uX3NpZGUoZSx0LGkpe3ZhciBuPW51bGw7XCJsYXlvdXRcImluIGUuX2RhdGE/bj1lLl9kYXRhLmxheW91dDoobj17fSxlLl9kYXRhLmxheW91dD1uKTt2YXIgbz1lLmNoaWxkcmVuLHM9by5sZW5ndGg7bi5kaXJlY3Rpb249dCxuLnNpZGVfaW5kZXg9aTtmb3IodmFyIHI9cztyLS07KXRoaXMuX2xheW91dF9kaXJlY3Rpb25fc2lkZShvW3JdLHQscil9bGF5b3V0X29mZnNldCgpe3ZhciBlPXRoaXMuam0ubWluZC5yb290LGk9ZS5fZGF0YS5sYXlvdXQ7aS5vZmZzZXRfeD0wLGkub2Zmc2V0X3k9MCxpLm91dGVyX2hlaWdodD0wO2Zvcih2YXIgbj1lLmNoaWxkcmVuLG89bi5sZW5ndGgscz1bXSxyPVtdLGE9bnVsbDtvLS07KShhPW5bb10pLl9kYXRhLmxheW91dC5kaXJlY3Rpb249PXQucmlnaHQ/ci51bnNoaWZ0KGEpOnMudW5zaGlmdChhKTtpLmxlZnRfbm9kZXM9cyxpLnJpZ2h0X25vZGVzPXIsaS5vdXRlcl9oZWlnaHRfbGVmdD10aGlzLl9sYXlvdXRfb2Zmc2V0X3N1Ym5vZGVzKHMpLGkub3V0ZXJfaGVpZ2h0X3JpZ2h0PXRoaXMuX2xheW91dF9vZmZzZXRfc3Vibm9kZXMociksdGhpcy5ib3VuZHMuZT1lLl9kYXRhLnZpZXcud2lkdGgvMix0aGlzLmJvdW5kcy53PTAtdGhpcy5ib3VuZHMuZSx0aGlzLmJvdW5kcy5uPTAsdGhpcy5ib3VuZHMucz1NYXRoLm1heChpLm91dGVyX2hlaWdodF9sZWZ0LGkub3V0ZXJfaGVpZ2h0X3JpZ2h0KX1fbGF5b3V0X29mZnNldF9zdWJub2RlcyhlKXtmb3IodmFyIHQ9MCxpPWUubGVuZ3RoLG49aSxvPW51bGwscz0wLHI9bnVsbCxhPTAsZD1udWxsO24tLTspcj0obz1lW25dKS5fZGF0YS5sYXlvdXQsbnVsbD09ZCYmKGQ9by5wYXJlbnQuX2RhdGEpLHM9dGhpcy5fbGF5b3V0X29mZnNldF9zdWJub2RlcyhvLmNoaWxkcmVuKSxvLmV4cGFuZGVkfHwocz0wLHRoaXMuc2V0X3Zpc2libGUoby5jaGlsZHJlbiwhMSkpLHM9TWF0aC5tYXgoby5fZGF0YS52aWV3LmhlaWdodCxzKSxvLmNoaWxkcmVuLmxlbmd0aD4xJiYocys9dGhpcy5vcHRzLmNvdXNpbl9zcGFjZSksci5vdXRlcl9oZWlnaHQ9cyxyLm9mZnNldF95PWEtcy8yLHIub2Zmc2V0X3g9dGhpcy5vcHRzLmhzcGFjZSpyLmRpcmVjdGlvbitkLnZpZXcud2lkdGgqKGQubGF5b3V0LmRpcmVjdGlvbityLmRpcmVjdGlvbikvMixvLnBhcmVudC5pc3Jvb3R8fChyLm9mZnNldF94Kz10aGlzLm9wdHMucHNwYWNlKnIuZGlyZWN0aW9uKSxhPWEtcy10aGlzLm9wdHMudnNwYWNlLHQrPXM7aT4xJiYodCs9dGhpcy5vcHRzLnZzcGFjZSooaS0xKSksbj1pO2Zvcih2YXIgbD10LzI7bi0tOykobz1lW25dKS5fZGF0YS5sYXlvdXQub2Zmc2V0X3krPWw7cmV0dXJuIHR9X2xheW91dF9vZmZzZXRfc3Vibm9kZXNfaGVpZ2h0KGUpe2Zvcih2YXIgdD0wLGk9ZS5sZW5ndGgsbj1pLG89bnVsbCxzPTAscj1udWxsLGE9MCxkPW51bGw7bi0tOylyPShvPWVbbl0pLl9kYXRhLmxheW91dCxudWxsPT1kJiYoZD1vLnBhcmVudC5fZGF0YSkscz10aGlzLl9sYXlvdXRfb2Zmc2V0X3N1Ym5vZGVzX2hlaWdodChvLmNoaWxkcmVuKSxvLmV4cGFuZGVkfHwocz0wKSxzPU1hdGgubWF4KG8uX2RhdGEudmlldy5oZWlnaHQscyksby5jaGlsZHJlbi5sZW5ndGg+MSYmKHMrPXRoaXMub3B0cy5jb3VzaW5fc3BhY2UpLHIub3V0ZXJfaGVpZ2h0PXMsci5vZmZzZXRfeT1hLXMvMixhPWEtcy10aGlzLm9wdHMudnNwYWNlLHQrPXM7aT4xJiYodCs9dGhpcy5vcHRzLnZzcGFjZSooaS0xKSksbj1pO2Zvcih2YXIgbD10LzI7bi0tOykobz1lW25dKS5fZGF0YS5sYXlvdXQub2Zmc2V0X3krPWw7cmV0dXJuIHR9Z2V0X25vZGVfb2Zmc2V0KGUpe3ZhciB0PWUuX2RhdGEubGF5b3V0LGk9bnVsbDtpZihcIl9vZmZzZXRfXCJpbiB0JiZ0aGlzLmNhY2hlX3ZhbGlkP2k9dC5fb2Zmc2V0XzooaT17eDotMSx5Oi0xfSx0Ll9vZmZzZXRfPWkpLC0xPT1pLnh8fC0xPT1pLnkpe3ZhciBuPXQub2Zmc2V0X3gsbz10Lm9mZnNldF95O2lmKCFlLmlzcm9vdCl7dmFyIHM9dGhpcy5nZXRfbm9kZV9vZmZzZXQoZS5wYXJlbnQpO24rPXMueCxvKz1zLnl9aS54PW4saS55PW99cmV0dXJuIGl9Z2V0X25vZGVfcG9pbnQoZSl7dmFyIHQ9ZS5fZGF0YS52aWV3LGk9dGhpcy5nZXRfbm9kZV9vZmZzZXQoZSksbj17fTtyZXR1cm4gbi54PWkueCt0LndpZHRoKihlLl9kYXRhLmxheW91dC5kaXJlY3Rpb24tMSkvMixuLnk9aS55LXQuaGVpZ2h0LzIsbn1nZXRfbm9kZV9wb2ludF9pbihlKXtyZXR1cm4gdGhpcy5nZXRfbm9kZV9vZmZzZXQoZSl9Z2V0X25vZGVfcG9pbnRfb3V0KGUpe3ZhciB0PWUuX2RhdGEubGF5b3V0LGk9bnVsbDtpZihcIl9wb3V0X1wiaW4gdCYmdGhpcy5jYWNoZV92YWxpZD9pPXQuX3BvdXRfOihpPXt4Oi0xLHk6LTF9LHQuX3BvdXRfPWkpLC0xPT1pLnh8fC0xPT1pLnkpaWYoZS5pc3Jvb3QpaS54PTAsaS55PTA7ZWxzZXt2YXIgbj1lLl9kYXRhLnZpZXcsbz10aGlzLmdldF9ub2RlX29mZnNldChlKTtpLng9by54KyhuLndpZHRoK3RoaXMub3B0cy5wc3BhY2UpKmUuX2RhdGEubGF5b3V0LmRpcmVjdGlvbixpLnk9by55fXJldHVybiBpfWdldF9leHBhbmRlcl9wb2ludChlKXt2YXIgaT10aGlzLmdldF9ub2RlX3BvaW50X291dChlKSxuPXt9O3JldHVybiBlLl9kYXRhLmxheW91dC5kaXJlY3Rpb249PXQucmlnaHQ/bi54PWkueC10aGlzLm9wdHMucHNwYWNlOm4ueD1pLngsbi55PWkueS1NYXRoLmNlaWwodGhpcy5vcHRzLnBzcGFjZS8yKSxufWdldF9taW5fc2l6ZSgpe3ZhciBlPXRoaXMuam0ubWluZC5ub2Rlcyx0PW51bGwsaT1udWxsO2Zvcih2YXIgbiBpbiBlKXQ9ZVtuXSwoaT10aGlzLmdldF9ub2RlX3BvaW50X291dCh0KSkueD50aGlzLmJvdW5kcy5lJiYodGhpcy5ib3VuZHMuZT1pLngpLGkueDx0aGlzLmJvdW5kcy53JiYodGhpcy5ib3VuZHMudz1pLngpO3JldHVybnt3OnRoaXMuYm91bmRzLmUtdGhpcy5ib3VuZHMudyxoOnRoaXMuYm91bmRzLnMtdGhpcy5ib3VuZHMubn19dG9nZ2xlX25vZGUoZSl7ZS5pc3Jvb3R8fChlLmV4cGFuZGVkP3RoaXMuY29sbGFwc2Vfbm9kZShlKTp0aGlzLmV4cGFuZF9ub2RlKGUpKX1leHBhbmRfbm9kZShlKXtlLmV4cGFuZGVkPSEwLHRoaXMucGFydF9sYXlvdXQoZSksdGhpcy5zZXRfdmlzaWJsZShlLmNoaWxkcmVuLCEwKSx0aGlzLmptLmludm9rZV9ldmVudF9oYW5kbGUoaS5zaG93LHtldnQ6XCJleHBhbmRfbm9kZVwiLGRhdGE6W10sbm9kZTplLmlkfSl9Y29sbGFwc2Vfbm9kZShlKXtlLmV4cGFuZGVkPSExLHRoaXMucGFydF9sYXlvdXQoZSksdGhpcy5zZXRfdmlzaWJsZShlLmNoaWxkcmVuLCExKSx0aGlzLmptLmludm9rZV9ldmVudF9oYW5kbGUoaS5zaG93LHtldnQ6XCJjb2xsYXBzZV9ub2RlXCIsZGF0YTpbXSxub2RlOmUuaWR9KX1leHBhbmRfYWxsKCl7dmFyIGUsdD10aGlzLmptLm1pbmQubm9kZXMsaT0wO2Zvcih2YXIgbiBpbiB0KShlPXRbbl0pLmV4cGFuZGVkfHwoZS5leHBhbmRlZD0hMCxpKyspO2lmKGk+MCl7dmFyIG89dGhpcy5qbS5taW5kLnJvb3Q7dGhpcy5wYXJ0X2xheW91dChvKSx0aGlzLnNldF92aXNpYmxlKG8uY2hpbGRyZW4sITApfX1jb2xsYXBzZV9hbGwoKXt2YXIgZSx0PXRoaXMuam0ubWluZC5ub2RlcyxpPTA7Zm9yKHZhciBuIGluIHQpKGU9dFtuXSkuZXhwYW5kZWQmJiFlLmlzcm9vdCYmKGUuZXhwYW5kZWQ9ITEsaSsrKTtpZihpPjApe3ZhciBvPXRoaXMuam0ubWluZC5yb290O3RoaXMucGFydF9sYXlvdXQobyksdGhpcy5zZXRfdmlzaWJsZShvLmNoaWxkcmVuLCEwKX19ZXhwYW5kX3RvX2RlcHRoKGUsdCxpKXtpZighKGU8MSkpZm9yKHZhciBuPXR8fHRoaXMuam0ubWluZC5yb290LmNoaWxkcmVuLG89aXx8MSxzPW4ubGVuZ3RoLHI9bnVsbDtzLS07KXI9bltzXSxvPGUmJihyLmV4cGFuZGVkfHx0aGlzLmV4cGFuZF9ub2RlKHIpLHRoaXMuZXhwYW5kX3RvX2RlcHRoKGUsci5jaGlsZHJlbixvKzEpKSxvPT1lJiZyLmV4cGFuZGVkJiZ0aGlzLmNvbGxhcHNlX25vZGUocil9cGFydF9sYXlvdXQoZSl7dmFyIGk9dGhpcy5qbS5taW5kLnJvb3Q7aWYoaSl7dmFyIG49aS5fZGF0YS5sYXlvdXQ7ZS5pc3Jvb3Q/KG4ub3V0ZXJfaGVpZ2h0X3JpZ2h0PXRoaXMuX2xheW91dF9vZmZzZXRfc3Vibm9kZXNfaGVpZ2h0KG4ucmlnaHRfbm9kZXMpLG4ub3V0ZXJfaGVpZ2h0X2xlZnQ9dGhpcy5fbGF5b3V0X29mZnNldF9zdWJub2Rlc19oZWlnaHQobi5sZWZ0X25vZGVzKSk6ZS5fZGF0YS5sYXlvdXQuZGlyZWN0aW9uPT10LnJpZ2h0P24ub3V0ZXJfaGVpZ2h0X3JpZ2h0PXRoaXMuX2xheW91dF9vZmZzZXRfc3Vibm9kZXNfaGVpZ2h0KG4ucmlnaHRfbm9kZXMpOm4ub3V0ZXJfaGVpZ2h0X2xlZnQ9dGhpcy5fbGF5b3V0X29mZnNldF9zdWJub2Rlc19oZWlnaHQobi5sZWZ0X25vZGVzKSx0aGlzLmJvdW5kcy5zPU1hdGgubWF4KG4ub3V0ZXJfaGVpZ2h0X2xlZnQsbi5vdXRlcl9oZWlnaHRfcmlnaHQpLHRoaXMuY2FjaGVfdmFsaWQ9ITF9ZWxzZSBzLndhcm4oXCJjYW4gbm90IGZvdW5kIHJvb3Qgbm9kZVwiKX1zZXRfdmlzaWJsZShlLHQpe2Zvcih2YXIgaT1lLmxlbmd0aCxuPW51bGw7aS0tOykobj1lW2ldKS5fZGF0YS5sYXlvdXQsbi5leHBhbmRlZD90aGlzLnNldF92aXNpYmxlKG4uY2hpbGRyZW4sdCk6dGhpcy5zZXRfdmlzaWJsZShuLmNoaWxkcmVuLCExKSxuLmlzcm9vdHx8KG4uX2RhdGEubGF5b3V0LnZpc2libGU9dCl9aXNfZXhwYW5kKGUpe3JldHVybiBlLmV4cGFuZGVkfWlzX3Zpc2libGUoZSl7dmFyIHQ9ZS5fZGF0YS5sYXlvdXQ7cmV0dXJuIShcInZpc2libGVcImluIHQmJiF0LnZpc2libGUpfX1jbGFzcyB2e2NvbnN0cnVjdG9yKGUpe3RoaXMudmlldz1lLHRoaXMub3B0cz1lLm9wdHMsdGhpcy5lX3N2Zz12LmMoXCJzdmdcIiksdGhpcy5lX3N2Zy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwianNtaW5kXCIpLHRoaXMuc2l6ZT17dzowLGg6MH0sdGhpcy5saW5lcz1bXSx0aGlzLmxpbmVfZHJhd2luZz17c3RyYWlnaHQ6dGhpcy5fbGluZV90byxjdXJ2ZWQ6dGhpcy5fYmV6aWVyX3RvfSx0aGlzLmluaXRfbGluZV9yZW5kZXIoKX1zdGF0aWMgYyhlKXtyZXR1cm4gci5kLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsZSl9aW5pdF9saW5lX3JlbmRlcigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0cy5jdXN0b21fbGluZV9yZW5kZXI/dGhpcy5kcmF3aW5nPShlLHQsaSxuLG8pPT57dHJ5e3RoaXMub3B0cy5jdXN0b21fbGluZV9yZW5kZXIuY2FsbCh0aGlzLHtjdHg6ZSxzdGFydF9wb2ludDp7eDp0LHk6aX0sZW5kX3BvaW50Ont4Om4seTpvfX0pfWNhdGNoKGUpe3MuZXJyb3IoXCJjdXN0b20gbGluZSByZW5kZXJlciBlcnJvcjogXCIsZSl9fTp0aGlzLmRyYXdpbmc9dGhpcy5saW5lX2RyYXdpbmdbdGhpcy5vcHRzLmxpbmVfc3R5bGVdfHx0aGlzLmxpbmVfZHJhd2luZy5jdXJ2ZWR9ZWxlbWVudCgpe3JldHVybiB0aGlzLmVfc3ZnfXNldF9zaXplKGUsdCl7dGhpcy5zaXplLnc9ZSx0aGlzLnNpemUuaD10LHRoaXMuZV9zdmcuc2V0QXR0cmlidXRlKFwid2lkdGhcIixlKSx0aGlzLmVfc3ZnLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLHQpfWNsZWFyKCl7Zm9yKHZhciBlPXRoaXMubGluZXMubGVuZ3RoO2UtLTspdGhpcy5lX3N2Zy5yZW1vdmVDaGlsZCh0aGlzLmxpbmVzW2VdKTt0aGlzLmxpbmVzLmxlbmd0aD0wfWRyYXdfbGluZShlLHQsaSxuKXt2YXIgbz12LmMoXCJwYXRoXCIpO28uc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsbnx8dGhpcy5vcHRzLmxpbmVfY29sb3IpLG8uc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsdGhpcy5vcHRzLmxpbmVfd2lkdGgpLG8uc2V0QXR0cmlidXRlKFwiZmlsbFwiLFwidHJhbnNwYXJlbnRcIiksdGhpcy5saW5lcy5wdXNoKG8pLHRoaXMuZV9zdmcuYXBwZW5kQ2hpbGQobyksdGhpcy5kcmF3aW5nKG8sdC54K2kueCx0LnkraS55LGUueCtpLngsZS55K2kueSl9Y29weV90byhlLHQpe3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe2UuZHJhd0ltYWdlKGksMCwwKSx0JiZ0KCl9LGkuc3JjPVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxcIitidG9hKChuZXcgWE1MU2VyaWFsaXplcikuc2VyaWFsaXplVG9TdHJpbmcodGhpcy5lX3N2ZykpfV9iZXppZXJfdG8oZSx0LGksbixvKXtlLnNldEF0dHJpYnV0ZShcImRcIixcIk0gXCIrdCtcIiBcIitpK1wiIEMgXCIrKHQrMioobi10KS8zKStcIiBcIitpK1wiLCBcIit0K1wiIFwiK28rXCIsIFwiK24rXCIgXCIrbyl9X2xpbmVfdG8oZSx0LGksbixvKXtlLnNldEF0dHJpYnV0ZShcImRcIixcIk0gXCIrdCtcIiBcIitpK1wiIEwgXCIrbitcIiBcIitvKX19Y2xhc3MgZntjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdHM9ZS5vcHRzLHRoaXMuZV9jYW52YXM9ci5jKFwiY2FudmFzXCIpLHRoaXMuZV9jYW52YXMuY2xhc3NOYW1lPVwianNtaW5kXCIsdGhpcy5jYW52YXNfY3R4PXRoaXMuZV9jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuc2l6ZT17dzowLGg6MH0sdGhpcy5saW5lX2RyYXdpbmc9e3N0cmFpZ2h0OnRoaXMuX2xpbmVfdG8sY3VydmVkOnRoaXMuX2Jlemllcl90b30sdGhpcy5kcHI9ZS5kZXZpY2VfcGl4ZWxfcmF0aW8sdGhpcy5pbml0X2xpbmVfcmVuZGVyKCl9aW5pdF9saW5lX3JlbmRlcigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0cy5jdXN0b21fbGluZV9yZW5kZXI/dGhpcy5kcmF3aW5nPShlLHQsaSxuLG8pPT57dHJ5e3RoaXMub3B0cy5jdXN0b21fbGluZV9yZW5kZXIuY2FsbCh0aGlzLHtjdHg6ZSxzdGFydF9wb2ludDp7eDp0LHk6aX0sZW5kX3BvaW50Ont4Om4seTpvfX0pfWNhdGNoKGUpe3MuZXJyb3IoXCJjdXN0b20gbGluZSByZW5kZXIgZXJyb3I6IFwiLGUpfX06dGhpcy5kcmF3aW5nPXRoaXMubGluZV9kcmF3aW5nW3RoaXMub3B0cy5saW5lX3N0eWxlXXx8dGhpcy5saW5lX2RyYXdpbmcuY3VydmVkfWVsZW1lbnQoKXtyZXR1cm4gdGhpcy5lX2NhbnZhc31zZXRfc2l6ZShlLHQpe3RoaXMuc2l6ZS53PWUsdGhpcy5zaXplLmg9dCx0aGlzLmVfY2FudmFzLndpZHRoJiZ0aGlzLmVfY2FudmFzLmhlaWdodCYmdGhpcy5jYW52YXNfY3R4LnNjYWxlPyh0aGlzLmVfY2FudmFzLndpZHRoPWUqdGhpcy5kcHIsdGhpcy5lX2NhbnZhcy5oZWlnaHQ9dCp0aGlzLmRwcix0aGlzLmVfY2FudmFzLnN0eWxlLndpZHRoPWUrXCJweFwiLHRoaXMuZV9jYW52YXMuc3R5bGUuaGVpZ2h0PXQrXCJweFwiLHRoaXMuY2FudmFzX2N0eC5zY2FsZSh0aGlzLmRwcix0aGlzLmRwcikpOih0aGlzLmVfY2FudmFzLndpZHRoPWUsdGhpcy5lX2NhbnZhcy5oZWlnaHQ9dCl9Y2xlYXIoKXt0aGlzLmNhbnZhc19jdHguY2xlYXJSZWN0KDAsMCx0aGlzLnNpemUudyx0aGlzLnNpemUuaCl9ZHJhd19saW5lKGUsdCxpLG4pe3ZhciBvPXRoaXMuY2FudmFzX2N0eDtvLnN0cm9rZVN0eWxlPW58fHRoaXMub3B0cy5saW5lX2NvbG9yLG8ubGluZVdpZHRoPXRoaXMub3B0cy5saW5lX3dpZHRoLG8ubGluZUNhcD1cInJvdW5kXCIsdGhpcy5kcmF3aW5nKG8sdC54K2kueCx0LnkraS55LGUueCtpLngsZS55K2kueSl9Y29weV90byhlLHQpe2UuZHJhd0ltYWdlKHRoaXMuZV9jYW52YXMsMCwwLHRoaXMuc2l6ZS53LHRoaXMuc2l6ZS5oKSx0JiZ0KCl9X2Jlemllcl90byhlLHQsaSxuLG8pe2UuYmVnaW5QYXRoKCksZS5tb3ZlVG8odCxpKSxlLmJlemllckN1cnZlVG8odCsyKihuLXQpLzMsaSx0LG8sbixvKSxlLnN0cm9rZSgpfV9saW5lX3RvKGUsdCxpLG4sbyl7ZS5iZWdpblBhdGgoKSxlLm1vdmVUbyh0LGkpLGUubGluZVRvKG4sbyksZS5zdHJva2UoKX19Y2xhc3MgZ3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMub3B0cz10LHRoaXMuam09ZSx0aGlzLmxheW91dD1lLmxheW91dCx0aGlzLmNvbnRhaW5lcj1udWxsLHRoaXMuZV9wYW5lbD1udWxsLHRoaXMuZV9ub2Rlcz1udWxsLHRoaXMuc2l6ZT17dzowLGg6MH0sdGhpcy5zZWxlY3RlZF9ub2RlPW51bGwsdGhpcy5lZGl0aW5nX25vZGU9bnVsbCx0aGlzLmdyYXBoPW51bGwsdGhpcy5yZW5kZXJfbm9kZT10LmN1c3RvbV9ub2RlX3JlbmRlcj90aGlzLl9jdXN0b21fbm9kZV9yZW5kZXI6dGhpcy5fZGVmYXVsdF9ub2RlX3JlbmRlcix0aGlzLnpvb21fY3VycmVudD0xLHRoaXMuZGV2aWNlX3BpeGVsX3JhdGlvPXRoaXMub3B0cy5lbmFibGVfZGV2aWNlX3BpeGVsX3JhdGlvJiZyLncuZGV2aWNlUGl4ZWxSYXRpb3x8MSx0aGlzLl9pbml0aWFsaXplZD0hMX1pbml0KCl7aWYocy5kZWJ1Zyh0aGlzLm9wdHMpLHMuZGVidWcoXCJ2aWV3LmluaXRcIiksdGhpcy5jb250YWluZXI9ci5pKHRoaXMub3B0cy5jb250YWluZXIpP3RoaXMub3B0cy5jb250YWluZXI6ci5nKHRoaXMub3B0cy5jb250YWluZXIpLHRoaXMuY29udGFpbmVyKXt2YXIgZTt0aGlzLmdyYXBoPShlPXRoaXMsXCJzdmdcIj09PXRoaXMub3B0cy5lbmdpbmUudG9Mb3dlckNhc2UoKT9uZXcgdihlKTpuZXcgZihlKSksdGhpcy5lX3BhbmVsPXIuYyhcImRpdlwiKSx0aGlzLmVfbm9kZXM9ci5jKFwiam1ub2Rlc1wiKSx0aGlzLmVfZWRpdG9yPXIuYyhcImlucHV0XCIpLHRoaXMuZV9wYW5lbC5jbGFzc05hbWU9XCJqc21pbmQtaW5uZXIgam1ub2RlLW92ZXJmbG93LVwiK3RoaXMub3B0cy5ub2RlX292ZXJmbG93LHRoaXMuZV9wYW5lbC50YWJJbmRleD0xLHRoaXMuZV9wYW5lbC5hcHBlbmRDaGlsZCh0aGlzLmdyYXBoLmVsZW1lbnQoKSksdGhpcy5lX3BhbmVsLmFwcGVuZENoaWxkKHRoaXMuZV9ub2RlcyksdGhpcy5lX2VkaXRvci5jbGFzc05hbWU9XCJqc21pbmQtZWRpdG9yXCIsdGhpcy5lX2VkaXRvci50eXBlPVwidGV4dFwiO3ZhciB0PXRoaXM7ci5vbih0aGlzLmVfZWRpdG9yLFwia2V5ZG93blwiLChmdW5jdGlvbihlKXt2YXIgaT1lfHxldmVudDsxMz09aS5rZXlDb2RlJiYodC5lZGl0X25vZGVfZW5kKCksaS5zdG9wUHJvcGFnYXRpb24oKSl9KSksci5vbih0aGlzLmVfZWRpdG9yLFwiYmx1clwiLChmdW5jdGlvbihlKXt0LmVkaXRfbm9kZV9lbmQoKX0pKSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVfcGFuZWwpLHRoaXMuY29udGFpbmVyLm9mZnNldFBhcmVudHx8bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKCgoZSx0KT0+e2VbMF0uaXNJbnRlcnNlY3RpbmcmJih0LnVub2JzZXJ2ZSh0aGlzLmVfcGFuZWwpLHRoaXMucmVzaXplKCkpfSkpLm9ic2VydmUodGhpcy5lX3BhbmVsKX1lbHNlIHMuZXJyb3IoXCJ0aGUgb3B0aW9ucy52aWV3LmNvbnRhaW5lciB3YXMgbm90IGJlIGZvdW5kIGluIGRvbVwiKX1hZGRfZXZlbnQoZSx0LGksbil7bGV0IG89bj90aGlzLmVfcGFuZWw6dGhpcy5lX25vZGVzO3Iub24obyx0LChmdW5jdGlvbih0KXt2YXIgbj10fHxldmVudDtpLmNhbGwoZSxuKX0pKX1nZXRfYmluZGVkX25vZGVpZChlKXtpZihudWxsPT1lKXJldHVybiBudWxsO3ZhciB0PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiam1ub2RlXCI9PXR8fFwiam1leHBhbmRlclwiPT10P2UuZ2V0QXR0cmlidXRlKFwibm9kZWlkXCIpOlwiam1ub2Rlc1wiPT10fHxcImJvZHlcIj09dHx8XCJodG1sXCI9PXQ/bnVsbDp0aGlzLmdldF9iaW5kZWRfbm9kZWlkKGUucGFyZW50RWxlbWVudCl9aXNfbm9kZShlKXtpZihudWxsPT1lKXJldHVybiExO3ZhciB0PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiam1ub2RlXCI9PXR8fFwiam1ub2Rlc1wiIT10JiZcImJvZHlcIiE9dCYmXCJodG1sXCIhPXQmJnRoaXMuaXNfbm9kZShlLnBhcmVudEVsZW1lbnQpfWlzX2V4cGFuZGVyKGUpe3JldHVyblwiam1leHBhbmRlclwiPT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKX1yZXNldCgpe3MuZGVidWcoXCJ2aWV3LnJlc2V0XCIpLHRoaXMuc2VsZWN0ZWRfbm9kZT1udWxsLHRoaXMuY2xlYXJfbGluZXMoKSx0aGlzLmNsZWFyX25vZGVzKCksdGhpcy5yZXNldF90aGVtZSgpfXJlc2V0X3RoZW1lKCl7dmFyIGU9dGhpcy5qbS5vcHRpb25zLnRoZW1lO3RoaXMuZV9ub2Rlcy5jbGFzc05hbWU9ZT9cInRoZW1lLVwiK2U6XCJcIn1yZXNldF9jdXN0b21fc3R5bGUoKXt2YXIgZT10aGlzLmptLm1pbmQubm9kZXM7Zm9yKHZhciB0IGluIGUpdGhpcy5yZXNldF9ub2RlX2N1c3RvbV9zdHlsZShlW3RdKX1sb2FkKCl7cy5kZWJ1ZyhcInZpZXcubG9hZFwiKSx0aGlzLnNldHVwX2NhbnZhc19kcmFnZ2FibGUodGhpcy5vcHRzLmRyYWdnYWJsZSksdGhpcy5pbml0X25vZGVzKCksdGhpcy5faW5pdGlhbGl6ZWQ9ITB9ZXhwYW5kX3NpemUoKXt2YXIgZT10aGlzLmxheW91dC5nZXRfbWluX3NpemUoKSx0PWUudysyKnRoaXMub3B0cy5obWFyZ2luLGk9ZS5oKzIqdGhpcy5vcHRzLnZtYXJnaW4sbj10aGlzLmVfcGFuZWwuY2xpZW50V2lkdGgsbz10aGlzLmVfcGFuZWwuY2xpZW50SGVpZ2h0O248dCYmKG49dCksbzxpJiYobz1pKSx0aGlzLnNpemUudz1uLHRoaXMuc2l6ZS5oPW99aW5pdF9ub2Rlc19zaXplKGUpe3ZhciB0PWUuX2RhdGEudmlldzt0LndpZHRoPXQuZWxlbWVudC5jbGllbnRXaWR0aCx0LmhlaWdodD10LmVsZW1lbnQuY2xpZW50SGVpZ2h0fWluaXRfbm9kZXMoKXt2YXIgZT10aGlzLmptLm1pbmQubm9kZXMsdD1yLmQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2Zvcih2YXIgaSBpbiBlKXRoaXMuY3JlYXRlX25vZGVfZWxlbWVudChlW2ldLHQpO3RoaXMuZV9ub2Rlcy5hcHBlbmRDaGlsZCh0KSx0aGlzLnJ1bl9pbl9jMTF5X21vZGVfaWZfbmVlZGVkKCgoKT0+e2Zvcih2YXIgdCBpbiBlKXRoaXMuaW5pdF9ub2Rlc19zaXplKGVbdF0pfSkpfWFkZF9ub2RlKGUpe3RoaXMuY3JlYXRlX25vZGVfZWxlbWVudChlLHRoaXMuZV9ub2RlcyksdGhpcy5ydW5faW5fYzExeV9tb2RlX2lmX25lZWRlZCgoKCk9Pnt0aGlzLmluaXRfbm9kZXNfc2l6ZShlKX0pKX1ydW5faW5fYzExeV9tb2RlX2lmX25lZWRlZChlKXt0aGlzLmNvbnRhaW5lci5vZmZzZXRQYXJlbnQ/ZSgpOihzLndhcm4oXCJpbml0IG5vZGVzIGluIGNvbXBhdGliaWxpdHkgbW9kZS4gYmVjYXVzZSB0aGUgY29udGFpbmVyIG9yIGl0cyBwYXJlbnQgaGFzIHN0eWxlIHtkaXNwbGF5Om5vbmV9LiBcIiksdGhpcy5lX3BhbmVsLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLmVfcGFuZWwuc3R5bGUudG9wPVwiLTEwMDAwMFwiLHIuZC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZV9wYW5lbCksZSgpLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZV9wYW5lbCksdGhpcy5lX3BhbmVsLnN0eWxlLnBvc2l0aW9uPW51bGwsdGhpcy5lX3BhbmVsLnN0eWxlLnRvcD1udWxsKX1jcmVhdGVfbm9kZV9lbGVtZW50KGUsdCl7dmFyIGk9bnVsbDtcInZpZXdcImluIGUuX2RhdGE/aT1lLl9kYXRhLnZpZXc6KGk9e30sZS5fZGF0YS52aWV3PWkpO3ZhciBuPXIuYyhcImptbm9kZVwiKTtpZihlLmlzcm9vdCluLmNsYXNzTmFtZT1cInJvb3RcIjtlbHNle3ZhciBvPXIuYyhcImptZXhwYW5kZXJcIik7ci50KG8sXCItXCIpLG8uc2V0QXR0cmlidXRlKFwibm9kZWlkXCIsZS5pZCksby5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdC5hcHBlbmRDaGlsZChvKSxpLmV4cGFuZGVyPW99ZS50b3BpYyYmdGhpcy5yZW5kZXJfbm9kZShuLGUpLG4uc2V0QXR0cmlidXRlKFwibm9kZWlkXCIsZS5pZCksbi5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy5fcmVzZXRfbm9kZV9jdXN0b21fc3R5bGUobixlLmRhdGEpLHQuYXBwZW5kQ2hpbGQobiksaS5lbGVtZW50PW59cmVtb3ZlX25vZGUoZSl7bnVsbCE9dGhpcy5zZWxlY3RlZF9ub2RlJiZ0aGlzLnNlbGVjdGVkX25vZGUuaWQ9PWUuaWQmJih0aGlzLnNlbGVjdGVkX25vZGU9bnVsbCksbnVsbCE9dGhpcy5lZGl0aW5nX25vZGUmJnRoaXMuZWRpdGluZ19ub2RlLmlkPT1lLmlkJiYoZS5fZGF0YS52aWV3LmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lX2VkaXRvciksdGhpcy5lZGl0aW5nX25vZGU9bnVsbCk7Zm9yKHZhciB0PWUuY2hpbGRyZW4saT10Lmxlbmd0aDtpLS07KXRoaXMucmVtb3ZlX25vZGUodFtpXSk7aWYoZS5fZGF0YS52aWV3KXt2YXIgbj1lLl9kYXRhLnZpZXcuZWxlbWVudCxvPWUuX2RhdGEudmlldy5leHBhbmRlcjt0aGlzLmVfbm9kZXMucmVtb3ZlQ2hpbGQobiksdGhpcy5lX25vZGVzLnJlbW92ZUNoaWxkKG8pLGUuX2RhdGEudmlldy5lbGVtZW50PW51bGwsZS5fZGF0YS52aWV3LmV4cGFuZGVyPW51bGx9fXVwZGF0ZV9ub2RlKGUpe3ZhciB0PWUuX2RhdGEudmlldyxpPXQuZWxlbWVudDtpZihlLnRvcGljJiZ0aGlzLnJlbmRlcl9ub2RlKGksZSksdGhpcy5sYXlvdXQuaXNfdmlzaWJsZShlKSl0LndpZHRoPWkuY2xpZW50V2lkdGgsdC5oZWlnaHQ9aS5jbGllbnRIZWlnaHQ7ZWxzZXtsZXQgZT1pLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO2kuc3R5bGU9XCJ2aXNpYmlsaXR5OiB2aXNpYmxlOyBsZWZ0OjA7IHRvcDowO1wiLHQud2lkdGg9aS5jbGllbnRXaWR0aCx0LmhlaWdodD1pLmNsaWVudEhlaWdodCxpLnN0eWxlPWV9fXNlbGVjdF9ub2RlKGUpe2lmKHRoaXMuc2VsZWN0ZWRfbm9kZSl7dmFyIHQ9dGhpcy5zZWxlY3RlZF9ub2RlLl9kYXRhLnZpZXcuZWxlbWVudDt0LmNsYXNzTmFtZT10LmNsYXNzTmFtZS5yZXBsYWNlKC9cXHMqc2VsZWN0ZWRcXGIvaSxcIlwiKSx0aGlzLnJlc3RvcmVfc2VsZWN0ZWRfbm9kZV9jdXN0b21fc3R5bGUodGhpcy5zZWxlY3RlZF9ub2RlKX1lJiYodGhpcy5zZWxlY3RlZF9ub2RlPWUsZS5fZGF0YS52aWV3LmVsZW1lbnQuY2xhc3NOYW1lKz1cIiBzZWxlY3RlZFwiLHRoaXMuY2xlYXJfc2VsZWN0ZWRfbm9kZV9jdXN0b21fc3R5bGUoZSkpfXNlbGVjdF9jbGVhcigpe3RoaXMuc2VsZWN0X25vZGUobnVsbCl9Z2V0X2VkaXRpbmdfbm9kZSgpe3JldHVybiB0aGlzLmVkaXRpbmdfbm9kZX1pc19lZGl0aW5nKCl7cmV0dXJuISF0aGlzLmVkaXRpbmdfbm9kZX1lZGl0X25vZGVfYmVnaW4oZSl7aWYoZS50b3BpYyl7bnVsbCE9dGhpcy5lZGl0aW5nX25vZGUmJnRoaXMuZWRpdF9ub2RlX2VuZCgpLHRoaXMuZWRpdGluZ19ub2RlPWU7dmFyIHQ9ZS5fZGF0YS52aWV3LmVsZW1lbnQsaT1lLnRvcGljLG49Z2V0Q29tcHV0ZWRTdHlsZSh0KTt0aGlzLmVfZWRpdG9yLnZhbHVlPWksdGhpcy5lX2VkaXRvci5zdHlsZS53aWR0aD10LmNsaWVudFdpZHRoLXBhcnNlSW50KG4uZ2V0UHJvcGVydHlWYWx1ZShcInBhZGRpbmctbGVmdFwiKSktcGFyc2VJbnQobi5nZXRQcm9wZXJ0eVZhbHVlKFwicGFkZGluZy1yaWdodFwiKSkrXCJweFwiLHQuaW5uZXJIVE1MPVwiXCIsdC5hcHBlbmRDaGlsZCh0aGlzLmVfZWRpdG9yKSx0LnN0eWxlLnpJbmRleD01LHRoaXMuZV9lZGl0b3IuZm9jdXMoKSx0aGlzLmVfZWRpdG9yLnNlbGVjdCgpfWVsc2Ugcy53YXJuKFwiZG9uJ3QgZWRpdCBpbWFnZSBub2Rlc1wiKX1lZGl0X25vZGVfZW5kKCl7aWYobnVsbCE9dGhpcy5lZGl0aW5nX25vZGUpe3ZhciBlPXRoaXMuZWRpdGluZ19ub2RlO3RoaXMuZWRpdGluZ19ub2RlPW51bGw7dmFyIHQ9ZS5fZGF0YS52aWV3LmVsZW1lbnQsaT10aGlzLmVfZWRpdG9yLnZhbHVlO3Quc3R5bGUuekluZGV4PVwiYXV0b1wiLHQucmVtb3ZlQ2hpbGQodGhpcy5lX2VkaXRvciksYS50ZXh0LmlzX2VtcHR5KGkpfHxlLnRvcGljPT09aT90aGlzLnJlbmRlcl9ub2RlKHQsZSk6dGhpcy5qbS51cGRhdGVfbm9kZShlLmlkLGkpfXRoaXMuZV9wYW5lbC5mb2N1cygpfWdldF92aWV3X29mZnNldCgpe3ZhciBlPXRoaXMubGF5b3V0LmJvdW5kcztyZXR1cm57eDoodGhpcy5zaXplLnctZS5lLWUudykvMix5OnRoaXMuc2l6ZS5oLzJ9fXJlc2l6ZSgpe3RoaXMuZ3JhcGguc2V0X3NpemUoMSwxKSx0aGlzLmVfbm9kZXMuc3R5bGUud2lkdGg9XCIxcHhcIix0aGlzLmVfbm9kZXMuc3R5bGUuaGVpZ2h0PVwiMXB4XCIsdGhpcy5leHBhbmRfc2l6ZSgpLHRoaXMuX3Nob3coKX1fc2hvdygpe3RoaXMuZ3JhcGguc2V0X3NpemUodGhpcy5zaXplLncsdGhpcy5zaXplLmgpLHRoaXMuZV9ub2Rlcy5zdHlsZS53aWR0aD10aGlzLnNpemUudytcInB4XCIsdGhpcy5lX25vZGVzLnN0eWxlLmhlaWdodD10aGlzLnNpemUuaCtcInB4XCIsdGhpcy5zaG93X25vZGVzKCksdGhpcy5zaG93X2xpbmVzKCksdGhpcy5qbS5pbnZva2VfZXZlbnRfaGFuZGxlKGkucmVzaXplLHtkYXRhOltdfSl9em9vbV9pbihlKXtyZXR1cm4gdGhpcy5zZXRfem9vbSh0aGlzLnpvb21fY3VycmVudCt0aGlzLm9wdHMuem9vbS5zdGVwLGUpfXpvb21fb3V0KGUpe3JldHVybiB0aGlzLnNldF96b29tKHRoaXMuem9vbV9jdXJyZW50LXRoaXMub3B0cy56b29tLnN0ZXAsZSl9c2V0X3pvb20oZSx0KXtpZihlPHRoaXMub3B0cy56b29tLm1pbnx8ZT50aGlzLm9wdHMuem9vbS5tYXgpcmV0dXJuITE7bGV0IGk9dGhpcy5lX3BhbmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGU8MSYmZTx0aGlzLnpvb21fY3VycmVudCYmdGhpcy5zaXplLncqZTxpLndpZHRoJiZ0aGlzLnNpemUuaCplPGkuaGVpZ2h0KXJldHVybiExO2xldCBuPXQ/e3g6dC54LWkueCx5OnQueS1pLnl9Ont4Omkud2lkdGgvMix5OmkuaGVpZ2h0LzJ9LG89KHRoaXMuZV9wYW5lbC5zY3JvbGxMZWZ0K24ueCkqZS90aGlzLnpvb21fY3VycmVudC1uLngscz0odGhpcy5lX3BhbmVsLnNjcm9sbFRvcCtuLnkpKmUvdGhpcy56b29tX2N1cnJlbnQtbi55O3RoaXMuem9vbV9jdXJyZW50PWU7Zm9yKHZhciByPTA7cjx0aGlzLmVfcGFuZWwuY2hpbGRyZW4ubGVuZ3RoO3IrKyl0aGlzLmVfcGFuZWwuY2hpbGRyZW5bcl0uc3R5bGUuem9vbT1lO3JldHVybiB0aGlzLl9zaG93KCksdGhpcy5lX3BhbmVsLnNjcm9sbExlZnQ9byx0aGlzLmVfcGFuZWwuc2Nyb2xsVG9wPXMsITB9c2hvdyhlKXtzLmRlYnVnKGB2aWV3LnNob3c6IHtrZWVwX2NlbnRlcjogJHtlfX1gKSx0aGlzLmV4cGFuZF9zaXplKCksdGhpcy5fc2hvdygpLGUmJnRoaXMuY2VudGVyX25vZGUodGhpcy5qbS5taW5kLnJvb3QpfXJlbGF5b3V0KCl7dGhpcy5leHBhbmRfc2l6ZSgpLHRoaXMuX3Nob3coKX1zYXZlX2xvY2F0aW9uKGUpe3ZhciB0PWUuX2RhdGEudmlldzt0Ll9zYXZlZF9sb2NhdGlvbj17eDpwYXJzZUludCh0LmVsZW1lbnQuc3R5bGUubGVmdCktdGhpcy5lX3BhbmVsLnNjcm9sbExlZnQseTpwYXJzZUludCh0LmVsZW1lbnQuc3R5bGUudG9wKS10aGlzLmVfcGFuZWwuc2Nyb2xsVG9wfX1yZXN0b3JlX2xvY2F0aW9uKGUpe3ZhciB0PWUuX2RhdGEudmlldzt0aGlzLmVfcGFuZWwuc2Nyb2xsTGVmdD1wYXJzZUludCh0LmVsZW1lbnQuc3R5bGUubGVmdCktdC5fc2F2ZWRfbG9jYXRpb24ueCx0aGlzLmVfcGFuZWwuc2Nyb2xsVG9wPXBhcnNlSW50KHQuZWxlbWVudC5zdHlsZS50b3ApLXQuX3NhdmVkX2xvY2F0aW9uLnl9Y2xlYXJfbm9kZXMoKXt2YXIgZT10aGlzLmptLm1pbmQ7aWYobnVsbCE9ZSl7dmFyIHQ9ZS5ub2RlcyxpPW51bGw7Zm9yKHZhciBuIGluIHQpKGk9dFtuXSkuX2RhdGEudmlldy5lbGVtZW50PW51bGwsaS5fZGF0YS52aWV3LmV4cGFuZGVyPW51bGw7dGhpcy5lX25vZGVzLmlubmVySFRNTD1cIlwifX1zaG93X25vZGVzKCl7dmFyIGU9dGhpcy5qbS5taW5kLm5vZGVzLHQ9bnVsbCxpPW51bGwsbj1udWxsLG89bnVsbCxzPXRoaXMuZ2V0X3ZpZXdfb2Zmc2V0KCk7Zm9yKHZhciByIGluIGUpaT0obz0odD1lW3JdKS5fZGF0YS52aWV3KS5lbGVtZW50LHRoaXMubGF5b3V0LmlzX3Zpc2libGUodCk/KHRoaXMucmVzZXRfbm9kZV9jdXN0b21fc3R5bGUodCksbj10aGlzLmxheW91dC5nZXRfbm9kZV9wb2ludCh0KSxvLmFic194PXMueCtuLngsby5hYnNfeT1zLnkrbi55LGkuc3R5bGUubGVmdD1zLngrbi54K1wicHhcIixpLnN0eWxlLnRvcD1zLnkrbi55K1wicHhcIixpLnN0eWxlLmRpc3BsYXk9XCJcIixpLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsdGhpcy5fc2hvd19leHBhbmRlcih0LHMpKTooaS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG8uZXhwYW5kZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9X3Nob3dfZXhwYW5kZXIoZSx0KXtpZihlLmlzcm9vdClyZXR1cm47dmFyIGk9ZS5fZGF0YS52aWV3LmV4cGFuZGVyO2lmKDA9PWUuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiBpLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdm9pZChpLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIik7bGV0IG49dGhpcy5fZ2V0X2V4cGFuZGVyX3RleHQoZSk7ci50KGksbik7bGV0IG89dGhpcy5sYXlvdXQuZ2V0X2V4cGFuZGVyX3BvaW50KGUpO2kuc3R5bGUubGVmdD10Lngrby54K1wicHhcIixpLnN0eWxlLnRvcD10Lnkrby55K1wicHhcIixpLnN0eWxlLmRpc3BsYXk9XCJcIixpLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCJ9X2dldF9leHBhbmRlcl90ZXh0KGUpe2xldCB0PXRoaXMub3B0cy5leHBhbmRlcl9zdHlsZT90aGlzLm9wdHMuZXhwYW5kZXJfc3R5bGUudG9Mb3dlckNhc2UoKTpcImNoYXJcIjtyZXR1cm5cIm51bWJlclwiPT09dD9lLmNoaWxkcmVuLmxlbmd0aD45OT9cIi4uLlwiOmUuY2hpbGRyZW4ubGVuZ3RoOlwiY2hhclwiPT09dD9lLmV4cGFuZGVkP1wiLVwiOlwiK1wiOnZvaWQgMH1fZGVmYXVsdF9ub2RlX3JlbmRlcihlLHQpe3RoaXMub3B0cy5zdXBwb3J0X2h0bWw/ci5oKGUsdC50b3BpYyk6ci50KGUsdC50b3BpYyl9X2N1c3RvbV9ub2RlX3JlbmRlcihlLHQpe3RoaXMub3B0cy5jdXN0b21fbm9kZV9yZW5kZXIodGhpcy5qbSxlLHQpfHx0aGlzLl9kZWZhdWx0X25vZGVfcmVuZGVyKGUsdCl9cmVzZXRfbm9kZV9jdXN0b21fc3R5bGUoZSl7dGhpcy5fcmVzZXRfbm9kZV9jdXN0b21fc3R5bGUoZS5fZGF0YS52aWV3LmVsZW1lbnQsZS5kYXRhKX1fcmVzZXRfbm9kZV9jdXN0b21fc3R5bGUoZSx0KXtpZihcImJhY2tncm91bmQtY29sb3JcImluIHQmJihlLnN0eWxlLmJhY2tncm91bmRDb2xvcj10W1wiYmFja2dyb3VuZC1jb2xvclwiXSksXCJmb3JlZ3JvdW5kLWNvbG9yXCJpbiB0JiYoZS5zdHlsZS5jb2xvcj10W1wiZm9yZWdyb3VuZC1jb2xvclwiXSksXCJ3aWR0aFwiaW4gdCYmKGUuc3R5bGUud2lkdGg9dC53aWR0aCtcInB4XCIpLFwiaGVpZ2h0XCJpbiB0JiYoZS5zdHlsZS5oZWlnaHQ9dC5oZWlnaHQrXCJweFwiKSxcImZvbnQtc2l6ZVwiaW4gdCYmKGUuc3R5bGUuZm9udFNpemU9dFtcImZvbnQtc2l6ZVwiXStcInB4XCIpLFwiZm9udC13ZWlnaHRcImluIHQmJihlLnN0eWxlLmZvbnRXZWlnaHQ9dFtcImZvbnQtd2VpZ2h0XCJdKSxcImZvbnQtc3R5bGVcImluIHQmJihlLnN0eWxlLmZvbnRTdHlsZT10W1wiZm9udC1zdHlsZVwiXSksXCJiYWNrZ3JvdW5kLWltYWdlXCJpbiB0KXt2YXIgaT10W1wiYmFja2dyb3VuZC1pbWFnZVwiXTtpZihpLnN0YXJ0c1dpdGgoXCJkYXRhXCIpJiZ0LndpZHRoJiZ0LmhlaWdodCl7dmFyIG49bmV3IEltYWdlO24ub25sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9ci5jKFwiY2FudmFzXCIpO3Qud2lkdGg9ZS5jbGllbnRXaWR0aCx0LmhlaWdodD1lLmNsaWVudEhlaWdodDtpZih0LmdldENvbnRleHQpe3QuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZSh0aGlzLDIsMixlLmNsaWVudFdpZHRoLGUuY2xpZW50SGVpZ2h0KTt2YXIgaT10LnRvRGF0YVVSTCgpO2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwidXJsKFwiK2krXCIpXCJ9fSxuLnNyYz1pfWVsc2UgZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9XCJ1cmwoXCIraStcIilcIjtlLnN0eWxlLmJhY2tncm91bmRTaXplPVwiOTklXCIsXCJiYWNrZ3JvdW5kLXJvdGF0aW9uXCJpbiB0JiYoZS5zdHlsZS50cmFuc2Zvcm09XCJyb3RhdGUoXCIrdFtcImJhY2tncm91bmQtcm90YXRpb25cIl0rXCJkZWcpXCIpfX1yZXN0b3JlX3NlbGVjdGVkX25vZGVfY3VzdG9tX3N0eWxlKGUpe3ZhciB0PWUuX2RhdGEudmlldy5lbGVtZW50LGk9ZS5kYXRhO1wiYmFja2dyb3VuZC1jb2xvclwiaW4gaSYmKHQuc3R5bGUuYmFja2dyb3VuZENvbG9yPWlbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdKSxcImZvcmVncm91bmQtY29sb3JcImluIGkmJih0LnN0eWxlLmNvbG9yPWlbXCJmb3JlZ3JvdW5kLWNvbG9yXCJdKX1jbGVhcl9zZWxlY3RlZF9ub2RlX2N1c3RvbV9zdHlsZShlKXt2YXIgdD1lLl9kYXRhLnZpZXcuZWxlbWVudDt0LnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIlwiLHQuc3R5bGUuY29sb3I9XCJcIn1jbGVhcl9saW5lcygpe3RoaXMuZ3JhcGguY2xlYXIoKX1zaG93X2xpbmVzKCl7dGhpcy5jbGVhcl9saW5lcygpO3ZhciBlPXRoaXMuam0ubWluZC5ub2Rlcyx0PW51bGwsaT1udWxsLG49bnVsbCxvPW51bGwscz10aGlzLmdldF92aWV3X29mZnNldCgpO2Zvcih2YXIgciBpbiBlKSh0PWVbcl0pLmlzcm9vdHx8dGhpcy5sYXlvdXQuaXNfdmlzaWJsZSh0KSYmKGk9dGhpcy5sYXlvdXQuZ2V0X25vZGVfcG9pbnRfaW4odCksbj10aGlzLmxheW91dC5nZXRfbm9kZV9wb2ludF9vdXQodC5wYXJlbnQpLG89dC5kYXRhW1wibGVhZGluZy1saW5lLWNvbG9yXCJdLHRoaXMuZ3JhcGguZHJhd19saW5lKG4saSxzLG8pKX1zZXR1cF9jYW52YXNfZHJhZ2dhYmxlKGUpe2lmKHRoaXMub3B0cy5kcmFnZ2FibGU9ZSwhdGhpcy5faW5pdGlhbGl6ZWQpe2xldCBlLHQsaT0hMTt0aGlzLm9wdHMuaGlkZV9zY3JvbGxiYXJzX3doZW5fZHJhZ2dhYmxlJiYodGhpcy5lX3BhbmVsLnN0eWxlPVwib3ZlcmZsb3c6IGhpZGRlblwiKSxyLm9uKHRoaXMuY29udGFpbmVyLFwibW91c2Vkb3duXCIsKG49Pnt0aGlzLm9wdHMuZHJhZ2dhYmxlJiYoaT0hMCxlPW4uY2xpZW50WCx0PW4uY2xpZW50WSl9KSksci5vbih0aGlzLmNvbnRhaW5lcixcIm1vdXNldXBcIiwoKCk9PntpPSExfSkpLHIub24odGhpcy5jb250YWluZXIsXCJtb3VzZW1vdmVcIiwobj0+e3RoaXMub3B0cy5kcmFnZ2FibGUmJmkmJih0aGlzLmVfcGFuZWwuc2Nyb2xsQnkoZS1uLmNsaWVudFgsdC1uLmNsaWVudFkpLGU9bi5jbGllbnRYLHQ9bi5jbGllbnRZKX0pKX19Y2VudGVyX25vZGUoZSl7aWYoIXRoaXMubGF5b3V0LmlzX3Zpc2libGUoZSkpcmV0dXJuIHMud2FybihcImNhbiBub3Qgc2Nyb2xsIHRvIHRoZSBub2RlLCBiZWNhdXNlIGl0IGlzIGludmlzaWJsZVwiKSwhMTtsZXQgdD1lLl9kYXRhLnZpZXcsaT10aGlzLmVfcGFuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj10LmFic194K3Qud2lkdGgvMixvPXQuYWJzX3krdC5oZWlnaHQvMjtyZXR1cm4gdGhpcy5lX3BhbmVsLnNjcm9sbFRvKG4qdGhpcy56b29tX2N1cnJlbnQtaS53aWR0aC8yLG8qdGhpcy56b29tX2N1cnJlbnQtaS5oZWlnaHQvMiksITB9em9vbUluKGUpe3JldHVybiBzLndhcm4oXCJwbGVhc2UgdXNlIHpvb21faW4gaW5zdGVhZFwiKSx0aGlzLnpvb21faW4oZSl9em9vbU91dChlKXtyZXR1cm4gcy53YXJuKFwicGxlYXNlIHVzZSB6b29tX291dCBpbnN0ZWFkXCIpLHRoaXMuem9vbV9vdXQoZSl9c2V0Wm9vbShlLHQpe3JldHVybiBzLndhcm4oXCJwbGVhc2UgdXNlIHNldF96b29tIGluc3RlYWRcIiksdGhpcy5zZXRfem9vbShlLHQpfX1jbGFzcyBte2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5qbT1lLHRoaXMub3B0cz10LHRoaXMubWFwcGluZz10Lm1hcHBpbmcsdGhpcy5oYW5kbGVzPXQuaGFuZGxlcyx0aGlzLl9uZXdpZD1udWxsLHRoaXMuX21hcHBpbmc9e319aW5pdCgpe2Zvcih2YXIgZSBpbiByLm9uKHRoaXMuam0udmlldy5lX3BhbmVsLFwia2V5ZG93blwiLHRoaXMuaGFuZGxlci5iaW5kKHRoaXMpKSx0aGlzLmhhbmRsZXMuYWRkY2hpbGQ9dGhpcy5oYW5kbGVfYWRkY2hpbGQsdGhpcy5oYW5kbGVzLmFkZGJyb3RoZXI9dGhpcy5oYW5kbGVfYWRkYnJvdGhlcix0aGlzLmhhbmRsZXMuZWRpdG5vZGU9dGhpcy5oYW5kbGVfZWRpdG5vZGUsdGhpcy5oYW5kbGVzLmRlbG5vZGU9dGhpcy5oYW5kbGVfZGVsbm9kZSx0aGlzLmhhbmRsZXMudG9nZ2xlPXRoaXMuaGFuZGxlX3RvZ2dsZSx0aGlzLmhhbmRsZXMudXA9dGhpcy5oYW5kbGVfdXAsdGhpcy5oYW5kbGVzLmRvd249dGhpcy5oYW5kbGVfZG93bix0aGlzLmhhbmRsZXMubGVmdD10aGlzLmhhbmRsZV9sZWZ0LHRoaXMuaGFuZGxlcy5yaWdodD10aGlzLmhhbmRsZV9yaWdodCx0aGlzLm1hcHBpbmcpaWYodGhpcy5tYXBwaW5nW2VdJiZlIGluIHRoaXMuaGFuZGxlcyl7bGV0IHQ9dGhpcy5tYXBwaW5nW2VdO0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Zm9yKGxldCBpIG9mIHQpdGhpcy5fbWFwcGluZ1tpXT10aGlzLmhhbmRsZXNbZV19XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRzLmlkX2dlbmVyYXRvcj90aGlzLl9uZXdpZD10aGlzLm9wdHMuaWRfZ2VuZXJhdG9yOnRoaXMuX25ld2lkPWEudXVpZC5uZXdpZH1lbmFibGVfc2hvcnRjdXQoKXt0aGlzLm9wdHMuZW5hYmxlPSEwfWRpc2FibGVfc2hvcnRjdXQoKXt0aGlzLm9wdHMuZW5hYmxlPSExfWhhbmRsZXIoZSl7aWYoOT09ZS53aGljaCYmZS5wcmV2ZW50RGVmYXVsdCgpLCF0aGlzLmptLnZpZXcuaXNfZWRpdGluZygpKXt2YXIgdD1lfHxldmVudDtpZighdGhpcy5vcHRzLmVuYWJsZSlyZXR1cm4hMDt2YXIgaT10LmtleUNvZGUrKHQubWV0YUtleTw8MTMpKyh0LmN0cmxLZXk8PDEyKSsodC5hbHRLZXk8PDExKSsodC5zaGlmdEtleTw8MTApO2kgaW4gdGhpcy5fbWFwcGluZyYmdGhpcy5fbWFwcGluZ1tpXS5jYWxsKHRoaXMsdGhpcy5qbSxlKX19aGFuZGxlX2FkZGNoaWxkKGUsdCl7dmFyIGk9ZS5nZXRfc2VsZWN0ZWRfbm9kZSgpO2lmKGkpe3ZhciBuPXRoaXMuX25ld2lkKCk7ZS5hZGRfbm9kZShpLG4sXCJOZXcgTm9kZVwiKSYmKGUuc2VsZWN0X25vZGUobiksZS5iZWdpbl9lZGl0KG4pKX19aGFuZGxlX2FkZGJyb3RoZXIoZSx0KXt2YXIgaT1lLmdldF9zZWxlY3RlZF9ub2RlKCk7aWYoaSYmIWkuaXNyb290KXt2YXIgbj10aGlzLl9uZXdpZCgpO2UuaW5zZXJ0X25vZGVfYWZ0ZXIoaSxuLFwiTmV3IE5vZGVcIikmJihlLnNlbGVjdF9ub2RlKG4pLGUuYmVnaW5fZWRpdChuKSl9fWhhbmRsZV9lZGl0bm9kZShlLHQpe3ZhciBpPWUuZ2V0X3NlbGVjdGVkX25vZGUoKTtpJiZlLmJlZ2luX2VkaXQoaSl9aGFuZGxlX2RlbG5vZGUoZSx0KXt2YXIgaT1lLmdldF9zZWxlY3RlZF9ub2RlKCk7aSYmIWkuaXNyb290JiYoZS5zZWxlY3Rfbm9kZShpLnBhcmVudCksZS5yZW1vdmVfbm9kZShpKSl9aGFuZGxlX3RvZ2dsZShlLHQpe3ZhciBpPXR8fGV2ZW50LG49ZS5nZXRfc2VsZWN0ZWRfbm9kZSgpO24mJihlLnRvZ2dsZV9ub2RlKG4uaWQpLGkuc3RvcFByb3BhZ2F0aW9uKCksaS5wcmV2ZW50RGVmYXVsdCgpKX1oYW5kbGVfdXAoZSx0KXt2YXIgaT10fHxldmVudCxuPWUuZ2V0X3NlbGVjdGVkX25vZGUoKTtpZihuKXt2YXIgbz1lLmZpbmRfbm9kZV9iZWZvcmUobik7aWYoIW8pe3ZhciBzPWUuZmluZF9ub2RlX2JlZm9yZShuLnBhcmVudCk7cyYmcy5jaGlsZHJlbi5sZW5ndGg+MCYmKG89cy5jaGlsZHJlbltzLmNoaWxkcmVuLmxlbmd0aC0xXSl9byYmZS5zZWxlY3Rfbm9kZShvKSxpLnN0b3BQcm9wYWdhdGlvbigpLGkucHJldmVudERlZmF1bHQoKX19aGFuZGxlX2Rvd24oZSx0KXt2YXIgaT10fHxldmVudCxuPWUuZ2V0X3NlbGVjdGVkX25vZGUoKTtpZihuKXt2YXIgbz1lLmZpbmRfbm9kZV9hZnRlcihuKTtpZighbyl7dmFyIHM9ZS5maW5kX25vZGVfYWZ0ZXIobi5wYXJlbnQpO3MmJnMuY2hpbGRyZW4ubGVuZ3RoPjAmJihvPXMuY2hpbGRyZW5bMF0pfW8mJmUuc2VsZWN0X25vZGUobyksaS5zdG9wUHJvcGFnYXRpb24oKSxpLnByZXZlbnREZWZhdWx0KCl9fWhhbmRsZV9sZWZ0KGUsaSl7dGhpcy5faGFuZGxlX2RpcmVjdGlvbihlLGksdC5sZWZ0KX1oYW5kbGVfcmlnaHQoZSxpKXt0aGlzLl9oYW5kbGVfZGlyZWN0aW9uKGUsaSx0LnJpZ2h0KX1faGFuZGxlX2RpcmVjdGlvbihlLHQsaSl7dmFyIG49dHx8ZXZlbnQsbz1lLmdldF9zZWxlY3RlZF9ub2RlKCkscz1udWxsO2lmKG8pe2lmKG8uaXNyb290KXtmb3IodmFyIHI9by5jaGlsZHJlbixhPVtdLGQ9MDtkPHIubGVuZ3RoO2QrKylyW2RdLmRpcmVjdGlvbj09PWkmJmEucHVzaChkKTtzPXJbYVtNYXRoLmZsb29yKChhLmxlbmd0aC0xKS8yKV1dfWVsc2UgaWYoby5kaXJlY3Rpb249PT1pKXt2YXIgbD0oYT1vLmNoaWxkcmVuKS5sZW5ndGg7bD4wJiYocz1hW01hdGguZmxvb3IoKGwtMSkvMildKX1lbHNlIHM9by5wYXJlbnQ7cyYmZS5zZWxlY3Rfbm9kZShzKSxuLnN0b3BQcm9wYWdhdGlvbigpLG4ucHJldmVudERlZmF1bHQoKX19fWNvbnN0IHc9e3BsdWdpbnM6W119O2Z1bmN0aW9uIHkoZSl7aWYoIShlIGluc3RhbmNlb2YgeCkpdGhyb3cgbmV3IEVycm9yKFwiY2FuIG5vdCByZWdpc3RlciBwbHVnaW4sIGl0IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBQbHVnaW5cIik7aWYody5wbHVnaW5zLm1hcCgoZT0+ZS5uYW1lKSkuaW5jbHVkZXMoZS5uYW1lKSl0aHJvdyBuZXcgRXJyb3IoXCJjYW4gbm90IHJlZ2lzdGVyIHBsdWdpbiBcIitlLm5hbWUrXCI6IHBsdWdpbiBuYW1lIGFscmVhZHkgZXhpc3RcIik7dy5wbHVnaW5zLnB1c2goZSl9ZnVuY3Rpb24gYihlLHQpe3Iudy5zZXRUaW1lb3V0KChmdW5jdGlvbigpeyFmdW5jdGlvbihlLHQpe3cucGx1Z2lucy5mb3JFYWNoKChpPT5pLmZuX2luaXQoZSx0W2kubmFtZV0pKSl9KGUsdCl9KSwwKX1jbGFzcyB4e2NvbnN0cnVjdG9yKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwicGx1Z2luIG11c3QgaGFzIGEgbmFtZVwiKTtpZighdHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJwbHVnaW4gbXVzdCBoYXMgYW4gaW5pdCBmdW5jdGlvblwiKTt0aGlzLm5hbWU9ZSx0aGlzLmZuX2luaXQ9dH19Y2xhc3MgentzdGF0aWMgbWluZD1oO3N0YXRpYyBub2RlPWw7c3RhdGljIGRpcmVjdGlvbj10O3N0YXRpYyBldmVudF90eXBlPWk7c3RhdGljICQ9cjtzdGF0aWMgcGx1Z2luPXg7c3RhdGljIHJlZ2lzdGVyX3BsdWdpbj15O3N0YXRpYyB1dGlsPWE7Y29uc3RydWN0b3IodCl7ei5jdXJyZW50PXRoaXMsdGhpcy5vcHRpb25zPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2lmKGEuanNvbi5tZXJnZSh0LGQpLGEuanNvbi5tZXJnZSh0LGUpLCF0LmNvbnRhaW5lcil0aHJvdyBuZXcgRXJyb3IoXCJ0aGUgb3B0aW9ucy5jb250YWluZXIgc2hvdWxkIG5vdCBiZSBudWxsIG9yIGVtcHR5LlwiKTtyZXR1cm4gdH0odCkscy5sZXZlbChuW3RoaXMub3B0aW9ucy5sb2dfbGV2ZWxdKSx0aGlzLnZlcnNpb249ZSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMubWluZD1udWxsLHRoaXMuZXZlbnRfaGFuZGxlcz1bXSx0aGlzLmluaXQoKX1pbml0KCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe3RoaXMuaW5pdGlhbGl6ZWQ9ITA7dmFyIGU9e21vZGU6dGhpcy5vcHRpb25zLm1vZGUsaHNwYWNlOnRoaXMub3B0aW9ucy5sYXlvdXQuaHNwYWNlLHZzcGFjZTp0aGlzLm9wdGlvbnMubGF5b3V0LnZzcGFjZSxwc3BhY2U6dGhpcy5vcHRpb25zLmxheW91dC5wc3BhY2UsY291c2luX3NwYWNlOnRoaXMub3B0aW9ucy5sYXlvdXQuY291c2luX3NwYWNlfSx0PXtjb250YWluZXI6dGhpcy5vcHRpb25zLmNvbnRhaW5lcixzdXBwb3J0X2h0bWw6dGhpcy5vcHRpb25zLnN1cHBvcnRfaHRtbCxlbmdpbmU6dGhpcy5vcHRpb25zLnZpZXcuZW5naW5lLGVuYWJsZV9kZXZpY2VfcGl4ZWxfcmF0aW86dGhpcy5vcHRpb25zLnZpZXcuZW5hYmxlX2RldmljZV9waXhlbF9yYXRpbyxobWFyZ2luOnRoaXMub3B0aW9ucy52aWV3LmhtYXJnaW4sdm1hcmdpbjp0aGlzLm9wdGlvbnMudmlldy52bWFyZ2luLGxpbmVfd2lkdGg6dGhpcy5vcHRpb25zLnZpZXcubGluZV93aWR0aCxsaW5lX2NvbG9yOnRoaXMub3B0aW9ucy52aWV3LmxpbmVfY29sb3IsbGluZV9zdHlsZTp0aGlzLm9wdGlvbnMudmlldy5saW5lX3N0eWxlLGN1c3RvbV9saW5lX3JlbmRlcjp0aGlzLm9wdGlvbnMudmlldy5jdXN0b21fbGluZV9yZW5kZXIsZHJhZ2dhYmxlOnRoaXMub3B0aW9ucy52aWV3LmRyYWdnYWJsZSxoaWRlX3Njcm9sbGJhcnNfd2hlbl9kcmFnZ2FibGU6dGhpcy5vcHRpb25zLnZpZXcuaGlkZV9zY3JvbGxiYXJzX3doZW5fZHJhZ2dhYmxlLG5vZGVfb3ZlcmZsb3c6dGhpcy5vcHRpb25zLnZpZXcubm9kZV9vdmVyZmxvdyx6b29tOnRoaXMub3B0aW9ucy52aWV3Lnpvb20sY3VzdG9tX25vZGVfcmVuZGVyOnRoaXMub3B0aW9ucy52aWV3LmN1c3RvbV9ub2RlX3JlbmRlcixleHBhbmRlcl9zdHlsZTp0aGlzLm9wdGlvbnMudmlldy5leHBhbmRlcl9zdHlsZX07dGhpcy5kYXRhPW5ldyBjKHRoaXMpLHRoaXMubGF5b3V0PW5ldyBwKHRoaXMsZSksdGhpcy52aWV3PW5ldyBnKHRoaXMsdCksdGhpcy5zaG9ydGN1dD1uZXcgbSh0aGlzLHRoaXMub3B0aW9ucy5zaG9ydGN1dCksdGhpcy5kYXRhLmluaXQoKSx0aGlzLmxheW91dC5pbml0KCksdGhpcy52aWV3LmluaXQoKSx0aGlzLnNob3J0Y3V0LmluaXQoKSx0aGlzLl9ldmVudF9iaW5kKCksYih0aGlzLHRoaXMub3B0aW9ucy5wbHVnaW4pfX1nZXRfZWRpdGFibGUoKXtyZXR1cm4gdGhpcy5vcHRpb25zLmVkaXRhYmxlfWVuYWJsZV9lZGl0KCl7dGhpcy5vcHRpb25zLmVkaXRhYmxlPSEwfWRpc2FibGVfZWRpdCgpe3RoaXMub3B0aW9ucy5lZGl0YWJsZT0hMX1nZXRfdmlld19kcmFnZ2FibGUoKXtyZXR1cm4gdGhpcy5vcHRpb25zLnZpZXcuZHJhZ2dhYmxlfWVuYWJsZV92aWV3X2RyYWdnYWJsZSgpe3RoaXMub3B0aW9ucy52aWV3LmRyYWdnYWJsZT0hMCx0aGlzLnZpZXcuc2V0dXBfY2FudmFzX2RyYWdnYWJsZSghMCl9ZGlzYWJsZV92aWV3X2RyYWdnYWJsZSgpe3RoaXMub3B0aW9ucy52aWV3LmRyYWdnYWJsZT0hMSx0aGlzLnZpZXcuc2V0dXBfY2FudmFzX2RyYWdnYWJsZSghMSl9ZW5hYmxlX2V2ZW50X2hhbmRsZShlKXt0aGlzLm9wdGlvbnMuZGVmYXVsdF9ldmVudF9oYW5kbGVbXCJlbmFibGVfXCIrZStcIl9oYW5kbGVcIl09ITB9ZGlzYWJsZV9ldmVudF9oYW5kbGUoZSl7dGhpcy5vcHRpb25zLmRlZmF1bHRfZXZlbnRfaGFuZGxlW1wiZW5hYmxlX1wiK2UrXCJfaGFuZGxlXCJdPSExfXNldF90aGVtZShlKXt2YXIgdD10aGlzLm9wdGlvbnMudGhlbWU7dGhpcy5vcHRpb25zLnRoZW1lPWV8fG51bGwsdCE9dGhpcy5vcHRpb25zLnRoZW1lJiYodGhpcy52aWV3LnJlc2V0X3RoZW1lKCksdGhpcy52aWV3LnJlc2V0X2N1c3RvbV9zdHlsZSgpKX1fZXZlbnRfYmluZCgpe3RoaXMudmlldy5hZGRfZXZlbnQodGhpcyxcIm1vdXNlZG93blwiLHRoaXMubW91c2Vkb3duX2hhbmRsZSksdGhpcy52aWV3LmFkZF9ldmVudCh0aGlzLFwiY2xpY2tcIix0aGlzLmNsaWNrX2hhbmRsZSksdGhpcy52aWV3LmFkZF9ldmVudCh0aGlzLFwiZGJsY2xpY2tcIix0aGlzLmRibGNsaWNrX2hhbmRsZSksdGhpcy52aWV3LmFkZF9ldmVudCh0aGlzLFwibW91c2V3aGVlbFwiLHRoaXMubW91c2V3aGVlbF9oYW5kbGUsITApfW1vdXNlZG93bl9oYW5kbGUoZSl7aWYodGhpcy5vcHRpb25zLmRlZmF1bHRfZXZlbnRfaGFuZGxlLmVuYWJsZV9tb3VzZWRvd25faGFuZGxlKXt2YXIgdD1lLnRhcmdldHx8ZXZlbnQuc3JjRWxlbWVudCxpPXRoaXMudmlldy5nZXRfYmluZGVkX25vZGVpZCh0KTtpP3RoaXMudmlldy5pc19ub2RlKHQpJiZ0aGlzLnNlbGVjdF9ub2RlKGkpOnRoaXMuc2VsZWN0X2NsZWFyKCl9fWNsaWNrX2hhbmRsZShlKXtpZih0aGlzLm9wdGlvbnMuZGVmYXVsdF9ldmVudF9oYW5kbGUuZW5hYmxlX2NsaWNrX2hhbmRsZSl7dmFyIHQ9ZS50YXJnZXR8fGV2ZW50LnNyY0VsZW1lbnQ7aWYodGhpcy52aWV3LmlzX2V4cGFuZGVyKHQpKXt2YXIgaT10aGlzLnZpZXcuZ2V0X2JpbmRlZF9ub2RlaWQodCk7aSYmdGhpcy50b2dnbGVfbm9kZShpKX19fWRibGNsaWNrX2hhbmRsZShlKXtpZih0aGlzLm9wdGlvbnMuZGVmYXVsdF9ldmVudF9oYW5kbGUuZW5hYmxlX2RibGNsaWNrX2hhbmRsZSYmdGhpcy5nZXRfZWRpdGFibGUoKSl7dmFyIHQ9ZS50YXJnZXR8fGV2ZW50LnNyY0VsZW1lbnQ7aWYodGhpcy52aWV3LmlzX25vZGUodCkpe3ZhciBpPXRoaXMudmlldy5nZXRfYmluZGVkX25vZGVpZCh0KTtpJiZ0aGlzLmJlZ2luX2VkaXQoaSl9fX1tb3VzZXdoZWVsX2hhbmRsZShlKXtpZih0aGlzLm9wdGlvbnMuZGVmYXVsdF9ldmVudF9oYW5kbGUuZW5hYmxlX21vdXNld2hlZWxfaGFuZGxlJiZlLmN0cmxLZXkpe3ZhciB0PWV8fGV2ZW50O3QucHJldmVudERlZmF1bHQoKSx0LmRlbHRhWTwwP3RoaXMudmlldy56b29tX2luKHQpOnRoaXMudmlldy56b29tX291dCh0KX19YmVnaW5fZWRpdChlKXtpZighbC5pc19ub2RlKGUpKXt2YXIgdD10aGlzLmdldF9ub2RlKGUpO3JldHVybiB0P3RoaXMuYmVnaW5fZWRpdCh0KToocy5lcnJvcihcInRoZSBub2RlW2lkPVwiK2UrXCJdIGNhbiBub3QgYmUgZm91bmQuXCIpLCExKX10aGlzLmdldF9lZGl0YWJsZSgpP3RoaXMudmlldy5lZGl0X25vZGVfYmVnaW4oZSk6cy5lcnJvcihcImZhaWwsIHRoaXMgbWluZCBtYXAgaXMgbm90IGVkaXRhYmxlLlwiKX1lbmRfZWRpdCgpe3RoaXMudmlldy5lZGl0X25vZGVfZW5kKCl9dG9nZ2xlX25vZGUoZSl7aWYoIWwuaXNfbm9kZShlKSl7dmFyIHQ9dGhpcy5nZXRfbm9kZShlKTtyZXR1cm4gdD90aGlzLnRvZ2dsZV9ub2RlKHQpOnZvaWQgcy5lcnJvcihcInRoZSBub2RlW2lkPVwiK2UrXCJdIGNhbiBub3QgYmUgZm91bmQuXCIpfWUuaXNyb290fHwodGhpcy52aWV3LnNhdmVfbG9jYXRpb24oZSksdGhpcy5sYXlvdXQudG9nZ2xlX25vZGUoZSksdGhpcy52aWV3LnJlbGF5b3V0KCksdGhpcy52aWV3LnJlc3RvcmVfbG9jYXRpb24oZSkpfWV4cGFuZF9ub2RlKGUpe2lmKCFsLmlzX25vZGUoZSkpe3ZhciB0PXRoaXMuZ2V0X25vZGUoZSk7cmV0dXJuIHQ/dGhpcy5leHBhbmRfbm9kZSh0KTp2b2lkIHMuZXJyb3IoXCJ0aGUgbm9kZVtpZD1cIitlK1wiXSBjYW4gbm90IGJlIGZvdW5kLlwiKX1lLmlzcm9vdHx8KHRoaXMudmlldy5zYXZlX2xvY2F0aW9uKGUpLHRoaXMubGF5b3V0LmV4cGFuZF9ub2RlKGUpLHRoaXMudmlldy5yZWxheW91dCgpLHRoaXMudmlldy5yZXN0b3JlX2xvY2F0aW9uKGUpKX1jb2xsYXBzZV9ub2RlKGUpe2lmKCFsLmlzX25vZGUoZSkpe3ZhciB0PXRoaXMuZ2V0X25vZGUoZSk7cmV0dXJuIHQ/dGhpcy5jb2xsYXBzZV9ub2RlKHQpOnZvaWQgcy5lcnJvcihcInRoZSBub2RlW2lkPVwiK2UrXCJdIGNhbiBub3QgYmUgZm91bmQuXCIpfWUuaXNyb290fHwodGhpcy52aWV3LnNhdmVfbG9jYXRpb24oZSksdGhpcy5sYXlvdXQuY29sbGFwc2Vfbm9kZShlKSx0aGlzLnZpZXcucmVsYXlvdXQoKSx0aGlzLnZpZXcucmVzdG9yZV9sb2NhdGlvbihlKSl9ZXhwYW5kX2FsbCgpe3RoaXMubGF5b3V0LmV4cGFuZF9hbGwoKSx0aGlzLnZpZXcucmVsYXlvdXQoKX1jb2xsYXBzZV9hbGwoKXt0aGlzLmxheW91dC5jb2xsYXBzZV9hbGwoKSx0aGlzLnZpZXcucmVsYXlvdXQoKX1leHBhbmRfdG9fZGVwdGgoZSl7dGhpcy5sYXlvdXQuZXhwYW5kX3RvX2RlcHRoKGUpLHRoaXMudmlldy5yZWxheW91dCgpfV9yZXNldCgpe3RoaXMudmlldy5yZXNldCgpLHRoaXMubGF5b3V0LnJlc2V0KCksdGhpcy5kYXRhLnJlc2V0KCl9X3Nob3coZSx0KXt2YXIgbj1lfHx1Lm5vZGVfYXJyYXkuZXhhbXBsZTt0aGlzLm1pbmQ9dGhpcy5kYXRhLmxvYWQobiksdGhpcy5taW5kPyhzLmRlYnVnKFwiZGF0YS5sb2FkIG9rXCIpLHRoaXMudmlldy5sb2FkKCkscy5kZWJ1ZyhcInZpZXcubG9hZCBva1wiKSx0aGlzLmxheW91dC5sYXlvdXQoKSxzLmRlYnVnKFwibGF5b3V0LmxheW91dCBva1wiKSx0aGlzLnZpZXcuc2hvdyghdCkscy5kZWJ1ZyhcInZpZXcuc2hvdyBva1wiKSx0aGlzLmludm9rZV9ldmVudF9oYW5kbGUoaS5zaG93LHtkYXRhOltlXX0pKTpzLmVycm9yKFwiZGF0YS5sb2FkIGVycm9yXCIpfXNob3coZSx0KXt0aGlzLl9yZXNldCgpLHRoaXMuX3Nob3coZSx0KX1nZXRfbWV0YSgpe3JldHVybntuYW1lOnRoaXMubWluZC5uYW1lLGF1dGhvcjp0aGlzLm1pbmQuYXV0aG9yLHZlcnNpb246dGhpcy5taW5kLnZlcnNpb259fWdldF9kYXRhKGUpe3ZhciB0PWV8fFwibm9kZV90cmVlXCI7cmV0dXJuIHRoaXMuZGF0YS5nZXRfZGF0YSh0KX1nZXRfcm9vdCgpe3JldHVybiB0aGlzLm1pbmQucm9vdH1nZXRfbm9kZShlKXtyZXR1cm4gbC5pc19ub2RlKGUpP2U6dGhpcy5taW5kLmdldF9ub2RlKGUpfWFkZF9ub2RlKGUsbixvLHIsYSl7aWYodGhpcy5nZXRfZWRpdGFibGUoKSl7dmFyIGQ9dGhpcy5nZXRfbm9kZShlKSxsPXQub2YoYSk7dm9pZCAwPT09bCYmKGw9dGhpcy5sYXlvdXQuY2FsY3VsYXRlX25leHRfY2hpbGRfZGlyZWN0aW9uKGQpKTt2YXIgaD10aGlzLm1pbmQuYWRkX25vZGUoZCxuLG8scixsKTtyZXR1cm4gaCYmKHRoaXMudmlldy5hZGRfbm9kZShoKSx0aGlzLmxheW91dC5sYXlvdXQoKSx0aGlzLnZpZXcuc2hvdyghMSksdGhpcy52aWV3LnJlc2V0X25vZGVfY3VzdG9tX3N0eWxlKGgpLHRoaXMuZXhwYW5kX25vZGUoZCksdGhpcy5pbnZva2VfZXZlbnRfaGFuZGxlKGkuZWRpdCx7ZXZ0OlwiYWRkX25vZGVcIixkYXRhOltkLmlkLG4sbyxyLGxdLG5vZGU6bn0pKSxofXJldHVybiBzLmVycm9yKFwiZmFpbCwgdGhpcyBtaW5kIG1hcCBpcyBub3QgZWRpdGFibGVcIiksbnVsbH1pbnNlcnRfbm9kZV9iZWZvcmUoZSxuLG8scixhKXtpZih0aGlzLmdldF9lZGl0YWJsZSgpKXt2YXIgZD10aGlzLmdldF9ub2RlKGUpLGw9dC5vZihhKTt2b2lkIDA9PT1sJiYobD10aGlzLmxheW91dC5jYWxjdWxhdGVfbmV4dF9jaGlsZF9kaXJlY3Rpb24oZC5wYXJlbnQpKTt2YXIgaD10aGlzLm1pbmQuaW5zZXJ0X25vZGVfYmVmb3JlKGQsbixvLHIsbCk7cmV0dXJuIGgmJih0aGlzLnZpZXcuYWRkX25vZGUoaCksdGhpcy5sYXlvdXQubGF5b3V0KCksdGhpcy52aWV3LnNob3coITEpLHRoaXMuaW52b2tlX2V2ZW50X2hhbmRsZShpLmVkaXQse2V2dDpcImluc2VydF9ub2RlX2JlZm9yZVwiLGRhdGE6W2QuaWQsbixvLHIsbF0sbm9kZTpufSkpLGh9cmV0dXJuIHMuZXJyb3IoXCJmYWlsLCB0aGlzIG1pbmQgbWFwIGlzIG5vdCBlZGl0YWJsZVwiKSxudWxsfWluc2VydF9ub2RlX2FmdGVyKGUsbixvLHIsYSl7aWYodGhpcy5nZXRfZWRpdGFibGUoKSl7dmFyIGQ9dGhpcy5nZXRfbm9kZShlKSxsPXQub2YoYSk7dm9pZCAwPT09bCYmKGw9dGhpcy5sYXlvdXQuY2FsY3VsYXRlX25leHRfY2hpbGRfZGlyZWN0aW9uKGQucGFyZW50KSk7dmFyIGg9dGhpcy5taW5kLmluc2VydF9ub2RlX2FmdGVyKGQsbixvLHIsbCk7cmV0dXJuIGgmJih0aGlzLnZpZXcuYWRkX25vZGUoaCksdGhpcy5sYXlvdXQubGF5b3V0KCksdGhpcy52aWV3LnNob3coITEpLHRoaXMuaW52b2tlX2V2ZW50X2hhbmRsZShpLmVkaXQse2V2dDpcImluc2VydF9ub2RlX2FmdGVyXCIsZGF0YTpbZC5pZCxuLG8scixsXSxub2RlOm59KSksaH1yZXR1cm4gcy5lcnJvcihcImZhaWwsIHRoaXMgbWluZCBtYXAgaXMgbm90IGVkaXRhYmxlXCIpLG51bGx9cmVtb3ZlX25vZGUoZSl7aWYoIWwuaXNfbm9kZShlKSl7dmFyIHQ9dGhpcy5nZXRfbm9kZShlKTtyZXR1cm4gdD90aGlzLnJlbW92ZV9ub2RlKHQpOihzLmVycm9yKFwidGhlIG5vZGVbaWQ9XCIrZStcIl0gY2FuIG5vdCBiZSBmb3VuZC5cIiksITEpfWlmKHRoaXMuZ2V0X2VkaXRhYmxlKCkpe2lmKGUuaXNyb290KXJldHVybiBzLmVycm9yKFwiZmFpbCwgY2FuIG5vdCByZW1vdmUgcm9vdCBub2RlXCIpLCExO3ZhciBuPWUuaWQsbz1lLnBhcmVudC5pZCxyPXRoaXMuZ2V0X25vZGUobyk7cmV0dXJuIHRoaXMudmlldy5zYXZlX2xvY2F0aW9uKHIpLHRoaXMudmlldy5yZW1vdmVfbm9kZShlKSx0aGlzLm1pbmQucmVtb3ZlX25vZGUoZSksdGhpcy5sYXlvdXQubGF5b3V0KCksdGhpcy52aWV3LnNob3coITEpLHRoaXMudmlldy5yZXN0b3JlX2xvY2F0aW9uKHIpLHRoaXMuaW52b2tlX2V2ZW50X2hhbmRsZShpLmVkaXQse2V2dDpcInJlbW92ZV9ub2RlXCIsZGF0YTpbbl0sbm9kZTpvfSksITB9cmV0dXJuIHMuZXJyb3IoXCJmYWlsLCB0aGlzIG1pbmQgbWFwIGlzIG5vdCBlZGl0YWJsZVwiKSwhMX11cGRhdGVfbm9kZShlLHQpe2lmKHRoaXMuZ2V0X2VkaXRhYmxlKCkpaWYoYS50ZXh0LmlzX2VtcHR5KHQpKXMud2FybihcImZhaWwsIHRvcGljIGNhbiBub3QgYmUgZW1wdHlcIik7ZWxzZXt2YXIgbj10aGlzLmdldF9ub2RlKGUpO2lmKG4pe2lmKG4udG9waWM9PT10KXJldHVybiBzLmluZm8oXCJub3RoaW5nIGNoYW5nZWRcIiksdm9pZCB0aGlzLnZpZXcudXBkYXRlX25vZGUobik7bi50b3BpYz10LHRoaXMudmlldy51cGRhdGVfbm9kZShuKSx0aGlzLmxheW91dC5sYXlvdXQoKSx0aGlzLnZpZXcuc2hvdyghMSksdGhpcy5pbnZva2VfZXZlbnRfaGFuZGxlKGkuZWRpdCx7ZXZ0OlwidXBkYXRlX25vZGVcIixkYXRhOltlLHRdLG5vZGU6ZX0pfX1lbHNlIHMuZXJyb3IoXCJmYWlsLCB0aGlzIG1pbmQgbWFwIGlzIG5vdCBlZGl0YWJsZVwiKX1tb3ZlX25vZGUoZSx0LG4sbyl7aWYodGhpcy5nZXRfZWRpdGFibGUoKSl7dmFyIHI9dGhpcy5nZXRfbm9kZShlKSxhPXRoaXMubWluZC5tb3ZlX25vZGUocix0LG4sbyk7YSYmKHRoaXMudmlldy51cGRhdGVfbm9kZShhKSx0aGlzLmxheW91dC5sYXlvdXQoKSx0aGlzLnZpZXcuc2hvdyghMSksdGhpcy5pbnZva2VfZXZlbnRfaGFuZGxlKGkuZWRpdCx7ZXZ0OlwibW92ZV9ub2RlXCIsZGF0YTpbZSx0LG4sb10sbm9kZTplfSkpfWVsc2Ugcy5lcnJvcihcImZhaWwsIHRoaXMgbWluZCBtYXAgaXMgbm90IGVkaXRhYmxlXCIpfXNlbGVjdF9ub2RlKGUpe2lmKCFsLmlzX25vZGUoZSkpe3ZhciB0PXRoaXMuZ2V0X25vZGUoZSk7cmV0dXJuIHQ/dGhpcy5zZWxlY3Rfbm9kZSh0KTp2b2lkIHMuZXJyb3IoXCJ0aGUgbm9kZVtpZD1cIitlK1wiXSBjYW4gbm90IGJlIGZvdW5kLlwiKX10aGlzLmxheW91dC5pc192aXNpYmxlKGUpJiYodGhpcy5taW5kLnNlbGVjdGVkPWUsdGhpcy52aWV3LnNlbGVjdF9ub2RlKGUpLHRoaXMuaW52b2tlX2V2ZW50X2hhbmRsZShpLnNlbGVjdCx7ZXZ0Olwic2VsZWN0X25vZGVcIixkYXRhOltdLG5vZGU6ZS5pZH0pKX1nZXRfc2VsZWN0ZWRfbm9kZSgpe3JldHVybiB0aGlzLm1pbmQ/dGhpcy5taW5kLnNlbGVjdGVkOm51bGx9c2VsZWN0X2NsZWFyKCl7dGhpcy5taW5kJiYodGhpcy5taW5kLnNlbGVjdGVkPW51bGwsdGhpcy52aWV3LnNlbGVjdF9jbGVhcigpKX1pc19ub2RlX3Zpc2libGUoZSl7cmV0dXJuIHRoaXMubGF5b3V0LmlzX3Zpc2libGUoZSl9c2Nyb2xsX25vZGVfdG9fY2VudGVyKGUpe2lmKGwuaXNfbm9kZShlKSl0aGlzLnZpZXcuY2VudGVyX25vZGUoZSk7ZWxzZXt2YXIgdD10aGlzLmdldF9ub2RlKGUpO3Q/dGhpcy5zY3JvbGxfbm9kZV90b19jZW50ZXIodCk6cy5lcnJvcihcInRoZSBub2RlW2lkPVwiK2UrXCJdIGNhbiBub3QgYmUgZm91bmQuXCIpfX1maW5kX25vZGVfYmVmb3JlKGUpe2lmKCFsLmlzX25vZGUoZSkpe3ZhciB0PXRoaXMuZ2V0X25vZGUoZSk7cmV0dXJuIHQ/dGhpcy5maW5kX25vZGVfYmVmb3JlKHQpOnZvaWQgcy5lcnJvcihcInRoZSBub2RlW2lkPVwiK2UrXCJdIGNhbiBub3QgYmUgZm91bmQuXCIpfWlmKGUuaXNyb290KXJldHVybiBudWxsO3ZhciBpPW51bGw7aWYoZS5wYXJlbnQuaXNyb290KWZvcih2YXIgbj1lLnBhcmVudC5jaGlsZHJlbixvPW51bGwscj1udWxsLGE9MDthPG4ubGVuZ3RoO2ErKylyPW5bYV0sZS5kaXJlY3Rpb249PT1yLmRpcmVjdGlvbiYmKGUuaWQ9PT1yLmlkJiYoaT1vKSxvPXIpO2Vsc2UgaT10aGlzLm1pbmQuZ2V0X25vZGVfYmVmb3JlKGUpO3JldHVybiBpfWZpbmRfbm9kZV9hZnRlcihlKXtpZighbC5pc19ub2RlKGUpKXt2YXIgdD10aGlzLmdldF9ub2RlKGUpO3JldHVybiB0P3RoaXMuZmluZF9ub2RlX2FmdGVyKHQpOnZvaWQgcy5lcnJvcihcInRoZSBub2RlW2lkPVwiK2UrXCJdIGNhbiBub3QgYmUgZm91bmQuXCIpfWlmKGUuaXNyb290KXJldHVybiBudWxsO3ZhciBpPW51bGw7aWYoZS5wYXJlbnQuaXNyb290KXtmb3IodmFyIG49ZS5wYXJlbnQuY2hpbGRyZW4sbz0hMSxyPW51bGwsYT0wO2E8bi5sZW5ndGg7YSsrKWlmKHI9blthXSxlLmRpcmVjdGlvbj09PXIuZGlyZWN0aW9uKXtpZihvKXtpPXI7YnJlYWt9ZS5pZD09PXIuaWQmJihvPSEwKX19ZWxzZSBpPXRoaXMubWluZC5nZXRfbm9kZV9hZnRlcihlKTtyZXR1cm4gaX1zZXRfbm9kZV9jb2xvcihlLHQsaSl7aWYoIXRoaXMuZ2V0X2VkaXRhYmxlKCkpcmV0dXJuIHMuZXJyb3IoXCJmYWlsLCB0aGlzIG1pbmQgbWFwIGlzIG5vdCBlZGl0YWJsZVwiKSxudWxsO3ZhciBuPXRoaXMubWluZC5nZXRfbm9kZShlKTtuJiYodCYmKG4uZGF0YVtcImJhY2tncm91bmQtY29sb3JcIl09dCksaSYmKG4uZGF0YVtcImZvcmVncm91bmQtY29sb3JcIl09aSksdGhpcy52aWV3LnJlc2V0X25vZGVfY3VzdG9tX3N0eWxlKG4pKX1zZXRfbm9kZV9mb250X3N0eWxlKGUsdCxpLG4pe2lmKCF0aGlzLmdldF9lZGl0YWJsZSgpKXJldHVybiBzLmVycm9yKFwiZmFpbCwgdGhpcyBtaW5kIG1hcCBpcyBub3QgZWRpdGFibGVcIiksbnVsbDt2YXIgbz10aGlzLm1pbmQuZ2V0X25vZGUoZSk7byYmKHQmJihvLmRhdGFbXCJmb250LXNpemVcIl09dCksaSYmKG8uZGF0YVtcImZvbnQtd2VpZ2h0XCJdPWkpLG4mJihvLmRhdGFbXCJmb250LXN0eWxlXCJdPW4pLHRoaXMudmlldy5yZXNldF9ub2RlX2N1c3RvbV9zdHlsZShvKSx0aGlzLnZpZXcudXBkYXRlX25vZGUobyksdGhpcy5sYXlvdXQubGF5b3V0KCksdGhpcy52aWV3LnNob3coITEpKX1zZXRfbm9kZV9iYWNrZ3JvdW5kX2ltYWdlKGUsdCxpLG4sbyl7aWYoIXRoaXMuZ2V0X2VkaXRhYmxlKCkpcmV0dXJuIHMuZXJyb3IoXCJmYWlsLCB0aGlzIG1pbmQgbWFwIGlzIG5vdCBlZGl0YWJsZVwiKSxudWxsO3ZhciByPXRoaXMubWluZC5nZXRfbm9kZShlKTtyJiYodCYmKHIuZGF0YVtcImJhY2tncm91bmQtaW1hZ2VcIl09dCksaSYmKHIuZGF0YS53aWR0aD1pKSxuJiYoci5kYXRhLmhlaWdodD1uKSxvJiYoci5kYXRhW1wiYmFja2dyb3VuZC1yb3RhdGlvblwiXT1vKSx0aGlzLnZpZXcucmVzZXRfbm9kZV9jdXN0b21fc3R5bGUociksdGhpcy52aWV3LnVwZGF0ZV9ub2RlKHIpLHRoaXMubGF5b3V0LmxheW91dCgpLHRoaXMudmlldy5zaG93KCExKSl9c2V0X25vZGVfYmFja2dyb3VuZF9yb3RhdGlvbihlLHQpe2lmKCF0aGlzLmdldF9lZGl0YWJsZSgpKXJldHVybiBzLmVycm9yKFwiZmFpbCwgdGhpcyBtaW5kIG1hcCBpcyBub3QgZWRpdGFibGVcIiksbnVsbDt2YXIgaT10aGlzLm1pbmQuZ2V0X25vZGUoZSk7aWYoaSl7aWYoIWkuZGF0YVtcImJhY2tncm91bmQtaW1hZ2VcIl0pcmV0dXJuIHMuZXJyb3IoXCJmYWlsLCBvbmx5IGNhbiBjaGFuZ2Ugcm90YXRpb24gYW5nbGUgb2Ygbm9kZSB3aXRoIGJhY2tncm91bmQgaW1hZ2VcIiksbnVsbDtpLmRhdGFbXCJiYWNrZ3JvdW5kLXJvdGF0aW9uXCJdPXQsdGhpcy52aWV3LnJlc2V0X25vZGVfY3VzdG9tX3N0eWxlKGkpLHRoaXMudmlldy51cGRhdGVfbm9kZShpKSx0aGlzLmxheW91dC5sYXlvdXQoKSx0aGlzLnZpZXcuc2hvdyghMSl9fXJlc2l6ZSgpe3RoaXMudmlldy5yZXNpemUoKX1hZGRfZXZlbnRfbGlzdGVuZXIoZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmdGhpcy5ldmVudF9oYW5kbGVzLnB1c2goZSl9Y2xlYXJfZXZlbnRfbGlzdGVuZXIoKXt0aGlzLmV2ZW50X2hhbmRsZXM9W119aW52b2tlX2V2ZW50X2hhbmRsZShlLHQpe3ZhciBpPXRoaXM7ci53LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5faW52b2tlX2V2ZW50X2hhbmRsZShlLHQpfSksMCl9X2ludm9rZV9ldmVudF9oYW5kbGUoZSx0KXtmb3IodmFyIGk9dGhpcy5ldmVudF9oYW5kbGVzLmxlbmd0aCxuPTA7bjxpO24rKyl0aGlzLmV2ZW50X2hhbmRsZXNbbl0oZSx0KX1zdGF0aWMgc2hvdyhlLHQpe3Mud2FybihcImBqc01pbmQuc2hvdyhvcHRpb25zLCBtaW5kKWAgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgam0gPSBuZXcganNNaW5kKG9wdGlvbnMpOyBqbS5zaG93KG1pbmQpO2AgaW5zdGVhZFwiKTt2YXIgaT1uZXcgeihlKTtyZXR1cm4gaS5zaG93KHQpLGl9fXJldHVybiB6fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNtaW5kLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jsmind/es6/jsmind.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/jsmind/style/jsmind.css":
/*!**********************************************!*\
  !*** ./node_modules/jsmind/style/jsmind.css ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"772086338124\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9qc21pbmQvc3R5bGUvanNtaW5kLmNzcyIsIm1hcHBpbmdzIjoiO0FBQUEsK0RBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2pzbWluZC9zdHlsZS9qc21pbmQuY3NzPzcwMDEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI3NzIwODYzMzgxMjRcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/jsmind/style/jsmind.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/Map/MindMap.tsx":
/*!****************************************!*\
  !*** ./src/components/Map/MindMap.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsmind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsmind */ \"(app-pages-browser)/./node_modules/jsmind/es6/jsmind.js\");\n/* harmony import */ var jsmind__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsmind__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jsmind_draggable_node__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsmind/draggable-node */ \"(app-pages-browser)/./node_modules/jsmind/es6/jsmind.draggable-node.js\");\n/* harmony import */ var jsmind_draggable_node__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsmind_draggable_node__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _stores_mapStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/stores/mapStore */ \"(app-pages-browser)/./src/stores/mapStore.ts\");\n/* harmony import */ var jsmind_style_jsmind_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jsmind/style/jsmind.css */ \"(app-pages-browser)/./node_modules/jsmind/style/jsmind.css\");\n/* harmony import */ var _barrel_optimize_names_LoadingOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=LoadingOutlined!=!@ant-design/icons */ \"(app-pages-browser)/./node_modules/@ant-design/icons/es/icons/LoadingOutlined.js\");\n/* harmony import */ var _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Button,Input,Modal,message,notification!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/input/index.js\");\n/* harmony import */ var _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Button,Input,Modal,message,notification!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/message/index.js\");\n/* harmony import */ var _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Button,Input,Modal,message,notification!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/notification/index.js\");\n/* harmony import */ var _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Button,Input,Modal,message,notification!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/modal/index.js\");\n/* harmony import */ var _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Button,Input,Modal,message,notification!=!antd */ \"(app-pages-browser)/./node_modules/antd/es/button/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/./node_modules/axios/lib/axios.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst { TextArea } = _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\nconst MindMap = ()=>{\n    _s();\n    const reactFlowWrapper = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const jmRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const contextMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        visible: false,\n        x: 0,\n        y: 0\n    });\n    const [commands, setCommands] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [editModalVisible, setEditModalVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deleteModalVisible, setDeleteModalVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentNode, setCurrentNode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editedContent, setEditedContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const { currentMind, addNode, deleteNode, initializeMindMap, getCommands, updateNodeContent, executeCommand, commandToExecute, setCommandToExecute, getDatas } = (0,_stores_mapStore__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n    const [showLoading, setShowLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cancelTokenSource, setCancelTokenSource] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isClient) return;\n        initializeMindMap();\n    }, [\n        isClient\n    ]);\n    const getMindMapData = ()=>{\n        if (jmRef.current) {\n            // Try using the 'node_array' format instead of 'json'\n            const mindMapData = jmRef.current.get_data(\"node_array\");\n            if (!mindMapData) {\n                _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({\n                    content: \"Failed to retrieve mind map data.\"\n                });\n                return null;\n            }\n            // You can still store or send this data as needed\n            const localData = localStorage.getItem(\"mindMapData\");\n            if (localData) {\n                let nodeData = JSON.parse(localData);\n                nodeData[0].data = mindMapData.data;\n                localStorage.setItem(\"mindMapData\", JSON.stringify(nodeData));\n            }\n            // Return the data for further use\n            return mindMapData;\n        } else {\n            _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({\n                content: \"MindMap instance not initialized.\"\n            });\n            return null;\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isClient || !currentMind) return;\n        const loadMindMapInstance = async ()=>{\n            var _document_getElementById, _document_getElementById1;\n            const options = {\n                container: \"jsmind_container\",\n                editable: true,\n                theme: \"primary\",\n                layout: {\n                    hspace: 30,\n                    vspace: 30,\n                    pspace: 13,\n                    direction: \"right\",\n                    // Ensure full text is displayed in nodes\n                    node_overflow: \"wrap\"\n                },\n                view: {\n                    line_width: 2,\n                    line_color: \"#555\",\n                    draggable: true\n                }\n            };\n            if (!jmRef.current) {\n                const jm = new (jsmind__WEBPACK_IMPORTED_MODULE_2___default())(options);\n                const data = currentMind;\n                jm.show(data);\n                jmRef.current = jm;\n            } else {\n                jmRef.current.show(currentMind);\n            }\n            applyNodeBackgroundColors(currentMind);\n            getMindMapData();\n            (_document_getElementById = document.getElementById(\"jsmind_container\")) === null || _document_getElementById === void 0 ? void 0 : _document_getElementById.addEventListener(\"contextmenu\", handleContextMenu);\n            (_document_getElementById1 = document.getElementById(\"jsmind_container\")) === null || _document_getElementById1 === void 0 ? void 0 : _document_getElementById1.addEventListener(\"dblclick\", handleNodeDoubleClick);\n            document.addEventListener(\"click\", handleClickOutside);\n            document.addEventListener(\"click\", handleClickNode);\n            document.addEventListener(\"keydown\", handleKeyDown);\n        };\n        const fetchData = ()=>{\n            const mindData = getCommands();\n            if (mindData) {\n                setCommands(mindData);\n            }\n            setShowLoading(false);\n        };\n        loadMindMapInstance();\n        fetchData();\n        window.addEventListener(\"projectChanged\", fetchData);\n        return ()=>{\n            var _document_getElementById, _document_getElementById1;\n            window.removeEventListener(\"projectChanged\", fetchData);\n            (_document_getElementById = document.getElementById(\"jsmind_container\")) === null || _document_getElementById === void 0 ? void 0 : _document_getElementById.removeEventListener(\"contextmenu\", handleContextMenu);\n            (_document_getElementById1 = document.getElementById(\"jsmind_container\")) === null || _document_getElementById1 === void 0 ? void 0 : _document_getElementById1.removeEventListener(\"dblclick\", handleNodeDoubleClick);\n            document.removeEventListener(\"click\", handleClickOutside);\n            document.removeEventListener(\"click\", handleClickNode);\n            document.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [\n        isClient,\n        currentMind,\n        getCommands\n    ]);\n    const handleExecuteCommand = (nodeType, commandName, index)=>{\n        var _jmRef_current;\n        const selectedNode = (_jmRef_current = jmRef.current) === null || _jmRef_current === void 0 ? void 0 : _jmRef_current.get_selected_node();\n        if (!selectedNode) {\n            _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({\n                content: \"Please select a node.\"\n            });\n            setShowLoading(false);\n            return;\n        }\n        if (!nodeType || nodeType === \"\" || nodeType === \"Node type\") {\n            setShowLoading(false);\n            _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({\n                content: \"Please select command type\"\n            });\n            setContextMenu({\n                visible: false,\n                x: 0,\n                y: 0\n            });\n            return;\n        }\n        if (nodeType === \"Edit Node\") {\n            if (commandName === \"\") {\n                _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({\n                    content: \"Please input command name\"\n                });\n                setContextMenu({\n                    visible: false,\n                    x: 0,\n                    y: 0\n                });\n                return;\n            }\n            const source = axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].CancelToken.source();\n            setCancelTokenSource(source);\n            setContextMenu({\n                visible: false,\n                x: 0,\n                y: 0\n            });\n            executeCommand(index, selectedNode.id, selectedNode, nodeType, source.token);\n            setShowLoading(true);\n            return;\n        }\n        if (commandName === \"\") {\n            _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({\n                content: \"Please input command name\"\n            });\n            setContextMenu({\n                visible: false,\n                x: 0,\n                y: 0\n            });\n            return;\n        }\n        const source = axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].CancelToken.source();\n        setCancelTokenSource(source);\n        setContextMenu({\n            visible: false,\n            x: 0,\n            y: 0\n        });\n        executeCommand(index, selectedNode.id, selectedNode, nodeType, source.token);\n        setShowLoading(true);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (commandToExecute) {\n            handleExecuteCommand(commandToExecute.select, commandToExecute.commandName, commands.findIndex((cmd)=>cmd.commandKey === commandToExecute.commandKey));\n            setCommandToExecute(null);\n        }\n    }, [\n        commandToExecute,\n        commands,\n        setCommandToExecute\n    ]);\n    const applyNodeBackgroundColors = (mindMapData)=>{\n        mindMapData.data.forEach((node)=>{\n            switch(node.type){\n                case \"Idea\":\n                    jmRef.current.set_node_color(node.id, \"Green\", \"white\");\n                    break;\n                case \"Context\":\n                    jmRef.current.set_node_color(node.id, \"Gray\", \"white\");\n                    break;\n                case \"Content\":\n                    jmRef.current.set_node_color(node.id, \"White\", \"black\");\n                    break;\n                default:\n                    jmRef.current.set_node_color(node.id, \"#3276b1\", \"white\");\n            }\n        });\n    };\n    const handleContextMenu = (event)=>{\n        var _jmRef_current;\n        event.preventDefault();\n        const selectedNode = (_jmRef_current = jmRef.current) === null || _jmRef_current === void 0 ? void 0 : _jmRef_current.get_selected_node();\n        if (!selectedNode) return;\n        setContextMenu({\n            visible: true,\n            x: event.pageX + 5,\n            y: event.pageY + 5\n        });\n    };\n    const handleClickOutside = (event)=>{\n        getMindMapData();\n        if (contextMenuRef.current && !contextMenuRef.current.contains(event.target)) {\n            setContextMenu({\n                visible: false,\n                x: 0,\n                y: 0\n            });\n        }\n    };\n    const handleNodeDoubleClick = (event)=>{\n        var _jmRef_current;\n        const selectedNode = (_jmRef_current = jmRef.current) === null || _jmRef_current === void 0 ? void 0 : _jmRef_current.get_selected_node();\n        if (!selectedNode) return;\n        setCurrentNode(selectedNode);\n        setEditedContent(selectedNode.topic);\n        setEditModalVisible(true);\n    };\n    const handleAddNode = (nodeType)=>{\n        var _jmRef_current, _jmRef_current1;\n        const selectedNode = (_jmRef_current = jmRef.current) === null || _jmRef_current === void 0 ? void 0 : _jmRef_current.get_selected_node();\n        if (!selectedNode) {\n            _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({\n                content: \"Please select a node.\"\n            });\n            return;\n        }\n        const nodeId = \"\".concat(nodeType.toUpperCase(), \"_#\").concat(new Date().getTime());\n        const newNode = {\n            id: nodeId,\n            parentid: selectedNode.id,\n            topic: \"sub_\".concat(nodeType),\n            isroot: false,\n            type: nodeType\n        };\n        (_jmRef_current1 = jmRef.current) === null || _jmRef_current1 === void 0 ? void 0 : _jmRef_current1.add_node(selectedNode, nodeId, nodeId, {\n            direction: \"right\"\n        });\n        addNode(selectedNode.id, newNode);\n        setContextMenu({\n            visible: false,\n            x: 0,\n            y: 0\n        });\n    };\n    const handleDeleteNode = ()=>{\n        var _jmRef_current, _jmRef_current1;\n        const selectedNode = (_jmRef_current = jmRef.current) === null || _jmRef_current === void 0 ? void 0 : _jmRef_current.get_selected_node();\n        if (!selectedNode || selectedNode.isroot) {\n            _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error({\n                content: \"You can't delete root node\"\n            });\n            setContextMenu({\n                visible: false,\n                x: 0,\n                y: 0\n            });\n            setDeleteModalVisible(false);\n            return;\n        }\n        deleteNode(selectedNode.id);\n        _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"].success({\n            content: \"Deleted \".concat(selectedNode.data.type, \" node\")\n        });\n        (_jmRef_current1 = jmRef.current) === null || _jmRef_current1 === void 0 ? void 0 : _jmRef_current1.remove_node(selectedNode.id);\n        setContextMenu({\n            visible: false,\n            x: 0,\n            y: 0\n        });\n        setDeleteModalVisible(false);\n        return;\n    };\n    const handleDeleteNodeByKeyboard = ()=>{\n        const selectedNodeID = localStorage.getItem(\"nodeData\");\n        if (selectedNodeID) {\n            var _jmRef_current;\n            const nodeID = JSON.parse(selectedNodeID);\n            if (nodeID.id === \"root\") {\n                return;\n            }\n            const nodesData = getDatas();\n            const status = nodesData[0].data.filter((item)=>item.id === nodeID.id);\n            console.log(status);\n            if (!status || Array.isArray(status) && status.length === 0) {\n                _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error({\n                    message: \"Node already deleted.\"\n                });\n                return;\n            }\n            (_jmRef_current = jmRef.current) === null || _jmRef_current === void 0 ? void 0 : _jmRef_current.remove_node(nodeID.id);\n            deleteNode(nodeID.id);\n            setContextMenu({\n                visible: false,\n                x: 0,\n                y: 0\n            });\n            setDeleteModalVisible(false);\n            _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"].success({\n                content: \"Deleted \".concat(nodeID.data.type, \" node\")\n            });\n            return;\n        }\n    };\n    const handleEditSave = ()=>{\n        if (currentNode && editedContent) {\n            currentNode.topic = editedContent;\n            jmRef.current.update_node(currentNode.id, editedContent);\n            updateNodeContent(currentNode.id, editedContent);\n            setEditModalVisible(false);\n        }\n    };\n    const onDragOver = (event)=>{\n        event.preventDefault();\n        if (event.dataTransfer) {\n            event.dataTransfer.dropEffect = \"move\";\n        }\n    };\n    const onDrop = (event)=>{\n        event.preventDefault();\n        if (!reactFlowWrapper.current) return;\n        if (event.dataTransfer) {\n            const data = JSON.parse(event.dataTransfer.getData(\"application/reactflow\"));\n            handleExecuteCommand(data.CommandType, data.commandName, data.id);\n        }\n    };\n    const handleClickNode = (event)=>{\n        var _jmRef_current;\n        const nodeContent = (_jmRef_current = jmRef.current) === null || _jmRef_current === void 0 ? void 0 : _jmRef_current.get_selected_node();\n        if (nodeContent) {\n            const nodeData = {\n                id: nodeContent.id,\n                topic: nodeContent.topic,\n                data: nodeContent.data\n            };\n            localStorage.setItem(\"nodeData\", JSON.stringify(nodeData));\n        }\n    };\n    const handleKeyDown = (event)=>{\n        if (event.key === \"Delete\") {\n            handleDeleteNodeByKeyboard();\n        }\n    };\n    const handleCancel = (status)=>{\n        if (cancelTokenSource) {\n            setShowLoading(false);\n            cancelTokenSource.cancel(\"Request canceled by user.\");\n            if (status) {\n                _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_9__[\"default\"].info({\n                    message: \"Command is stopped\"\n                });\n            }\n        } else {\n            setShowLoading(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleThreadIdUpdate = (event)=>{\n            const customEvent = event;\n            const { errorStatus } = customEvent.detail;\n            switch(errorStatus){\n                case 401:\n                    _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error({\n                        message: \"Invalid OpenAI API key\"\n                    });\n                    setShowLoading(false);\n                    break;\n                case 402:\n                    _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error({\n                        message: \"OpenAI API key is required\"\n                    });\n                    setShowLoading(false);\n                    break;\n                case 400:\n                    _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error({\n                        message: \"Thread Id is required\"\n                    });\n                    setShowLoading(false);\n                    break;\n                case 404:\n                    _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error({\n                        message: \"Please input assistant Id\"\n                    });\n                    setShowLoading(false);\n                    break;\n                case 504:\n                    _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error({\n                        message: \"Request failed with status code 504\"\n                    });\n                    setShowLoading(true); // Keep showing loading\n                    handleCancel(false); // Cancel the request\n                    break;\n                default:\n                    _barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error({\n                        message: \"An unexpected error occurred.\"\n                    });\n                    setShowLoading(false);\n                    break;\n            }\n        };\n        window.addEventListener(\"errorOccurs\", handleThreadIdUpdate);\n        return ()=>{\n            window.removeEventListener(\"errorOccurs\", handleThreadIdUpdate);\n        };\n    }, []);\n    if (!isClient) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full h-full bg-slate-100\",\n                ref: reactFlowWrapper,\n                onDragOver: onDragOver,\n                onDrop: onDrop,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    id: \"jsmind_container\",\n                    style: {\n                        width: \"100%\",\n                        height: \"700px\",\n                        backgroundColor: \"#f4f4f4\"\n                    }\n                }, void 0, false, {\n                    fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                    lineNumber: 500,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                lineNumber: 494,\n                columnNumber: 7\n            }, undefined),\n            contextMenu.visible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: contextMenuRef,\n                className: \"context-menu\",\n                style: {\n                    position: \"absolute\",\n                    top: \"\".concat(contextMenu.y, \"px\"),\n                    left: \"\".concat(contextMenu.x, \"px\"),\n                    backgroundColor: \"white\",\n                    boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.8)\",\n                    borderRadius: \"5px\",\n                    zIndex: 10\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                            onClick: ()=>handleAddNode(\"Idea\"),\n                            className: \"px-4 py-2 hover:bg-gray-100 cursor-pointer\",\n                            children: \"Add Idea Node\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                            lineNumber: 520,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                            onClick: ()=>handleAddNode(\"Context\"),\n                            className: \"px-4 py-2 hover:bg-gray-100 cursor-pointer\",\n                            children: \"Add Context Node\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                            lineNumber: 526,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                            onClick: ()=>handleAddNode(\"Content\"),\n                            className: \"px-4 py-2 hover:bg-gray-100 cursor-pointer\",\n                            children: \"Add Content Node\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                            lineNumber: 532,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                            onClick: ()=>setDeleteModalVisible(true),\n                            className: \"px-4 py-2 hover:bg-gray-100 cursor-pointer\",\n                            children: \"Delete Node\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                            lineNumber: 538,\n                            columnNumber: 13\n                        }, undefined),\n                        commands.map((value, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                onClick: async ()=>{\n                                    setShowLoading(true);\n                                    handleExecuteCommand(value.select, value.commandName, index);\n                                },\n                                className: \"px-4 py-2 hover:bg-gray-100 cursor-pointer\",\n                                children: \"Run \".concat(value.commandName, \" command\")\n                            }, index, false, {\n                                fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                                lineNumber: 545,\n                                columnNumber: 15\n                            }, undefined))\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                    lineNumber: 519,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                lineNumber: 506,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                title: \"Edit Node Content\",\n                open: editModalVisible,\n                onOk: handleEditSave,\n                onCancel: ()=>setEditModalVisible(false),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TextArea, {\n                    value: editedContent,\n                    onClick: (e)=>{\n                        e.stopPropagation();\n                    },\n                    onChange: (e)=>{\n                        setEditedContent(e.target.value);\n                        e.stopPropagation();\n                    },\n                    autoSize: {\n                        minRows: 2\n                    }\n                }, void 0, false, {\n                    fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                    lineNumber: 566,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                lineNumber: 559,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                title: \"Delete Node\",\n                open: deleteModalVisible,\n                onOk: handleDeleteNode,\n                onCancel: ()=>setDeleteModalVisible(false),\n                keyboard: true,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Are you sure you want to delete this node?\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                    lineNumber: 585,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                lineNumber: 578,\n                columnNumber: 7\n            }, undefined),\n            showLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed w-screen h-screen top-0 left-0 flex justify-center items-center flex-col backgroundColor z-20 gap-[100px]\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full flex justify-center items-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_LoadingOutlined_ant_design_icons__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                            className: \"text-[75px] text-[#fff]\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                            lineNumber: 590,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                        lineNumber: 589,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Button_Input_Modal_message_notification_antd__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            type: \"primary\",\n                            className: \"w-[120px] h-[40px] text-[18px]\",\n                            onClick: ()=>handleCancel(true),\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                            lineNumber: 593,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                        lineNumber: 592,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n                lineNumber: 588,\n                columnNumber: 9\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\projects\\\\123\\\\Frist\\\\src\\\\components\\\\Map\\\\MindMap.tsx\",\n        lineNumber: 493,\n        columnNumber: 5\n    }, undefined);\n};\n_s(MindMap, \"E8jKcf4h9RHkN/Zwv5n2haRdOfs=\", false, function() {\n    return [\n        _stores_mapStore__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n    ];\n});\n_c = MindMap;\n/* harmony default export */ __webpack_exports__[\"default\"] = (MindMap);\nvar _c;\n$RefreshReg$(_c, \"MindMap\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL01hcC9NaW5kTWFwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ3hCO0FBQ0c7QUFDaUI7QUFFZjtBQUNtQjtBQUNlO0FBQ3pDO0FBRTFCLE1BQU0sRUFBRVksUUFBUSxFQUFFLEdBQUdKLDJHQUFLQTtBQUUxQixNQUFNSyxVQUFVOztJQUNkLE1BQU1DLG1CQUFtQmIsNkNBQU1BLENBQXdCO0lBQ3ZELE1BQU1jLFFBQVFkLDZDQUFNQSxDQUFNO0lBQzFCLE1BQU1lLGlCQUFpQmYsNkNBQU1BLENBQWlCO0lBQzlDLE1BQU0sQ0FBQ2dCLFVBQVVDLFlBQVksR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ2lCLGFBQWFDLGVBQWUsR0FBR2xCLCtDQUFRQSxDQUFDO1FBQzdDbUIsU0FBUztRQUNUQyxHQUFHO1FBQ0hDLEdBQUc7SUFDTDtJQUNBLE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHdkIsK0NBQVFBLENBQWEsRUFBRTtJQUN2RCxNQUFNLENBQUN3QixrQkFBa0JDLG9CQUFvQixHQUFHekIsK0NBQVFBLENBQVU7SUFDbEUsTUFBTSxDQUFDMEIsb0JBQW9CQyxzQkFBc0IsR0FBRzNCLCtDQUFRQSxDQUFVO0lBQ3RFLE1BQU0sQ0FBQzRCLGFBQWFDLGVBQWUsR0FBRzdCLCtDQUFRQSxDQUFNO0lBQ3BELE1BQU0sQ0FBQzhCLGVBQWVDLGlCQUFpQixHQUFHL0IsK0NBQVFBLENBQVM7SUFDM0QsTUFBTSxFQUNKZ0MsV0FBVyxFQUNYQyxPQUFPLEVBQ1BDLFVBQVUsRUFDVkMsaUJBQWlCLEVBQ2pCQyxXQUFXLEVBQ1hDLGlCQUFpQixFQUNqQkMsY0FBYyxFQUNkQyxnQkFBZ0IsRUFDaEJDLG1CQUFtQixFQUNuQkMsUUFBUSxFQUNULEdBQUd2Qyw0REFBZUE7SUFDbkIsTUFBTSxDQUFDd0MsYUFBYUMsZUFBZSxHQUFHM0MsK0NBQVFBLENBQVU7SUFDeEQs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aUJBQWlCb0osRUFBRWpFLE1BQU0sQ0FBQzRELEtBQUs7d0JBQy9CSyxFQUFFQyxlQUFlO29CQUNuQjtvQkFDQUUsVUFBVTt3QkFBRUMsU0FBUztvQkFBRTs7Ozs7Ozs7Ozs7MEJBRzNCLDhEQUFDbEwsNEdBQUtBO2dCQUNKMEssT0FBTTtnQkFDTkMsTUFBTXRKO2dCQUNOdUosTUFBTXBEO2dCQUNOcUQsVUFBVSxJQUFNdkosc0JBQXNCO2dCQUN0QzZKLFVBQVU7MEJBRVYsNEVBQUNDOzhCQUFFOzs7Ozs7Ozs7OztZQUVKL0ksNEJBQ0MsOERBQUNtSDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDM0osZ0dBQWVBOzRCQUFDMkosV0FBVTs7Ozs7Ozs7Ozs7a0NBRTdCLDhEQUFDRDtrQ0FDQyw0RUFBQ3RKLDRHQUFNQTs0QkFDTG9HLE1BQUs7NEJBQ0xtRCxXQUFVOzRCQUNWYyxTQUFTLElBQU10QixhQUFhO3NDQUM3Qjs7Ozs7Ozs7Ozs7Ozs7OzswQ0FNTDs7Ozs7OztBQUlSO0dBbGxCTTNJOztRQTBCQVQsd0RBQWVBOzs7S0ExQmZTO0FBb2xCTiwrREFBZUEsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9NYXAvTWluZE1hcC50c3g/ZDE1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IGpzTWluZCBmcm9tIFwianNtaW5kXCI7XHJcbmltcG9ydCBcImpzbWluZC9kcmFnZ2FibGUtbm9kZVwiO1xyXG5pbXBvcnQgdXNlTWluZE1hcFN0b3JlIGZyb20gXCJAL3N0b3Jlcy9tYXBTdG9yZVwiO1xyXG5pbXBvcnQgeyBDb21tYW5kcywgbWluZE1hcCB9IGZyb20gXCJAL3V0aWxzL3R5cGVcIjtcclxuaW1wb3J0IFwianNtaW5kL3N0eWxlL2pzbWluZC5jc3NcIjtcclxuaW1wb3J0IHsgTG9hZGluZ091dGxpbmVkIH0gZnJvbSBcIkBhbnQtZGVzaWduL2ljb25zXCI7XHJcbmltcG9ydCB7IG1lc3NhZ2UsIE1vZGFsLCBJbnB1dCwgQnV0dG9uLCBub3RpZmljYXRpb24gfSBmcm9tIFwiYW50ZFwiO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XHJcblxyXG5jb25zdCB7IFRleHRBcmVhIH0gPSBJbnB1dDtcclxuXHJcbmNvbnN0IE1pbmRNYXAgPSAoKSA9PiB7XHJcbiAgY29uc3QgcmVhY3RGbG93V3JhcHBlciA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGptUmVmID0gdXNlUmVmPGFueT4obnVsbCk7XHJcbiAgY29uc3QgY29udGV4dE1lbnVSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IFtpc0NsaWVudCwgc2V0SXNDbGllbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtjb250ZXh0TWVudSwgc2V0Q29udGV4dE1lbnVdID0gdXNlU3RhdGUoe1xyXG4gICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICB4OiAwLFxyXG4gICAgeTogMCxcclxuICB9KTtcclxuICBjb25zdCBbY29tbWFuZHMsIHNldENvbW1hbmRzXSA9IHVzZVN0YXRlPENvbW1hbmRzW10+KFtdKTtcclxuICBjb25zdCBbZWRpdE1vZGFsVmlzaWJsZSwgc2V0RWRpdE1vZGFsVmlzaWJsZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgW2RlbGV0ZU1vZGFsVmlzaWJsZSwgc2V0RGVsZXRlTW9kYWxWaXNpYmxlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICBjb25zdCBbY3VycmVudE5vZGUsIHNldEN1cnJlbnROb2RlXSA9IHVzZVN0YXRlPGFueT4obnVsbCk7XHJcbiAgY29uc3QgW2VkaXRlZENvbnRlbnQsIHNldEVkaXRlZENvbnRlbnRdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcclxuICBjb25zdCB7XHJcbiAgICBjdXJyZW50TWluZCxcclxuICAgIGFkZE5vZGUsXHJcbiAgICBkZWxldGVOb2RlLFxyXG4gICAgaW5pdGlhbGl6ZU1pbmRNYXAsXHJcbiAgICBnZXRDb21tYW5kcyxcclxuICAgIHVwZGF0ZU5vZGVDb250ZW50LFxyXG4gICAgZXhlY3V0ZUNvbW1hbmQsXHJcbiAgICBjb21tYW5kVG9FeGVjdXRlLFxyXG4gICAgc2V0Q29tbWFuZFRvRXhlY3V0ZSxcclxuICAgIGdldERhdGFzLFxyXG4gIH0gPSB1c2VNaW5kTWFwU3RvcmUoKTtcclxuICBjb25zdCBbc2hvd0xvYWRpbmcsIHNldFNob3dMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICBjb25zdCBbY2FuY2VsVG9rZW5Tb3VyY2UsIHNldENhbmNlbFRva2VuU291cmNlXSA9IHVzZVN0YXRlPGFueT4obnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXRJc0NsaWVudCh0cnVlKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzQ2xpZW50KSByZXR1cm47XHJcblxyXG4gICAgaW5pdGlhbGl6ZU1pbmRNYXAoKTtcclxuICB9LCBbaXNDbGllbnRdKTtcclxuXHJcbiAgY29uc3QgZ2V0TWluZE1hcERhdGEgPSAoKSA9PiB7XHJcbiAgICBpZiAoam1SZWYuY3VycmVudCkge1xyXG4gICAgICAvLyBUcnkgdXNpbmcgdGhlICdub2RlX2FycmF5JyBmb3JtYXQgaW5zdGVhZCBvZiAnanNvbidcclxuICAgICAgY29uc3QgbWluZE1hcERhdGEgPSBqbVJlZi5jdXJyZW50LmdldF9kYXRhKFwibm9kZV9hcnJheVwiKTtcclxuXHJcbiAgICAgIGlmICghbWluZE1hcERhdGEpIHtcclxuICAgICAgICBtZXNzYWdlLmVycm9yKHtcclxuICAgICAgICAgIGNvbnRlbnQ6IFwiRmFpbGVkIHRvIHJldHJpZXZlIG1pbmQgbWFwIGRhdGEuXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFlvdSBjYW4gc3RpbGwgc3RvcmUgb3Igc2VuZCB0aGlzIGRhdGEgYXMgbmVlZGVkXHJcbiAgICAgIGNvbnN0IGxvY2FsRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibWluZE1hcERhdGFcIik7XHJcblxyXG4gICAgICBpZiAobG9jYWxEYXRhKSB7XHJcbiAgICAgICAgbGV0IG5vZGVEYXRhOiBtaW5kTWFwW10gPSBKU09OLnBhcnNlKGxvY2FsRGF0YSk7XHJcblxyXG4gICAgICAgIG5vZGVEYXRhWzBdLmRhdGEgPSBtaW5kTWFwRGF0YS5kYXRhO1xyXG5cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm1pbmRNYXBEYXRhXCIsIEpTT04uc3RyaW5naWZ5KG5vZGVEYXRhKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJldHVybiB0aGUgZGF0YSBmb3IgZnVydGhlciB1c2VcclxuICAgICAgcmV0dXJuIG1pbmRNYXBEYXRhO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWVzc2FnZS5lcnJvcih7XHJcbiAgICAgICAgY29udGVudDogXCJNaW5kTWFwIGluc3RhbmNlIG5vdCBpbml0aWFsaXplZC5cIixcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFjdXJyZW50TWluZCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGxvYWRNaW5kTWFwSW5zdGFuY2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgY29udGFpbmVyOiBcImpzbWluZF9jb250YWluZXJcIixcclxuICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICB0aGVtZTogXCJwcmltYXJ5XCIsXHJcbiAgICAgICAgbGF5b3V0OiB7XHJcbiAgICAgICAgICBoc3BhY2U6IDMwLFxyXG4gICAgICAgICAgdnNwYWNlOiAzMCxcclxuICAgICAgICAgIHBzcGFjZTogMTMsXHJcbiAgICAgICAgICBkaXJlY3Rpb246IFwicmlnaHRcIixcclxuICAgICAgICAgIC8vIEVuc3VyZSBmdWxsIHRleHQgaXMgZGlzcGxheWVkIGluIG5vZGVzXHJcbiAgICAgICAgICBub2RlX292ZXJmbG93OiBcIndyYXBcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZpZXc6IHtcclxuICAgICAgICAgIGxpbmVfd2lkdGg6IDIsXHJcbiAgICAgICAgICBsaW5lX2NvbG9yOiBcIiM1NTVcIixcclxuICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICBpZiAoIWptUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjb25zdCBqbSA9IG5ldyBqc01pbmQob3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3QgZGF0YTogYW55ID0gY3VycmVudE1pbmQ7XHJcbiAgICAgICAgam0uc2hvdyhkYXRhKTtcclxuICAgICAgICBqbVJlZi5jdXJyZW50ID0gam07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgam1SZWYuY3VycmVudC5zaG93KGN1cnJlbnRNaW5kKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXBwbHlOb2RlQmFja2dyb3VuZENvbG9ycyhjdXJyZW50TWluZCk7XHJcblxyXG4gICAgICBnZXRNaW5kTWFwRGF0YSgpO1xyXG5cclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJqc21pbmRfY29udGFpbmVyXCIpXHJcbiAgICAgICAgPy5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgaGFuZGxlQ29udGV4dE1lbnUpO1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcImpzbWluZF9jb250YWluZXJcIilcclxuICAgICAgICA/LmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCBoYW5kbGVOb2RlRG91YmxlQ2xpY2spO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrTm9kZSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBmZXRjaERhdGEgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1pbmREYXRhID0gZ2V0Q29tbWFuZHMoKTtcclxuICAgICAgaWYgKG1pbmREYXRhKSB7XHJcbiAgICAgICAgc2V0Q29tbWFuZHMobWluZERhdGEpO1xyXG4gICAgICB9XHJcbiAgICAgIHNldFNob3dMb2FkaW5nKGZhbHNlKTtcclxuICAgIH07XHJcblxyXG4gICAgbG9hZE1pbmRNYXBJbnN0YW5jZSgpO1xyXG4gICAgZmV0Y2hEYXRhKCk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9qZWN0Q2hhbmdlZFwiLCBmZXRjaERhdGEpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJvamVjdENoYW5nZWRcIiwgZmV0Y2hEYXRhKTtcclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJqc21pbmRfY29udGFpbmVyXCIpXHJcbiAgICAgICAgPy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgaGFuZGxlQ29udGV4dE1lbnUpO1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcImpzbWluZF9jb250YWluZXJcIilcclxuICAgICAgICA/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCBoYW5kbGVOb2RlRG91YmxlQ2xpY2spO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrTm9kZSk7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xyXG4gICAgfTtcclxuICB9LCBbaXNDbGllbnQsIGN1cnJlbnRNaW5kLCBnZXRDb21tYW5kc10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVFeGVjdXRlQ29tbWFuZCA9IChcclxuICAgIG5vZGVUeXBlOiBzdHJpbmcsXHJcbiAgICBjb21tYW5kTmFtZTogc3RyaW5nLFxyXG4gICAgaW5kZXg6IG51bWJlclxyXG4gICkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWROb2RlID0gam1SZWYuY3VycmVudD8uZ2V0X3NlbGVjdGVkX25vZGUoKTtcclxuICAgIGlmICghc2VsZWN0ZWROb2RlKSB7XHJcbiAgICAgIG1lc3NhZ2UuZXJyb3Ioe1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiUGxlYXNlIHNlbGVjdCBhIG5vZGUuXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBzZXRTaG93TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW5vZGVUeXBlIHx8IG5vZGVUeXBlID09PSBcIlwiIHx8IG5vZGVUeXBlID09PSBcIk5vZGUgdHlwZVwiKSB7XHJcbiAgICAgIHNldFNob3dMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgbWVzc2FnZS5lcnJvcih7XHJcbiAgICAgICAgY29udGVudDogXCJQbGVhc2Ugc2VsZWN0IGNvbW1hbmQgdHlwZVwiLFxyXG4gICAgICB9KTtcclxuICAgICAgc2V0Q29udGV4dE1lbnUoeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChub2RlVHlwZSA9PT0gXCJFZGl0IE5vZGVcIikge1xyXG4gICAgICBpZiAoY29tbWFuZE5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICBtZXNzYWdlLmVycm9yKHtcclxuICAgICAgICAgIGNvbnRlbnQ6IFwiUGxlYXNlIGlucHV0IGNvbW1hbmQgbmFtZVwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNldENvbnRleHRNZW51KHsgdmlzaWJsZTogZmFsc2UsIHg6IDAsIHk6IDAgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBzb3VyY2UgPSBheGlvcy5DYW5jZWxUb2tlbi5zb3VyY2UoKTtcclxuICAgICAgc2V0Q2FuY2VsVG9rZW5Tb3VyY2Uoc291cmNlKTtcclxuXHJcbiAgICAgIHNldENvbnRleHRNZW51KHsgdmlzaWJsZTogZmFsc2UsIHg6IDAsIHk6IDAgfSk7XHJcbiAgICAgIGV4ZWN1dGVDb21tYW5kKFxyXG4gICAgICAgIGluZGV4LFxyXG4gICAgICAgIHNlbGVjdGVkTm9kZS5pZCxcclxuICAgICAgICBzZWxlY3RlZE5vZGUsXHJcbiAgICAgICAgbm9kZVR5cGUsXHJcbiAgICAgICAgc291cmNlLnRva2VuXHJcbiAgICAgICk7XHJcbiAgICAgIHNldFNob3dMb2FkaW5nKHRydWUpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvbW1hbmROYW1lID09PSBcIlwiKSB7XHJcbiAgICAgIG1lc3NhZ2UuZXJyb3Ioe1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiUGxlYXNlIGlucHV0IGNvbW1hbmQgbmFtZVwiLFxyXG4gICAgICB9KTtcclxuICAgICAgc2V0Q29udGV4dE1lbnUoeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNvdXJjZSA9IGF4aW9zLkNhbmNlbFRva2VuLnNvdXJjZSgpO1xyXG4gICAgc2V0Q2FuY2VsVG9rZW5Tb3VyY2Uoc291cmNlKTtcclxuXHJcbiAgICBzZXRDb250ZXh0TWVudSh7IHZpc2libGU6IGZhbHNlLCB4OiAwLCB5OiAwIH0pO1xyXG4gICAgZXhlY3V0ZUNvbW1hbmQoXHJcbiAgICAgIGluZGV4LFxyXG4gICAgICBzZWxlY3RlZE5vZGUuaWQsXHJcbiAgICAgIHNlbGVjdGVkTm9kZSxcclxuICAgICAgbm9kZVR5cGUsXHJcbiAgICAgIHNvdXJjZS50b2tlblxyXG4gICAgKTtcclxuICAgIHNldFNob3dMb2FkaW5nKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoY29tbWFuZFRvRXhlY3V0ZSkge1xyXG4gICAgICBoYW5kbGVFeGVjdXRlQ29tbWFuZChcclxuICAgICAgICBjb21tYW5kVG9FeGVjdXRlLnNlbGVjdCxcclxuICAgICAgICBjb21tYW5kVG9FeGVjdXRlLmNvbW1hbmROYW1lLFxyXG4gICAgICAgIGNvbW1hbmRzLmZpbmRJbmRleChcclxuICAgICAgICAgIChjbWQpID0+IGNtZC5jb21tYW5kS2V5ID09PSBjb21tYW5kVG9FeGVjdXRlLmNvbW1hbmRLZXlcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICAgIHNldENvbW1hbmRUb0V4ZWN1dGUobnVsbCk7XHJcbiAgICB9XHJcbiAgfSwgW2NvbW1hbmRUb0V4ZWN1dGUsIGNvbW1hbmRzLCBzZXRDb21tYW5kVG9FeGVjdXRlXSk7XHJcblxyXG4gIGNvbnN0IGFwcGx5Tm9kZUJhY2tncm91bmRDb2xvcnMgPSAobWluZE1hcERhdGE6IG1pbmRNYXApID0+IHtcclxuICAgIG1pbmRNYXBEYXRhLmRhdGEuZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xyXG4gICAgICAgIGNhc2UgXCJJZGVhXCI6XHJcbiAgICAgICAgICBqbVJlZi5jdXJyZW50LnNldF9ub2RlX2NvbG9yKG5vZGUuaWQsIFwiR3JlZW5cIiwgXCJ3aGl0ZVwiKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJDb250ZXh0XCI6XHJcbiAgICAgICAgICBqbVJlZi5jdXJyZW50LnNldF9ub2RlX2NvbG9yKG5vZGUuaWQsIFwiR3JheVwiLCBcIndoaXRlXCIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIkNvbnRlbnRcIjpcclxuICAgICAgICAgIGptUmVmLmN1cnJlbnQuc2V0X25vZGVfY29sb3Iobm9kZS5pZCwgXCJXaGl0ZVwiLCBcImJsYWNrXCIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGptUmVmLmN1cnJlbnQuc2V0X25vZGVfY29sb3Iobm9kZS5pZCwgXCIjMzI3NmIxXCIsIFwid2hpdGVcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNvbnRleHRNZW51ID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWROb2RlID0gam1SZWYuY3VycmVudD8uZ2V0X3NlbGVjdGVkX25vZGUoKTtcclxuICAgIGlmICghc2VsZWN0ZWROb2RlKSByZXR1cm47XHJcblxyXG4gICAgc2V0Q29udGV4dE1lbnUoe1xyXG4gICAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAgICB4OiBldmVudC5wYWdlWCArIDUsXHJcbiAgICAgIHk6IGV2ZW50LnBhZ2VZICsgNSxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgZ2V0TWluZE1hcERhdGEoKTtcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIGNvbnRleHRNZW51UmVmLmN1cnJlbnQgJiZcclxuICAgICAgIWNvbnRleHRNZW51UmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpXHJcbiAgICApIHtcclxuICAgICAgc2V0Q29udGV4dE1lbnUoeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVOb2RlRG91YmxlQ2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkTm9kZSA9IGptUmVmLmN1cnJlbnQ/LmdldF9zZWxlY3RlZF9ub2RlKCk7XHJcbiAgICBpZiAoIXNlbGVjdGVkTm9kZSkgcmV0dXJuO1xyXG5cclxuICAgIHNldEN1cnJlbnROb2RlKHNlbGVjdGVkTm9kZSk7XHJcbiAgICBzZXRFZGl0ZWRDb250ZW50KHNlbGVjdGVkTm9kZS50b3BpYyk7XHJcbiAgICBzZXRFZGl0TW9kYWxWaXNpYmxlKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUFkZE5vZGUgPSAobm9kZVR5cGU6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWROb2RlID0gam1SZWYuY3VycmVudD8uZ2V0X3NlbGVjdGVkX25vZGUoKTtcclxuICAgIGlmICghc2VsZWN0ZWROb2RlKSB7XHJcbiAgICAgIG1lc3NhZ2UuZXJyb3Ioe1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiUGxlYXNlIHNlbGVjdCBhIG5vZGUuXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm9kZUlkID0gYCR7bm9kZVR5cGUudG9VcHBlckNhc2UoKX1fIyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9YDtcclxuICAgIGNvbnN0IG5ld05vZGUgPSB7XHJcbiAgICAgIGlkOiBub2RlSWQsXHJcbiAgICAgIHBhcmVudGlkOiBzZWxlY3RlZE5vZGUuaWQsXHJcbiAgICAgIHRvcGljOiBgc3ViXyR7bm9kZVR5cGV9YCxcclxuICAgICAgaXNyb290OiBmYWxzZSxcclxuICAgICAgdHlwZTogbm9kZVR5cGUsXHJcbiAgICB9O1xyXG5cclxuICAgIGptUmVmLmN1cnJlbnQ/LmFkZF9ub2RlKHNlbGVjdGVkTm9kZSwgbm9kZUlkLCBub2RlSWQsIHtcclxuICAgICAgZGlyZWN0aW9uOiBcInJpZ2h0XCIsXHJcbiAgICB9KTtcclxuICAgIGFkZE5vZGUoc2VsZWN0ZWROb2RlLmlkLCBuZXdOb2RlKTtcclxuICAgIHNldENvbnRleHRNZW51KHsgdmlzaWJsZTogZmFsc2UsIHg6IDAsIHk6IDAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRGVsZXRlTm9kZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkTm9kZSA9IGptUmVmLmN1cnJlbnQ/LmdldF9zZWxlY3RlZF9ub2RlKCk7XHJcbiAgICBpZiAoIXNlbGVjdGVkTm9kZSB8fCBzZWxlY3RlZE5vZGUuaXNyb290KSB7XHJcbiAgICAgIG1lc3NhZ2UuZXJyb3Ioe1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiWW91IGNhbid0IGRlbGV0ZSByb290IG5vZGVcIixcclxuICAgICAgfSk7XHJcbiAgICAgIHNldENvbnRleHRNZW51KHsgdmlzaWJsZTogZmFsc2UsIHg6IDAsIHk6IDAgfSk7XHJcbiAgICAgIHNldERlbGV0ZU1vZGFsVmlzaWJsZShmYWxzZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVOb2RlKHNlbGVjdGVkTm9kZS5pZCk7XHJcbiAgICBtZXNzYWdlLnN1Y2Nlc3Moe1xyXG4gICAgICBjb250ZW50OiBgRGVsZXRlZCAke3NlbGVjdGVkTm9kZS5kYXRhLnR5cGV9IG5vZGVgLFxyXG4gICAgfSk7XHJcbiAgICBqbVJlZi5jdXJyZW50Py5yZW1vdmVfbm9kZShzZWxlY3RlZE5vZGUuaWQpO1xyXG4gICAgc2V0Q29udGV4dE1lbnUoeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCB9KTtcclxuICAgIHNldERlbGV0ZU1vZGFsVmlzaWJsZShmYWxzZSk7XHJcbiAgICByZXR1cm47XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRGVsZXRlTm9kZUJ5S2V5Ym9hcmQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZE5vZGVJRCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibm9kZURhdGFcIik7XHJcblxyXG4gICAgaWYgKHNlbGVjdGVkTm9kZUlEKSB7XHJcbiAgICAgIGNvbnN0IG5vZGVJRCA9IEpTT04ucGFyc2Uoc2VsZWN0ZWROb2RlSUQpO1xyXG5cclxuICAgICAgaWYgKG5vZGVJRC5pZCA9PT0gXCJyb290XCIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG5vZGVzRGF0YSA9IGdldERhdGFzKCk7XHJcblxyXG4gICAgICBjb25zdCBzdGF0dXMgPSBub2Rlc0RhdGFbMF0uZGF0YS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IG5vZGVJRC5pZCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7XHJcblxyXG4gICAgICBpZiAoIXN0YXR1cyB8fCAoQXJyYXkuaXNBcnJheShzdGF0dXMpICYmIHN0YXR1cy5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgbm90aWZpY2F0aW9uLmVycm9yKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiTm9kZSBhbHJlYWR5IGRlbGV0ZWQuXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGptUmVmLmN1cnJlbnQ/LnJlbW92ZV9ub2RlKG5vZGVJRC5pZCk7XHJcbiAgICAgIGRlbGV0ZU5vZGUobm9kZUlELmlkKTtcclxuICAgICAgc2V0Q29udGV4dE1lbnUoeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCB9KTtcclxuICAgICAgc2V0RGVsZXRlTW9kYWxWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgbWVzc2FnZS5zdWNjZXNzKHtcclxuICAgICAgICBjb250ZW50OiBgRGVsZXRlZCAke25vZGVJRC5kYXRhLnR5cGV9IG5vZGVgLFxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUVkaXRTYXZlID0gKCkgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnROb2RlICYmIGVkaXRlZENvbnRlbnQpIHtcclxuICAgICAgY3VycmVudE5vZGUudG9waWMgPSBlZGl0ZWRDb250ZW50O1xyXG4gICAgICBqbVJlZi5jdXJyZW50LnVwZGF0ZV9ub2RlKGN1cnJlbnROb2RlLmlkLCBlZGl0ZWRDb250ZW50KTtcclxuICAgICAgdXBkYXRlTm9kZUNvbnRlbnQoY3VycmVudE5vZGUuaWQsIGVkaXRlZENvbnRlbnQpO1xyXG4gICAgICBzZXRFZGl0TW9kYWxWaXNpYmxlKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBvbkRyYWdPdmVyID0gKGV2ZW50OiBSZWFjdC5EcmFnRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlcikge1xyXG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IFwibW92ZVwiO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9uRHJvcCA9IChldmVudDogUmVhY3QuRHJhZ0V2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZiAoIXJlYWN0Rmxvd1dyYXBwZXIuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIpIHtcclxuICAgICAgY29uc3QgZGF0YTogYW55ID0gSlNPTi5wYXJzZShcclxuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcImFwcGxpY2F0aW9uL3JlYWN0Zmxvd1wiKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaGFuZGxlRXhlY3V0ZUNvbW1hbmQoZGF0YS5Db21tYW5kVHlwZSwgZGF0YS5jb21tYW5kTmFtZSwgZGF0YS5pZCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ2xpY2tOb2RlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCBub2RlQ29udGVudCA9IGptUmVmLmN1cnJlbnQ/LmdldF9zZWxlY3RlZF9ub2RlKCk7XHJcbiAgICBpZiAobm9kZUNvbnRlbnQpIHtcclxuICAgICAgY29uc3Qgbm9kZURhdGEgPSB7XHJcbiAgICAgICAgaWQ6IG5vZGVDb250ZW50LmlkLFxyXG4gICAgICAgIHRvcGljOiBub2RlQ29udGVudC50b3BpYyxcclxuICAgICAgICBkYXRhOiBub2RlQ29udGVudC5kYXRhLFxyXG4gICAgICB9O1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm5vZGVEYXRhXCIsIEpTT04uc3RyaW5naWZ5KG5vZGVEYXRhKSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJEZWxldGVcIikge1xyXG4gICAgICBoYW5kbGVEZWxldGVOb2RlQnlLZXlib2FyZCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNhbmNlbCA9IChzdGF0dXM6IGJvb2xlYW4pID0+IHtcclxuICAgIGlmIChjYW5jZWxUb2tlblNvdXJjZSkge1xyXG4gICAgICBzZXRTaG93TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIGNhbmNlbFRva2VuU291cmNlLmNhbmNlbChcIlJlcXVlc3QgY2FuY2VsZWQgYnkgdXNlci5cIik7XHJcbiAgICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgICBub3RpZmljYXRpb24uaW5mbyh7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIkNvbW1hbmQgaXMgc3RvcHBlZFwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRTaG93TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZVRocmVhZElkVXBkYXRlID0gKGV2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXN0b21FdmVudCA9IGV2ZW50IGFzIEN1c3RvbUV2ZW50O1xyXG4gICAgICBjb25zdCB7IGVycm9yU3RhdHVzIH0gPSBjdXN0b21FdmVudC5kZXRhaWw7XHJcblxyXG4gICAgICBzd2l0Y2ggKGVycm9yU3RhdHVzKSB7XHJcbiAgICAgICAgY2FzZSA0MDE6XHJcbiAgICAgICAgICBub3RpZmljYXRpb24uZXJyb3Ioe1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgT3BlbkFJIEFQSSBrZXlcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2V0U2hvd0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA0MDI6XHJcbiAgICAgICAgICBub3RpZmljYXRpb24uZXJyb3Ioe1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcIk9wZW5BSSBBUEkga2V5IGlzIHJlcXVpcmVkXCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHNldFNob3dMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNDAwOlxyXG4gICAgICAgICAgbm90aWZpY2F0aW9uLmVycm9yKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJUaHJlYWQgSWQgaXMgcmVxdWlyZWRcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2V0U2hvd0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA0MDQ6XHJcbiAgICAgICAgICBub3RpZmljYXRpb24uZXJyb3Ioe1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcIlBsZWFzZSBpbnB1dCBhc3Npc3RhbnQgSWRcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2V0U2hvd0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA1MDQ6XHJcbiAgICAgICAgICBub3RpZmljYXRpb24uZXJyb3Ioe1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgNTA0XCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHNldFNob3dMb2FkaW5nKHRydWUpOyAvLyBLZWVwIHNob3dpbmcgbG9hZGluZ1xyXG4gICAgICAgICAgaGFuZGxlQ2FuY2VsKGZhbHNlKTsgLy8gQ2FuY2VsIHRoZSByZXF1ZXN0XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgbm90aWZpY2F0aW9uLmVycm9yKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkLlwiLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBzZXRTaG93TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJlcnJvck9jY3Vyc1wiLFxyXG4gICAgICBoYW5kbGVUaHJlYWRJZFVwZGF0ZSBhcyBFdmVudExpc3RlbmVyXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICAgIFwiZXJyb3JPY2N1cnNcIixcclxuICAgICAgICBoYW5kbGVUaHJlYWRJZFVwZGF0ZSBhcyBFdmVudExpc3RlbmVyXHJcbiAgICAgICk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgaWYgKCFpc0NsaWVudCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2PlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBiZy1zbGF0ZS0xMDBcIlxyXG4gICAgICAgIHJlZj17cmVhY3RGbG93V3JhcHBlcn1cclxuICAgICAgICBvbkRyYWdPdmVyPXtvbkRyYWdPdmVyfVxyXG4gICAgICAgIG9uRHJvcD17b25Ecm9wfVxyXG4gICAgICA+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgaWQ9XCJqc21pbmRfY29udGFpbmVyXCJcclxuICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjcwMHB4XCIsIGJhY2tncm91bmRDb2xvcjogXCIjZjRmNGY0XCIgfX1cclxuICAgICAgICA+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICB7Y29udGV4dE1lbnUudmlzaWJsZSAmJiAoXHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgcmVmPXtjb250ZXh0TWVudVJlZn1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudVwiXHJcbiAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICB0b3A6IGAke2NvbnRleHRNZW51Lnl9cHhgLFxyXG4gICAgICAgICAgICBsZWZ0OiBgJHtjb250ZXh0TWVudS54fXB4YCxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXHJcbiAgICAgICAgICAgIGJveFNoYWRvdzogXCIwcHggMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjgpXCIsXHJcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI1cHhcIixcclxuICAgICAgICAgICAgekluZGV4OiAxMCxcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPHVsPlxyXG4gICAgICAgICAgICA8bGlcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGROb2RlKFwiSWRlYVwiKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgaG92ZXI6YmctZ3JheS0xMDAgY3Vyc29yLXBvaW50ZXJcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgQWRkIElkZWEgTm9kZVxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8bGlcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGROb2RlKFwiQ29udGV4dFwiKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgaG92ZXI6YmctZ3JheS0xMDAgY3Vyc29yLXBvaW50ZXJcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgQWRkIENvbnRleHQgTm9kZVxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8bGlcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGROb2RlKFwiQ29udGVudFwiKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgaG92ZXI6YmctZ3JheS0xMDAgY3Vyc29yLXBvaW50ZXJcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgQWRkIENvbnRlbnQgTm9kZVxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8bGlcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXREZWxldGVNb2RhbFZpc2libGUodHJ1ZSl9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGhvdmVyOmJnLWdyYXktMTAwIGN1cnNvci1wb2ludGVyXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIERlbGV0ZSBOb2RlXHJcbiAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIHtjb21tYW5kcy5tYXAoKHZhbHVlLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgIDxsaVxyXG4gICAgICAgICAgICAgICAga2V5PXtpbmRleH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgc2V0U2hvd0xvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGhhbmRsZUV4ZWN1dGVDb21tYW5kKHZhbHVlLnNlbGVjdCwgdmFsdWUuY29tbWFuZE5hbWUsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgaG92ZXI6YmctZ3JheS0xMDAgY3Vyc29yLXBvaW50ZXJcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHtgUnVuICR7dmFsdWUuY29tbWFuZE5hbWV9IGNvbW1hbmRgfVxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC91bD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgPE1vZGFsXHJcbiAgICAgICAgdGl0bGU9XCJFZGl0IE5vZGUgQ29udGVudFwiXHJcbiAgICAgICAgb3Blbj17ZWRpdE1vZGFsVmlzaWJsZX1cclxuICAgICAgICBvbk9rPXtoYW5kbGVFZGl0U2F2ZX1cclxuICAgICAgICBvbkNhbmNlbD17KCkgPT4gc2V0RWRpdE1vZGFsVmlzaWJsZShmYWxzZSl9XHJcbiAgICAgICAgLy8ga2V5Ym9hcmQ9e3RydWV9XHJcbiAgICAgID5cclxuICAgICAgICA8VGV4dEFyZWFcclxuICAgICAgICAgIHZhbHVlPXtlZGl0ZWRDb250ZW50fVxyXG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcclxuICAgICAgICAgICAgc2V0RWRpdGVkQ29udGVudChlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgYXV0b1NpemU9e3sgbWluUm93czogMiB9fVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvTW9kYWw+XHJcbiAgICAgIDxNb2RhbFxyXG4gICAgICAgIHRpdGxlPVwiRGVsZXRlIE5vZGVcIlxyXG4gICAgICAgIG9wZW49e2RlbGV0ZU1vZGFsVmlzaWJsZX1cclxuICAgICAgICBvbk9rPXtoYW5kbGVEZWxldGVOb2RlfVxyXG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiBzZXREZWxldGVNb2RhbFZpc2libGUoZmFsc2UpfVxyXG4gICAgICAgIGtleWJvYXJkPXt0cnVlfVxyXG4gICAgICA+XHJcbiAgICAgICAgPHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIG5vZGU/PC9wPlxyXG4gICAgICA8L01vZGFsPlxyXG4gICAgICB7c2hvd0xvYWRpbmcgPyAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB3LXNjcmVlbiBoLXNjcmVlbiB0b3AtMCBsZWZ0LTAgZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgZmxleC1jb2wgYmFja2dyb3VuZENvbG9yIHotMjAgZ2FwLVsxMDBweF1cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxMb2FkaW5nT3V0bGluZWQgY2xhc3NOYW1lPVwidGV4dC1bNzVweF0gdGV4dC1bI2ZmZl1cIiAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctWzEyMHB4XSBoLVs0MHB4XSB0ZXh0LVsxOHB4XVwiXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ2FuY2VsKHRydWUpfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgQ2FuY2VsXHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICkgOiAoXHJcbiAgICAgICAgPD48Lz5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNaW5kTWFwO1xyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJqc01pbmQiLCJ1c2VNaW5kTWFwU3RvcmUiLCJMb2FkaW5nT3V0bGluZWQiLCJtZXNzYWdlIiwiTW9kYWwiLCJJbnB1dCIsIkJ1dHRvbiIsIm5vdGlmaWNhdGlvbiIsImF4aW9zIiwiVGV4dEFyZWEiLCJNaW5kTWFwIiwicmVhY3RGbG93V3JhcHBlciIsImptUmVmIiwiY29udGV4dE1lbnVSZWYiLCJpc0NsaWVudCIsInNldElzQ2xpZW50IiwiY29udGV4dE1lbnUiLCJzZXRDb250ZXh0TWVudSIsInZpc2libGUiLCJ4IiwieSIsImNvbW1hbmRzIiwic2V0Q29tbWFuZHMiLCJlZGl0TW9kYWxWaXNpYmxlIiwic2V0RWRpdE1vZGFsVmlzaWJsZSIsImRlbGV0ZU1vZGFsVmlzaWJsZSIsInNldERlbGV0ZU1vZGFsVmlzaWJsZSIsImN1cnJlbnROb2RlIiwic2V0Q3VycmVudE5vZGUiLCJlZGl0ZWRDb250ZW50Iiwic2V0RWRpdGVkQ29udGVudCIsImN1cnJlbnRNaW5kIiwiYWRkTm9kZSIsImRlbGV0ZU5vZGUiLCJpbml0aWFsaXplTWluZE1hcCIsImdldENvbW1hbmRzIiwidXBkYXRlTm9kZUNvbnRlbnQiLCJleGVjdXRlQ29tbWFuZCIsImNvbW1hbmRUb0V4ZWN1dGUiLCJzZXRDb21tYW5kVG9FeGVjdXRlIiwiZ2V0RGF0YXMiLCJzaG93TG9hZGluZyIsInNldFNob3dMb2FkaW5nIiwiY2FuY2VsVG9rZW5Tb3VyY2UiLCJzZXRDYW5jZWxUb2tlblNvdXJjZSIsImdldE1pbmRNYXBEYXRhIiwiY3VycmVudCIsIm1pbmRNYXBEYXRhIiwiZ2V0X2RhdGEiLCJlcnJvciIsImNvbnRlbnQiLCJsb2NhbERhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibm9kZURhdGEiLCJKU09OIiwicGFyc2UiLCJkYXRhIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImxvYWRNaW5kTWFwSW5zdGFuY2UiLCJkb2N1bWVudCIsIm9wdGlvbnMiLCJjb250YWluZXIiLCJlZGl0YWJsZSIsInRoZW1lIiwibGF5b3V0IiwiaHNwYWNlIiwidnNwYWNlIiwicHNwYWNlIiwiZGlyZWN0aW9uIiwibm9kZV9vdmVyZmxvdyIsInZpZXciLCJsaW5lX3dpZHRoIiwibGluZV9jb2xvciIsImRyYWdnYWJsZSIsImptIiwic2hvdyIsImFwcGx5Tm9kZUJhY2tncm91bmRDb2xvcnMiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVDb250ZXh0TWVudSIsImhhbmRsZU5vZGVEb3VibGVDbGljayIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImhhbmRsZUNsaWNrTm9kZSIsImhhbmRsZUtleURvd24iLCJmZXRjaERhdGEiLCJtaW5kRGF0YSIsIndpbmRvdyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVFeGVjdXRlQ29tbWFuZCIsIm5vZGVUeXBlIiwiY29tbWFuZE5hbWUiLCJpbmRleCIsInNlbGVjdGVkTm9kZSIsImdldF9zZWxlY3RlZF9ub2RlIiwic291cmNlIiwiQ2FuY2VsVG9rZW4iLCJpZCIsInRva2VuIiwic2VsZWN0IiwiZmluZEluZGV4IiwiY21kIiwiY29tbWFuZEtleSIsImZvckVhY2giLCJub2RlIiwidHlwZSIsInNldF9ub2RlX2NvbG9yIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBhZ2VYIiwicGFnZVkiLCJjb250YWlucyIsInRhcmdldCIsInRvcGljIiwiaGFuZGxlQWRkTm9kZSIsIm5vZGVJZCIsInRvVXBwZXJDYXNlIiwiRGF0ZSIsImdldFRpbWUiLCJuZXdOb2RlIiwicGFyZW50aWQiLCJpc3Jvb3QiLCJhZGRfbm9kZSIsImhhbmRsZURlbGV0ZU5vZGUiLCJzdWNjZXNzIiwicmVtb3ZlX25vZGUiLCJoYW5kbGVEZWxldGVOb2RlQnlLZXlib2FyZCIsInNlbGVjdGVkTm9kZUlEIiwibm9kZUlEIiwibm9kZXNEYXRhIiwic3RhdHVzIiwiZmlsdGVyIiwiaXRlbSIsImNvbnNvbGUiLCJsb2ciLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJoYW5kbGVFZGl0U2F2ZSIsInVwZGF0ZV9ub2RlIiwib25EcmFnT3ZlciIsImRhdGFUcmFuc2ZlciIsImRyb3BFZmZlY3QiLCJvbkRyb3AiLCJnZXREYXRhIiwiQ29tbWFuZFR5cGUiLCJub2RlQ29udGVudCIsImtleSIsImhhbmRsZUNhbmNlbCIsImNhbmNlbCIsImluZm8iLCJoYW5kbGVUaHJlYWRJZFVwZGF0ZSIsImN1c3RvbUV2ZW50IiwiZXJyb3JTdGF0dXMiLCJkZXRhaWwiLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiYm94U2hhZG93IiwiYm9yZGVyUmFkaXVzIiwiekluZGV4IiwidWwiLCJsaSIsIm9uQ2xpY2siLCJtYXAiLCJ2YWx1ZSIsInRpdGxlIiwib3BlbiIsIm9uT2siLCJvbkNhbmNlbCIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJvbkNoYW5nZSIsImF1dG9TaXplIiwibWluUm93cyIsImtleWJvYXJkIiwicCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Map/MindMap.tsx\n"));

/***/ })

}]);